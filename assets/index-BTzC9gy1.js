(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function h2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ep={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function f2(){if(qb)return bu;qb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return bu.Fragment=e,bu.jsx=n,bu.jsxs=n,bu}var Gb;function d2(){return Gb||(Gb=1,Ep.exports=f2()),Ep.exports}var w=d2(),wp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function m2(){if(Kb)return De;Kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function D(j,re,he){this.props=j,this.context=re,this.refs=N,this.updater=he||A}D.prototype.isReactComponent={},D.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},D.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=D.prototype;function $(j,re,he){this.props=j,this.context=re,this.refs=N,this.updater=he||A}var B=$.prototype=new V;B.constructor=$,C(B,D.prototype),B.isPureReactComponent=!0;var oe=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function O(j,re,he,se,de,Ie){return he=Ie.ref,{$$typeof:t,type:j,key:re,ref:he!==void 0?he:null,props:Ie}}function S(j,re){return O(j.type,re,void 0,void 0,void 0,j.props)}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function L(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return re[he]})}var z=/\/+/g;function F(j,re){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):re.toString(36)}function k(){}function at(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(k,k):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $e(j,re,he,se,de){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var Ee=!1;if(j===null)Ee=!0;else switch(Ie){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(j.$$typeof){case t:case e:Ee=!0;break;case y:return Ee=j._init,$e(Ee(j._payload),re,he,se,de)}}if(Ee)return de=de(j),Ee=se===""?"."+F(j,0):se,oe(de)?(he="",Ee!=null&&(he=Ee.replace(z,"$&/")+"/"),$e(de,re,he,"",function(mn){return mn})):de!=null&&(I(de)&&(de=S(de,he+(de.key==null||j&&j.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+Ee)),re.push(de)),1;Ee=0;var Ve=se===""?".":se+":";if(oe(j))for(var Xe=0;Xe<j.length;Xe++)se=j[Xe],Ie=Ve+F(se,Xe),Ee+=$e(se,re,he,Ie,de);else if(Xe=E(j),typeof Xe=="function")for(j=Xe.call(j),Xe=0;!(se=j.next()).done;)se=se.value,Ie=Ve+F(se,Xe++),Ee+=$e(se,re,he,Ie,de);else if(Ie==="object"){if(typeof j.then=="function")return $e(at(j),re,he,se,de);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function W(j,re,he){if(j==null)return j;var se=[],de=0;return $e(j,se,"","",function(Ie){return re.call(he,Ie,de++)}),se}function ae(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Oe(){}return De.Children={map:W,forEach:function(j,re,he){W(j,function(){re.apply(this,arguments)},he)},count:function(j){var re=0;return W(j,function(){re++}),re},toArray:function(j){return W(j,function(re){return re})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=D,De.Fragment=n,De.Profiler=a,De.PureComponent=$,De.StrictMode=r,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Z.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cloneElement=function(j,re,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var se=C({},j.props),de=j.key,Ie=void 0;if(re!=null)for(Ee in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(de=""+re.key),re)!le.call(re,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&re.ref===void 0||(se[Ee]=re[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=he;else if(1<Ee){for(var Ve=Array(Ee),Xe=0;Xe<Ee;Xe++)Ve[Xe]=arguments[Xe+2];se.children=Ve}return O(j.type,de,void 0,void 0,Ie,se)},De.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},De.createElement=function(j,re,he){var se,de={},Ie=null;if(re!=null)for(se in re.key!==void 0&&(Ie=""+re.key),re)le.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=re[se]);var Ee=arguments.length-2;if(Ee===1)de.children=he;else if(1<Ee){for(var Ve=Array(Ee),Xe=0;Xe<Ee;Xe++)Ve[Xe]=arguments[Xe+2];de.children=Ve}if(j&&j.defaultProps)for(se in Ee=j.defaultProps,Ee)de[se]===void 0&&(de[se]=Ee[se]);return O(j,Ie,void 0,void 0,null,de)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:f,render:j}},De.isValidElement=I,De.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ae}},De.memo=function(j,re){return{$$typeof:p,type:j,compare:re===void 0?null:re}},De.startTransition=function(j){var re=Z.T,he={};Z.T=he;try{var se=j(),de=Z.S;de!==null&&de(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Oe,te)}catch(Ie){te(Ie)}finally{Z.T=re}},De.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},De.use=function(j){return Z.H.use(j)},De.useActionState=function(j,re,he){return Z.H.useActionState(j,re,he)},De.useCallback=function(j,re){return Z.H.useCallback(j,re)},De.useContext=function(j){return Z.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,re){return Z.H.useDeferredValue(j,re)},De.useEffect=function(j,re,he){var se=Z.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(j,re)},De.useId=function(){return Z.H.useId()},De.useImperativeHandle=function(j,re,he){return Z.H.useImperativeHandle(j,re,he)},De.useInsertionEffect=function(j,re){return Z.H.useInsertionEffect(j,re)},De.useLayoutEffect=function(j,re){return Z.H.useLayoutEffect(j,re)},De.useMemo=function(j,re){return Z.H.useMemo(j,re)},De.useOptimistic=function(j,re){return Z.H.useOptimistic(j,re)},De.useReducer=function(j,re,he){return Z.H.useReducer(j,re,he)},De.useRef=function(j){return Z.H.useRef(j)},De.useState=function(j){return Z.H.useState(j)},De.useSyncExternalStore=function(j,re,he){return Z.H.useSyncExternalStore(j,re,he)},De.useTransition=function(){return Z.H.useTransition()},De.version="19.1.0",De}var $b;function Wg(){return $b||($b=1,wp.exports=m2()),wp.exports}var M=Wg();const br=h2(M);var xp={exports:{}},Tu={},Sp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function p2(){return Yb||(Yb=1,function(t){function e(W,ae){var te=W.length;W.push(ae);e:for(;0<te;){var Oe=te-1>>>1,j=W[Oe];if(0<a(j,ae))W[Oe]=ae,W[te]=j,te=Oe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ae=W[0],te=W.pop();if(te!==ae){W[0]=te;e:for(var Oe=0,j=W.length,re=j>>>1;Oe<re;){var he=2*(Oe+1)-1,se=W[he],de=he+1,Ie=W[de];if(0>a(se,te))de<j&&0>a(Ie,se)?(W[Oe]=Ie,W[de]=te,Oe=de):(W[Oe]=se,W[he]=te,Oe=he);else if(de<j&&0>a(Ie,te))W[Oe]=Ie,W[de]=te,Oe=de;else break e}}return ae}function a(W,ae){var te=W.sortIndex-ae.sortIndex;return te!==0?te:W.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,A=!1,C=!1,N=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=W)r(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function Z(W){if(N=!1,oe(W),!C)if(n(m)!==null)C=!0,le||(le=!0,F());else{var ae=n(p);ae!==null&&$e(Z,ae.startTime-W)}}var le=!1,O=-1,S=5,I=-1;function L(){return D?!0:!(t.unstable_now()-I<S)}function z(){if(D=!1,le){var W=t.unstable_now();I=W;var ae=!0;try{e:{C=!1,N&&(N=!1,$(O),O=-1),A=!0;var te=E;try{t:{for(oe(W),_=n(m);_!==null&&!(_.expirationTime>W&&L());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,E=_.priorityLevel;var j=Oe(_.expirationTime<=W);if(W=t.unstable_now(),typeof j=="function"){_.callback=j,oe(W),ae=!0;break t}_===n(m)&&r(m),oe(W)}else r(m);_=n(m)}if(_!==null)ae=!0;else{var re=n(p);re!==null&&$e(Z,re.startTime-W),ae=!1}}break e}finally{_=null,E=te,A=!1}ae=void 0}}finally{ae?F():le=!1}}}var F;if(typeof B=="function")F=function(){B(z)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,at=k.port2;k.port1.onmessage=z,F=function(){at.postMessage(null)}}else F=function(){V(z,0)};function $e(W,ae){O=V(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var te=E;E=ae;try{return W()}finally{E=te}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=E;E=W;try{return ae()}finally{E=te}},t.unstable_scheduleCallback=function(W,ae,te){var Oe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Oe+te:Oe):te=Oe,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=te+j,W={id:y++,callback:ae,priorityLevel:W,startTime:te,expirationTime:j,sortIndex:-1},te>Oe?(W.sortIndex=te,e(p,W),n(m)===null&&W===n(p)&&(N?($(O),O=-1):N=!0,$e(Z,te-Oe))):(W.sortIndex=j,e(m,W),C||A||(C=!0,le||(le=!0,F()))),W},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(W){var ae=E;return function(){var te=E;E=ae;try{return W.apply(this,arguments)}finally{E=te}}}}(Ap)),Ap}var Qb;function g2(){return Qb||(Qb=1,Sp.exports=p2()),Sp.exports}var Rp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function y2(){if(Xb)return an;Xb=1;var t=Wg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},an.requestFormReset=function(m){r.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var Wb;function v2(){if(Wb)return Rp.exports;Wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rp.exports=y2(),Rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function _2(){if(Zb)return Tu;Zb=1;var t=g2(),e=Wg(),n=v2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,x=d.child;x;){if(x===o){T=!0,o=d,u=g;break}if(x===u){T=!0,u=d,o=g;break}x=x.sibling}if(!T){for(x=g.child;x;){if(x===o){T=!0,o=g,u=d;break}if(x===u){T=!0,u=g,o=d;break}x=x.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),B=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function at(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case B:return(i.displayName||"Context")+".Provider";case $:return(i._context.displayName||"Context")+".Consumer";case oe:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:at(i.type)||"Memo";case S:s=i._payload,i=i._init;try{return at(i(s))}catch{}}return null}var $e=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Oe=[],j=-1;function re(i){return{current:i}}function he(i){0>j||(i.current=Oe[j],Oe[j]=null,j--)}function se(i,s){j++,Oe[j]=i.current,i.current=s}var de=re(null),Ie=re(null),Ee=re(null),Ve=re(null);function Xe(i,s){switch(se(Ee,s),se(Ie,i),se(de,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?vb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=vb(s),i=_b(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(de),se(de,i)}function mn(){he(de),he(Ie),he(Ee)}function Rn(i){i.memoizedState!==null&&se(Ve,i);var s=de.current,o=_b(s,i.type);s!==o&&(se(Ie,i),se(de,o))}function Cn(i){Ie.current===i&&(he(de),he(Ie)),Ve.current===i&&(he(Ve),pu._currentValue=te)}var Un=Object.prototype.hasOwnProperty,Ns=t.unstable_scheduleCallback,Ps=t.unstable_cancelCallback,fl=t.unstable_shouldYield,Ac=t.unstable_requestPaint,zn=t.unstable_now,Ed=t.unstable_getCurrentPriorityLevel,dl=t.unstable_ImmediatePriority,Pa=t.unstable_UserBlockingPriority,Ms=t.unstable_NormalPriority,wd=t.unstable_LowPriority,Ma=t.unstable_IdlePriority,ml=t.log,Rc=t.unstable_setDisableYieldValue,mt=null,We=null;function In(i){if(typeof ml=="function"&&Rc(i),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(mt,i)}catch{}}var rn=Math.clz32?Math.clz32:Os,Cc=Math.log,xd=Math.LN2;function Os(i){return i>>>=0,i===0?32:31-(Cc(i)/xd|0)|0}var ks=256,Vs=4194304;function oi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oa(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?d=oi(u):(T&=x,T!==0?d=oi(T):o||(o=x&~i,o!==0&&(d=oi(o))))):(x=u&~g,x!==0?d=oi(x):T!==0?d=oi(T):o||(o=u&~i,o!==0&&(d=oi(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Ls(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function pl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var i=ks;return ks<<=1,(ks&4194048)===0&&(ks=256),i}function yl(){var i=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),i}function Ki(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function $i(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vl(i,s,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,P=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-rn(o),ne=1<<J;x[J]=0,P[J]=-1;var Y=K[J];if(Y!==null)for(K[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}o&=~ne}u!==0&&_i(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function _i(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-rn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function _l(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-rn(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Mr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ka(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Or(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:jb(i.type))}function Ic(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var ot=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ot,At="__reactProps$"+ot,Bn="__reactContainer$"+ot,bl="__reactEvents$"+ot,Sd="__reactListeners$"+ot,kr="__reactHandles$"+ot,Dc="__reactResources$"+ot,js="__reactMarker$"+ot;function Vr(i){delete i[Pt],delete i[At],delete i[bl],delete i[Sd],delete i[kr]}function Yi(i){var s=i[Pt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Bn]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=wb(i);i!==null;){if(o=i[Pt])return o;i=wb(i)}return s}i=o,o=i.parentNode}return null}function bi(i){if(i=i[Pt]||i[Bn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ti(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function pn(i){var s=i[Dc];return s||(s=i[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(i){i[js]=!0}var Tl=new Set,Va={};function li(i,s){Qi(i,s),Qi(i+"Capture",s)}function Qi(i,s){for(Va[i]=s,i=0;i<s.length;i++)Tl.add(s[i])}var Nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},Us={};function Mc(i){return Un.call(Us,i)?!0:Un.call(Pc,i)?!1:Nc.test(i)?Us[i]=!0:(Pc[i]=!0,!1)}function Lr(i,s,o){if(Mc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Ei(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Yt(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var zs,Oc;function Xi(i){if(zs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);zs=s&&s[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+i+Oc}var La=!1;function ja(i,s){if(!i||La)return"";La=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var Y=Q}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(Q){Y=Q}i.call(ne.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],x=g[1];if(T&&x){var P=T.split(`
`),K=x.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===K.length)for(u=P.length-1,d=K.length-1;1<=u&&0<=d&&P[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==K[d]){var J=`
`+P[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{La=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xi(o):""}function El(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return ja(i.type,!1);case 11:return ja(i.type.render,!1);case 1:return ja(i.type,!0);case 31:return Xi("Activity");default:return""}}function Ua(i){try{var s="";do s+=El(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ad(i){var s=wl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function za(i){i._valueTracker||(i._valueTracker=Ad(i))}function xl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=wl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rd=/[\n"\\]/g;function Rt(i){return i.replace(Rd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Dn(i,s,o,u,d,g,T,x){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+gn(s)):i.value!==""+gn(s)&&(i.value=""+gn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?jr(i,T,gn(s)):o!=null?jr(i,T,gn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+gn(x):i.removeAttribute("name")}function Fs(i,s,o,u,d,g,T,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+gn(o):"",s=s!=null?""+gn(s):o,x||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function jr(i,s,o){s==="number"&&Bs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Wi(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function et(i,s,o){if(s!=null&&(s=""+gn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+gn(o):""}function Hs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if($e(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=gn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Fn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||qs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Sl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&kc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&kc(i,g,s[g])}function Al(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Id=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(i){return Id.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Zi=null;function Hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,er=null;function Rl(i){var s=bi(i);if(s&&(i=s.stateNode)){var o=i[At]||null;e:switch(i=s.stateNode,s.type){case"input":if(Dn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[At]||null;if(!d)throw Error(r(90));Dn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&xl(u)}break e;case"textarea":et(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Wi(i,!!o.multiple,s,!1)}}}var wi=!1;function Vc(i,s,o){if(wi)return i(s,o);wi=!0;try{var u=i(s);return u}finally{if(wi=!1,(Ji!==null||er!==null)&&(Ih(),Ji&&(s=Ji,i=er,er=Ji=null,Rl(s),i)))for(s=0;s<i.length;s++)Rl(i[s])}}function Gs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ui)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{qn=!1}var xi=null,Ur=null,tr=null;function Cl(){if(tr)return tr;var i,s=Ur,o=s.length,u,d="value"in xi?xi.value:xi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return tr=d.slice(i,1<u?1-u:void 0)}function Si(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ai(){return!0}function Il(){return!1}function Bt(i){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ai:Il,this.isPropagationStopped=Il,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Bt(Ye),$s=y({},Ye,{view:0,detail:0}),Lc=Bt($s),Ha,qa,Ri,Ys=y({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ri&&(Ri&&i.type==="mousemove"?(Ha=i.screenX-Ri.screenX,qa=i.screenY-Ri.screenY):qa=Ha=0,Ri=i),Ha)},movementY:function(i){return"movementY"in i?i.movementY:qa}}),Gn=Bt(Ys),jc=y({},Ys,{dataTransfer:0}),Dd=Bt(jc),Qs=y({},$s,{relatedTarget:0}),Ga=Bt(Qs),Dl=y({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Bt(Dl),Uc=y({},Ye,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$a=Bt(Uc),Nd=y({},Ye,{data:0}),Nl=Bt(Nd),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Bc[i])?!!s[i]:!1}function Ws(){return Pl}var Fc=y({},$s,{key:function(i){if(i.key){var s=Xs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Si(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?Si(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Si(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ya=Bt(Fc),Hc=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Bt(Hc),nr=y({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),qc=Bt(nr),Gc=y({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=Bt(Gc),$c=y({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Bt($c),yn=y({},Ye,{newState:0,oldState:0}),Yc=Bt(yn),Qc=[9,13,27,32],Ci=ui&&"CompositionEvent"in window,h=null;ui&&"documentMode"in document&&(h=document.documentMode);var v=ui&&"TextEvent"in window&&!h,b=ui&&(!Ci||h&&8<h&&11>=h),R=" ",q=!1;function X(i,s){switch(i){case"keyup":return Qc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Be=!1;function Mt(i,s){switch(i){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(q=!0,R);case"textInput":return i=s.data,i===R&&q?null:i;default:return null}}function Fe(i,s){if(Be)return i==="compositionend"||!Ci&&X(i,s)?(i=Cl(),tr=Ur=xi=null,Be=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ft[i.type]:s==="textarea"}function ir(i,s,o,u){Ji?er?er.push(u):er=[u]:Ji=u,s=kh(s,"onChange"),0<s.length&&(o=new Fa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Qt=null,Ii=null;function Ol(i){db(i,0)}function Xc(i){var s=Ti(i);if(xl(s))return i}function Ov(i,s){if(i==="change")return s}var kv=!1;if(ui){var Pd;if(ui){var Md="oninput"in document;if(!Md){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),Md=typeof Vv.oninput=="function"}Pd=Md}else Pd=!1;kv=Pd&&(!document.documentMode||9<document.documentMode)}function Lv(){Qt&&(Qt.detachEvent("onpropertychange",jv),Ii=Qt=null)}function jv(i){if(i.propertyName==="value"&&Xc(Ii)){var s=[];ir(s,Ii,i,Hn(i)),Vc(Ol,s)}}function BR(i,s,o){i==="focusin"?(Lv(),Qt=s,Ii=o,Qt.attachEvent("onpropertychange",jv)):i==="focusout"&&Lv()}function FR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xc(Ii)}function HR(i,s){if(i==="click")return Xc(s)}function qR(i,s){if(i==="input"||i==="change")return Xc(s)}function GR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nn=typeof Object.is=="function"?Object.is:GR;function kl(i,s){if(Nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Un.call(s,d)||!Nn(i[d],s[d]))return!1}return!0}function Uv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zv(i,s){var o=Uv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uv(o)}}function Bv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Bv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Bs(i.document)}return s}function Od(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var KR=ui&&"documentMode"in document&&11>=document.documentMode,Xa=null,kd=null,Vl=null,Vd=!1;function Hv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vd||Xa==null||Xa!==Bs(u)||(u=Xa,"selectionStart"in u&&Od(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&kl(Vl,u)||(Vl=u,u=kh(kd,"onSelect"),0<u.length&&(s=new Fa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Xa)))}function Zs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Wa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Ld={},qv={};ui&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Js(i){if(Ld[i])return Ld[i];if(!Wa[i])return i;var s=Wa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in qv)return Ld[i]=s[o];return i}var Gv=Js("animationend"),Kv=Js("animationiteration"),$v=Js("animationstart"),$R=Js("transitionrun"),YR=Js("transitionstart"),QR=Js("transitioncancel"),Yv=Js("transitionend"),Qv=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function ci(i,s){Qv.set(i,s),li(s,[i])}var Xv=new WeakMap;function Kn(i,s){if(typeof i=="object"&&i!==null){var o=Xv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ua(s)},Xv.set(i,s),s)}return{value:i,source:s,stack:Ua(s)}}var $n=[],Za=0,Ud=0;function Wc(){for(var i=Za,s=Ud=Za=0;s<i;){var o=$n[s];$n[s++]=null;var u=$n[s];$n[s++]=null;var d=$n[s];$n[s++]=null;var g=$n[s];if($n[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Wv(o,d,g)}}function Zc(i,s,o,u){$n[Za++]=i,$n[Za++]=s,$n[Za++]=o,$n[Za++]=u,Ud|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function zd(i,s,o,u){return Zc(i,s,o,u),Jc(i)}function Ja(i,s){return Zc(i,null,null,s),Jc(i)}function Wv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-rn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Jc(i){if(50<ou)throw ou=0,Km=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var eo={};function XR(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,s,o,u){return new XR(i,s,o,u)}function Bd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rr(i,s){var o=i.alternate;return o===null?(o=Pn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function eh(i,s,o,u,d,g){var T=0;if(u=i,typeof i=="function")Bd(i)&&(T=1);else if(typeof i=="string")T=ZC(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Pn(31,o,s,d),i.elementType=I,i.lanes=g,i;case C:return ea(o.children,d,g,s);case N:T=8,d|=24;break;case D:return i=Pn(12,o,s,d|2),i.elementType=D,i.lanes=g,i;case Z:return i=Pn(13,o,s,d),i.elementType=Z,i.lanes=g,i;case le:return i=Pn(19,o,s,d),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case B:T=10;break e;case $:T=9;break e;case oe:T=11;break e;case O:T=14;break e;case S:T=16,u=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Pn(T,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function ea(i,s,o,u){return i=Pn(7,i,u,s),i.lanes=o,i}function Fd(i,s,o){return i=Pn(6,i,null,s),i.lanes=o,i}function Hd(i,s,o){return s=Pn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var to=[],no=0,th=null,nh=0,Yn=[],Qn=0,ta=null,sr=1,ar="";function na(i,s){to[no++]=nh,to[no++]=th,th=i,nh=s}function Jv(i,s,o){Yn[Qn++]=sr,Yn[Qn++]=ar,Yn[Qn++]=ta,ta=i;var u=sr;i=ar;var d=32-rn(u)-1;u&=~(1<<d),o+=1;var g=32-rn(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,sr=1<<32-rn(s)+d|o<<d|u,ar=g+i}else sr=1<<g|o<<d|u,ar=i}function qd(i){i.return!==null&&(na(i,1),Jv(i,1,0))}function Gd(i){for(;i===th;)th=to[--no],to[no]=null,nh=to[--no],to[no]=null;for(;i===ta;)ta=Yn[--Qn],Yn[Qn]=null,ar=Yn[--Qn],Yn[Qn]=null,sr=Yn[--Qn],Yn[Qn]=null}var vn=null,pt=null,Ke=!1,ia=null,Di=!1,Kd=Error(r(519));function ra(i){var s=Error(r(418,""));throw Ul(Kn(s,i)),Kd}function e0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Pt]=i,s[At]=u,o){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(o=0;o<uu.length;o++)je(uu[o],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Fs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),za(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Hs(s,u.value,u.defaultValue,u.children),za(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||yb(s.textContent,o)?(u.popover!=null&&(je("beforetoggle",s),je("toggle",s)),u.onScroll!=null&&je("scroll",s),u.onScrollEnd!=null&&je("scrollend",s),u.onClick!=null&&(s.onclick=Vh),s=!0):s=!1,s||ra(i)}function t0(i){for(vn=i.return;vn;)switch(vn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:vn=vn.return}}function Ll(i){if(i!==vn)return!1;if(!Ke)return t0(i),Ke=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||lp(i.type,i.memoizedProps)),o=!o),o&&pt&&ra(i),t0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){pt=fi(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}pt=null}}else s===27?(s=pt,ts(i.type)?(i=fp,fp=null,pt=i):pt=s):pt=vn?fi(i.stateNode.nextSibling):null;return!0}function jl(){pt=vn=null,Ke=!1}function n0(){var i=ia;return i!==null&&(En===null?En=i:En.push.apply(En,i),ia=null),i}function Ul(i){ia===null?ia=[i]:ia.push(i)}var $d=re(null),sa=null,or=null;function zr(i,s,o){se($d,s._currentValue),s._currentValue=o}function lr(i){i._currentValue=$d.current,he($d)}function Yd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Qd(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=d;for(var P=0;P<s.length;P++)if(x.context===s[P]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),Yd(g.return,o,i),u||(T=null);break e}g=x.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Yd(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function zl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var x=d.type;Nn(d.pendingProps.value,T.value)||(i!==null?i.push(x):i=[x])}}else if(d===Ve.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(pu):i=[pu])}d=d.return}i!==null&&Qd(s,i,o,u),s.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function aa(i){sa=i,or=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return i0(sa,i)}function rh(i,s){return sa===null&&aa(i),i0(i,s)}function i0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},or===null){if(i===null)throw Error(r(308));or=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else or=or.next=s;return o}var WR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},ZR=t.unstable_scheduleCallback,JR=t.unstable_NormalPriority,kt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new WR,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&ZR(JR,function(){i.controller.abort()})}var Fl=null,Wd=0,io=0,ro=null;function eC(i,s){if(Fl===null){var o=Fl=[];Wd=0,io=Jm(),ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wd++,s.then(r0,r0),s}function r0(){if(--Wd===0&&Fl!==null){ro!==null&&(ro.status="fulfilled");var i=Fl;Fl=null,io=0,ro=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function tC(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var s0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&eC(i,s),s0!==null&&s0(i,s)};var oa=re(null);function Zd(){var i=oa.current;return i!==null?i:st.pooledCache}function sh(i,s){s===null?se(oa,oa.current):se(oa,s.pool)}function a0(){var i=Zd();return i===null?null:{parent:kt._currentValue,pool:i}}var Hl=Error(r(460)),o0=Error(r(474)),ah=Error(r(542)),Jd={then:function(){}};function l0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function oh(){}function u0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(oh,oh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h0(i),i;default:if(typeof s.status=="string")s.then(oh,oh);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h0(i),i}throw ql=s,Hl}}var ql=null;function c0(){if(ql===null)throw Error(r(459));var i=ql;return ql=null,i}function h0(i){if(i===Hl||i===ah)throw Error(r(483))}var Br=!1;function em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Jc(i),Wv(i,null,o),s}return Zc(i,u,s,o),Jc(i)}function Gl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,_l(i,o)}}function nm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var im=!1;function Kl(){if(im){var i=ro;if(i!==null)throw i}}function $l(i,s,o,u){im=!1;var d=i.updateQueue;Br=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var P=x,K=P.next;P.next=null,T===null?g=K:T.next=K,T=P;var J=i.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==T&&(x===null?J.firstBaseUpdate=K:x.next=K,J.lastBaseUpdate=P))}if(g!==null){var ne=d.baseState;T=0,J=K=P=null,x=g;do{var Y=x.lane&-536870913,Q=Y!==x.lane;if(Q?(He&Y)===Y:(u&Y)===Y){Y!==0&&Y===io&&(im=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var xe=i,ve=x;Y=s;var it=o;switch(ve.tag){case 1:if(xe=ve.payload,typeof xe=="function"){ne=xe.call(it,ne,Y);break e}ne=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ve.payload,Y=typeof xe=="function"?xe.call(it,ne,Y):xe,Y==null)break e;ne=y({},ne,Y);break e;case 2:Br=!0}}Y=x.callback,Y!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(K=J=Q,P=ne):J=J.next=Q,T|=Y;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);J===null&&(P=ne),d.baseState=P,d.firstBaseUpdate=K,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Wr|=T,i.lanes=T,i.memoizedState=ne}}function f0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function d0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)f0(o[i],s)}var so=re(null),lh=re(0);function m0(i,s){i=pr,se(lh,i),se(so,s),pr=i|s.baseLanes}function rm(){se(lh,pr),se(so,so.current)}function sm(){pr=lh.current,he(so),he(lh)}var qr=0,Ne=null,tt=null,Ct=null,uh=!1,ao=!1,la=!1,ch=0,Yl=0,oo=null,nC=0;function bt(){throw Error(r(321))}function am(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Nn(i[o],s[o]))return!1;return!0}function om(i,s,o,u,d,g){return qr=g,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?W0:Z0,la=!1,g=o(u,d),la=!1,ao&&(g=g0(s,o,u,d)),p0(i),g}function p0(i){W.H=gh;var s=tt!==null&&tt.next!==null;if(qr=0,Ct=tt=Ne=null,uh=!1,Yl=0,oo=null,s)throw Error(r(300));i===null||Ht||(i=i.dependencies,i!==null&&ih(i)&&(Ht=!0))}function g0(i,s,o,u){Ne=i;var d=0;do{if(ao&&(oo=null),Yl=0,ao=!1,25<=d)throw Error(r(301));if(d+=1,Ct=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=uC,g=s(o,u)}while(ao);return g}function iC(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Ql(s):s,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Ne.flags|=1024),s}function lm(){var i=ch!==0;return ch=0,i}function um(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function cm(i){if(uh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}uh=!1}qr=0,Ct=tt=Ne=null,ao=!1,Yl=ch=0,oo=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function It(){if(tt===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var s=Ct===null?Ne.memoizedState:Ct.next;if(s!==null)Ct=s,tt=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ct===null?Ne.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function hm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var s=Yl;return Yl+=1,oo===null&&(oo=[]),i=u0(oo,i,s),s=Ne,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?W0:Z0),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===B)return sn(i)}throw Error(r(438,String(i)))}function fm(i){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=hm(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=L;return s.index++,o}function ur(i,s){return typeof s=="function"?s(i):s}function fh(i){var s=It();return dm(s,tt,i)}function dm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var x=T=null,P=null,K=s,J=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(He&ne)===ne:(qr&ne)===ne){var Y=K.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===io&&(J=!0);else if((qr&Y)===Y){K=K.next,Y===io&&(J=!0);continue}else ne={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(x=P=ne,T=g):P=P.next=ne,Ne.lanes|=Y,Wr|=Y;ne=K.action,la&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else Y={lane:ne,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(x=P=Y,T=g):P=P.next=Y,Ne.lanes|=ne,Wr|=ne;K=K.next}while(K!==null&&K!==s);if(P===null?T=g:P.next=x,!Nn(g,i.memoizedState)&&(Ht=!0,J&&(o=ro,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=P,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function mm(i){var s=It(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Nn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function y0(i,s,o){var u=Ne,d=It(),g=Ke;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Nn((tt||d).memoizedState,o);T&&(d.memoizedState=o,Ht=!0),d=d.queue;var x=b0.bind(null,u,d,i);if(Xl(2048,8,x,[i]),d.getSnapshot!==s||T||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,lo(9,dh(),_0.bind(null,u,d,o,s),null),st===null)throw Error(r(349));g||(qr&124)!==0||v0(u,s,o)}return o}function v0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=hm(),Ne.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function _0(i,s,o,u){s.value=o,s.getSnapshot=u,T0(s)&&E0(i)}function b0(i,s,o){return o(function(){T0(s)&&E0(i)})}function T0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Nn(i,o)}catch{return!0}}function E0(i){var s=Ja(i,2);s!==null&&Ln(s,i,2)}function pm(i){var s=bn();if(typeof i=="function"){var o=i;if(i=o(),la){In(!0);try{o()}finally{In(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:i},s}function w0(i,s,o,u){return i.baseState=o,dm(i,tt,typeof u=="function"?u:ur)}function rC(i,s,o,u,d){if(ph(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,x0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function x0(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=W.T,T={};W.T=T;try{var x=o(d,u),P=W.S;P!==null&&P(T,x),S0(i,s,x)}catch(K){gm(i,s,K)}finally{W.T=g}}else try{g=o(d,u),S0(i,s,g)}catch(K){gm(i,s,K)}}function S0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){A0(i,s,u)},function(u){return gm(i,s,u)}):A0(i,s,o)}function A0(i,s,o){s.status="fulfilled",s.value=o,R0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,x0(i,o)))}function gm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,R0(s),s=s.next;while(s!==u)}i.action=null}function R0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function C0(i,s){return s}function I0(i,s){if(Ke){var o=st.formState;if(o!==null){e:{var u=Ne;if(Ke){if(pt){t:{for(var d=pt,g=Di;d.nodeType!==8;){if(!g){d=null;break t}if(d=fi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){pt=fi(d.nextSibling),u=d.data==="F!";break e}}ra(u)}u=!1}u&&(s=o[0])}}return o=bn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:s},o.queue=u,o=Y0.bind(null,Ne,u),u.dispatch=o,u=pm(!1),g=Tm.bind(null,Ne,!1,u.queue),u=bn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=rC.bind(null,Ne,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function D0(i){var s=It();return N0(s,tt,i)}function N0(i,s,o){if(s=dm(i,s,C0)[0],i=fh(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ql(s)}catch(T){throw T===Hl?ah:T}else u=s;s=It();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,lo(9,dh(),sC.bind(null,d,o),null)),[u,g,i]}function sC(i,s){i.action=s}function P0(i){var s=It(),o=tt;if(o!==null)return N0(s,o,i);It(),s=s.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function lo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=hm(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function dh(){return{destroy:void 0,resource:void 0}}function M0(){return It().memoizedState}function mh(i,s,o,u){var d=bn();u=u===void 0?null:u,Ne.flags|=i,d.memoizedState=lo(1|s,dh(),o,u)}function Xl(i,s,o,u){var d=It();u=u===void 0?null:u;var g=d.memoizedState.inst;tt!==null&&u!==null&&am(u,tt.memoizedState.deps)?d.memoizedState=lo(s,g,o,u):(Ne.flags|=i,d.memoizedState=lo(1|s,g,o,u))}function O0(i,s){mh(8390656,8,i,s)}function k0(i,s){Xl(2048,8,i,s)}function V0(i,s){return Xl(4,2,i,s)}function L0(i,s){return Xl(4,4,i,s)}function j0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function U0(i,s,o){o=o!=null?o.concat([i]):null,Xl(4,4,j0.bind(null,s,i),o)}function ym(){}function z0(i,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&am(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function B0(i,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&am(s,u[1]))return u[0];if(u=i(),la){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,s],u}function vm(i,s,o){return o===void 0||(qr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=q_(),Ne.lanes|=i,Wr|=i,o)}function F0(i,s,o,u){return Nn(o,s)?o:so.current!==null?(i=vm(i,o,u),Nn(i,s)||(Ht=!0),i):(qr&42)===0?(Ht=!0,i.memoizedState=o):(i=q_(),Ne.lanes|=i,Wr|=i,s)}function H0(i,s,o,u,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var T=W.T,x={};W.T=x,Tm(i,!1,s,o);try{var P=d(),K=W.S;if(K!==null&&K(x,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=tC(P,u);Wl(i,s,J,Vn(i))}else Wl(i,s,u,Vn(i))}catch(ne){Wl(i,s,{then:function(){},status:"rejected",reason:ne},Vn())}finally{ae.p=g,W.T=T}}function aC(){}function _m(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=q0(i).queue;H0(i,d,s,te,o===null?aC:function(){return G0(i),o(u)})}function q0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function G0(i){var s=q0(i).next.queue;Wl(i,s,{},Vn())}function bm(){return sn(pu)}function K0(){return It().memoizedState}function $0(){return It().memoizedState}function oC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();i=Fr(o);var u=Hr(s,i,o);u!==null&&(Ln(u,s,o),Gl(u,s,o)),s={cache:Xd()},i.payload=s;return}s=s.return}}function lC(i,s,o){var u=Vn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?Q0(s,o):(o=zd(i,s,o,u),o!==null&&(Ln(o,i,u),X0(o,s,u)))}function Y0(i,s,o){var u=Vn();Wl(i,s,o,u)}function Wl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))Q0(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,x=g(T,o);if(d.hasEagerState=!0,d.eagerState=x,Nn(x,T))return Zc(i,s,d,0),st===null&&Wc(),!1}catch{}finally{}if(o=zd(i,s,d,u),o!==null)return Ln(o,i,u),X0(o,s,u),!0}return!1}function Tm(i,s,o,u){if(u={lane:2,revertLane:Jm(),action:u,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(s)throw Error(r(479))}else s=zd(i,o,u,2),s!==null&&Ln(s,i,2)}function ph(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function Q0(i,s){ao=uh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function X0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,_l(i,o)}}var gh={readContext:sn,use:hh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},W0={readContext:sn,use:hh,useCallback:function(i,s){return bn().memoizedState=[i,s===void 0?null:s],i},useContext:sn,useEffect:O0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,mh(4194308,4,j0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return mh(4194308,4,i,s)},useInsertionEffect:function(i,s){mh(4,2,i,s)},useMemo:function(i,s){var o=bn();s=s===void 0?null:s;var u=i();if(la){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=bn();if(o!==void 0){var d=o(s);if(la){In(!0);try{o(s)}finally{In(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=lC.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var s=bn();return i={current:i},s.memoizedState=i},useState:function(i){i=pm(i);var s=i.queue,o=Y0.bind(null,Ne,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:ym,useDeferredValue:function(i,s){var o=bn();return vm(o,i,s)},useTransition:function(){var i=pm(!1);return i=H0.bind(null,Ne,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ne,d=bn();if(Ke){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),st===null)throw Error(r(349));(He&124)!==0||v0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,O0(b0.bind(null,u,g,i),[i]),u.flags|=2048,lo(9,dh(),_0.bind(null,u,g,o,s),null),o},useId:function(){var i=bn(),s=st.identifierPrefix;if(Ke){var o=ar,u=sr;o=(u&~(1<<32-rn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=nC++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:bm,useFormState:I0,useActionState:I0,useOptimistic:function(i){var s=bn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tm.bind(null,Ne,!0,o),o.dispatch=s,[i,s]},useMemoCache:fm,useCacheRefresh:function(){return bn().memoizedState=oC.bind(null,Ne)}},Z0={readContext:sn,use:hh,useCallback:z0,useContext:sn,useEffect:k0,useImperativeHandle:U0,useInsertionEffect:V0,useLayoutEffect:L0,useMemo:B0,useReducer:fh,useRef:M0,useState:function(){return fh(ur)},useDebugValue:ym,useDeferredValue:function(i,s){var o=It();return F0(o,tt.memoizedState,i,s)},useTransition:function(){var i=fh(ur)[0],s=It().memoizedState;return[typeof i=="boolean"?i:Ql(i),s]},useSyncExternalStore:y0,useId:K0,useHostTransitionStatus:bm,useFormState:D0,useActionState:D0,useOptimistic:function(i,s){var o=It();return w0(o,tt,i,s)},useMemoCache:fm,useCacheRefresh:$0},uC={readContext:sn,use:hh,useCallback:z0,useContext:sn,useEffect:k0,useImperativeHandle:U0,useInsertionEffect:V0,useLayoutEffect:L0,useMemo:B0,useReducer:mm,useRef:M0,useState:function(){return mm(ur)},useDebugValue:ym,useDeferredValue:function(i,s){var o=It();return tt===null?vm(o,i,s):F0(o,tt.memoizedState,i,s)},useTransition:function(){var i=mm(ur)[0],s=It().memoizedState;return[typeof i=="boolean"?i:Ql(i),s]},useSyncExternalStore:y0,useId:K0,useHostTransitionStatus:bm,useFormState:P0,useActionState:P0,useOptimistic:function(i,s){var o=It();return tt!==null?w0(o,tt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:fm,useCacheRefresh:$0},uo=null,Zl=0;function yh(i){var s=Zl;return Zl+=1,uo===null&&(uo=[]),u0(uo,i,s)}function Jl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function J0(i){var s=i._init;return s(i._payload)}function e_(i){function s(H,U){if(i){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)s(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=rr(H,U),H.index=0,H.sibling=null,H}function g(H,U,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=67108866,U):G):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function x(H,U,G,ee){return U===null||U.tag!==6?(U=Fd(G,H.mode,ee),U.return=H,U):(U=d(U,G),U.return=H,U)}function P(H,U,G,ee){var me=G.type;return me===C?J(H,U,G.props.children,ee,G.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&J0(me)===U.type)?(U=d(U,G.props),Jl(U,G),U.return=H,U):(U=eh(G.type,G.key,G.props,null,H.mode,ee),Jl(U,G),U.return=H,U)}function K(H,U,G,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Hd(G,H.mode,ee),U.return=H,U):(U=d(U,G.children||[]),U.return=H,U)}function J(H,U,G,ee,me){return U===null||U.tag!==7?(U=ea(G,H.mode,ee,me),U.return=H,U):(U=d(U,G),U.return=H,U)}function ne(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Fd(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return G=eh(U.type,U.key,U.props,null,H.mode,G),Jl(G,U),G.return=H,G;case A:return U=Hd(U,H.mode,G),U.return=H,U;case S:var ee=U._init;return U=ee(U._payload),ne(H,U,G)}if($e(U)||F(U))return U=ea(U,H.mode,G,null),U.return=H,U;if(typeof U.then=="function")return ne(H,yh(U),G);if(U.$$typeof===B)return ne(H,rh(H,U),G);vh(H,U)}return null}function Y(H,U,G,ee){var me=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return me!==null?null:x(H,U,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===me?P(H,U,G,ee):null;case A:return G.key===me?K(H,U,G,ee):null;case S:return me=G._init,G=me(G._payload),Y(H,U,G,ee)}if($e(G)||F(G))return me!==null?null:J(H,U,G,ee,null);if(typeof G.then=="function")return Y(H,U,yh(G),ee);if(G.$$typeof===B)return Y(H,U,rh(H,G),ee);vh(H,G)}return null}function Q(H,U,G,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get(G)||null,x(U,H,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return H=H.get(ee.key===null?G:ee.key)||null,P(U,H,ee,me);case A:return H=H.get(ee.key===null?G:ee.key)||null,K(U,H,ee,me);case S:var ke=ee._init;return ee=ke(ee._payload),Q(H,U,G,ee,me)}if($e(ee)||F(ee))return H=H.get(G)||null,J(U,H,ee,me,null);if(typeof ee.then=="function")return Q(H,U,G,yh(ee),me);if(ee.$$typeof===B)return Q(H,U,G,rh(U,ee),me);vh(U,ee)}return null}function xe(H,U,G,ee){for(var me=null,ke=null,ye=U,Te=U=0,Gt=null;ye!==null&&Te<G.length;Te++){ye.index>Te?(Gt=ye,ye=null):Gt=ye.sibling;var Ge=Y(H,ye,G[Te],ee);if(Ge===null){ye===null&&(ye=Gt);break}i&&ye&&Ge.alternate===null&&s(H,ye),U=g(Ge,U,Te),ke===null?me=Ge:ke.sibling=Ge,ke=Ge,ye=Gt}if(Te===G.length)return o(H,ye),Ke&&na(H,Te),me;if(ye===null){for(;Te<G.length;Te++)ye=ne(H,G[Te],ee),ye!==null&&(U=g(ye,U,Te),ke===null?me=ye:ke.sibling=ye,ke=ye);return Ke&&na(H,Te),me}for(ye=u(ye);Te<G.length;Te++)Gt=Q(ye,H,Te,G[Te],ee),Gt!==null&&(i&&Gt.alternate!==null&&ye.delete(Gt.key===null?Te:Gt.key),U=g(Gt,U,Te),ke===null?me=Gt:ke.sibling=Gt,ke=Gt);return i&&ye.forEach(function(as){return s(H,as)}),Ke&&na(H,Te),me}function ve(H,U,G,ee){if(G==null)throw Error(r(151));for(var me=null,ke=null,ye=U,Te=U=0,Gt=null,Ge=G.next();ye!==null&&!Ge.done;Te++,Ge=G.next()){ye.index>Te?(Gt=ye,ye=null):Gt=ye.sibling;var as=Y(H,ye,Ge.value,ee);if(as===null){ye===null&&(ye=Gt);break}i&&ye&&as.alternate===null&&s(H,ye),U=g(as,U,Te),ke===null?me=as:ke.sibling=as,ke=as,ye=Gt}if(Ge.done)return o(H,ye),Ke&&na(H,Te),me;if(ye===null){for(;!Ge.done;Te++,Ge=G.next())Ge=ne(H,Ge.value,ee),Ge!==null&&(U=g(Ge,U,Te),ke===null?me=Ge:ke.sibling=Ge,ke=Ge);return Ke&&na(H,Te),me}for(ye=u(ye);!Ge.done;Te++,Ge=G.next())Ge=Q(ye,H,Te,Ge.value,ee),Ge!==null&&(i&&Ge.alternate!==null&&ye.delete(Ge.key===null?Te:Ge.key),U=g(Ge,U,Te),ke===null?me=Ge:ke.sibling=Ge,ke=Ge);return i&&ye.forEach(function(c2){return s(H,c2)}),Ke&&na(H,Te),me}function it(H,U,G,ee){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var me=G.key;U!==null;){if(U.key===me){if(me=G.type,me===C){if(U.tag===7){o(H,U.sibling),ee=d(U,G.props.children),ee.return=H,H=ee;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&J0(me)===U.type){o(H,U.sibling),ee=d(U,G.props),Jl(ee,G),ee.return=H,H=ee;break e}o(H,U);break}else s(H,U);U=U.sibling}G.type===C?(ee=ea(G.props.children,H.mode,ee,G.key),ee.return=H,H=ee):(ee=eh(G.type,G.key,G.props,null,H.mode,ee),Jl(ee,G),ee.return=H,H=ee)}return T(H);case A:e:{for(me=G.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(H,U.sibling),ee=d(U,G.children||[]),ee.return=H,H=ee;break e}else{o(H,U);break}else s(H,U);U=U.sibling}ee=Hd(G,H.mode,ee),ee.return=H,H=ee}return T(H);case S:return me=G._init,G=me(G._payload),it(H,U,G,ee)}if($e(G))return xe(H,U,G,ee);if(F(G)){if(me=F(G),typeof me!="function")throw Error(r(150));return G=me.call(G),ve(H,U,G,ee)}if(typeof G.then=="function")return it(H,U,yh(G),ee);if(G.$$typeof===B)return it(H,U,rh(H,G),ee);vh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(H,U.sibling),ee=d(U,G),ee.return=H,H=ee):(o(H,U),ee=Fd(G,H.mode,ee),ee.return=H,H=ee),T(H)):o(H,U)}return function(H,U,G,ee){try{Zl=0;var me=it(H,U,G,ee);return uo=null,me}catch(ye){if(ye===Hl||ye===ah)throw ye;var ke=Pn(29,ye,null,H.mode);return ke.lanes=ee,ke.return=H,ke}finally{}}}var co=e_(!0),t_=e_(!1),Xn=re(null),Ni=null;function Gr(i){var s=i.alternate;se(Vt,Vt.current&1),se(Xn,i),Ni===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(Ni=i)}function n_(i){if(i.tag===22){if(se(Vt,Vt.current),se(Xn,i),Ni===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ni=i)}}else Kr()}function Kr(){se(Vt,Vt.current),se(Xn,Xn.current)}function cr(i){he(Xn),Ni===i&&(Ni=null),he(Vt)}var Vt=re(0);function _h(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||hp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Em(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var wm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Vn(),d=Fr(u);d.payload=s,o!=null&&(d.callback=o),s=Hr(i,d,u),s!==null&&(Ln(s,i,u),Gl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Vn(),d=Fr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Hr(i,d,u),s!==null&&(Ln(s,i,u),Gl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Vn(),u=Fr(o);u.tag=2,s!=null&&(u.callback=s),s=Hr(i,u,o),s!==null&&(Ln(s,i,o),Gl(s,i,o))}};function i_(i,s,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!kl(o,u)||!kl(d,g):!0}function r_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&wm.enqueueReplaceState(s,s.state,null)}function ua(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function s_(i){bh(i)}function a_(i){console.error(i)}function o_(i){bh(i)}function Th(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function l_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xm(i,s,o){return o=Fr(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(i,s)},o}function u_(i){return i=Fr(i),i.tag=3,i}function c_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){l_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){l_(s,o,u),typeof d!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function cC(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&zl(s,o,d,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Ni===null?Ym():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Jd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xm(i,u,d)),!1;case 22:return o.flags|=65536,u===Jd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xm(i,u,d)),!1}throw Error(r(435,o.tag))}return Xm(i,u,d),Ym(),!1}if(Ke)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Kd&&(i=Error(r(422),{cause:u}),Ul(Kn(i,o)))):(u!==Kd&&(s=Error(r(423),{cause:u}),Ul(Kn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Kn(u,o),d=xm(i.stateNode,u,d),nm(i,d),gt!==4&&(gt=2)),!1;var g=Error(r(520),{cause:u});if(g=Kn(g,o),au===null?au=[g]:au.push(g),gt!==4&&(gt=2),s===null)return!0;u=Kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=xm(o.stateNode,u,i),nm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=u_(d),c_(d,i,o,u),nm(o,d),!1}o=o.return}while(o!==null);return!1}var h_=Error(r(461)),Ht=!1;function Xt(i,s,o,u){s.child=i===null?t_(s,null,o,u):co(s,i.child,o,u)}function f_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var x in u)x!=="ref"&&(T[x]=u[x])}else T=u;return aa(s),u=om(i,s,o,T,g,d),x=lm(),i!==null&&!Ht?(um(i,s,d),hr(i,s,d)):(Ke&&x&&qd(s),s.flags|=1,Xt(i,s,u,d),s.child)}function d_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Bd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,m_(i,s,g,u,d)):(i=eh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Pm(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:kl,o(T,u)&&i.ref===s.ref)return hr(i,s,d)}return s.flags|=1,i=rr(g,u),i.ref=s.ref,i.return=s,s.child=i}function m_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(kl(g,u)&&i.ref===s.ref)if(Ht=!1,s.pendingProps=u=g,Pm(i,d))(i.flags&131072)!==0&&(Ht=!0);else return s.lanes=i.lanes,hr(i,s,d)}return Sm(i,s,o,u,d)}function p_(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return g_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&sh(s,g!==null?g.cachePool:null),g!==null?m0(s,g):rm(),n_(s);else return s.lanes=s.childLanes=536870912,g_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(sh(s,g.cachePool),m0(s,g),Kr(),s.memoizedState=null):(i!==null&&sh(s,null),rm(),Kr());return Xt(i,s,d,o),s.child}function g_(i,s,o,u){var d=Zd();return d=d===null?null:{parent:kt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&sh(s,null),rm(),n_(s),i!==null&&zl(i,s,u,!0),null}function Eh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Sm(i,s,o,u,d){return aa(s),o=om(i,s,o,u,void 0,d),u=lm(),i!==null&&!Ht?(um(i,s,d),hr(i,s,d)):(Ke&&u&&qd(s),s.flags|=1,Xt(i,s,o,d),s.child)}function y_(i,s,o,u,d,g){return aa(s),s.updateQueue=null,o=g0(s,u,o,d),p0(i),u=lm(),i!==null&&!Ht?(um(i,s,g),hr(i,s,g)):(Ke&&u&&qd(s),s.flags|=1,Xt(i,s,o,g),s.child)}function v_(i,s,o,u,d){if(aa(s),s.stateNode===null){var g=eo,T=o.contextType;typeof T=="object"&&T!==null&&(g=sn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},em(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?sn(T):eo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Em(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&wm.enqueueReplaceState(g,g.state,null),$l(s,u,g,d),Kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var x=s.memoizedProps,P=ua(o,x);g.props=P;var K=g.context,J=o.contextType;T=eo,typeof J=="object"&&J!==null&&(T=sn(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||K!==T)&&r_(s,g,u,T),Br=!1;var Y=s.memoizedState;g.state=Y,$l(s,u,g,d),Kl(),K=s.memoizedState,x||Y!==K||Br?(typeof ne=="function"&&(Em(s,o,ne,u),K=s.memoizedState),(P=Br||i_(s,o,P,u,Y,K,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=T,u=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,tm(i,s),T=s.memoizedProps,J=ua(o,T),g.props=J,ne=s.pendingProps,Y=g.context,K=o.contextType,P=eo,typeof K=="object"&&K!==null&&(P=sn(K)),x=o.getDerivedStateFromProps,(K=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ne||Y!==P)&&r_(s,g,u,P),Br=!1,Y=s.memoizedState,g.state=Y,$l(s,u,g,d),Kl();var Q=s.memoizedState;T!==ne||Y!==Q||Br||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof x=="function"&&(Em(s,o,x,u),Q=s.memoizedState),(J=Br||i_(s,o,J,u,Y,Q,P)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=P,u=J):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Eh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=co(s,i.child,null,d),s.child=co(s,null,o,d)):Xt(i,s,o,d),s.memoizedState=g.state,i=s.child):i=hr(i,s,d),i}function __(i,s,o,u){return jl(),s.flags|=256,Xt(i,s,o,u),s.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rm(i){return{baseLanes:i,cachePool:a0()}}function Cm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Wn),i}function b_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ke){if(d?Gr(s):Kr(),Ke){var x=pt,P;if(P=x){e:{for(P=x,x=Di;P.nodeType!==8;){if(!x){x=null;break e}if(P=fi(P.nextSibling),P===null){x=null;break e}}x=P}x!==null?(s.memoizedState={dehydrated:x,treeContext:ta!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},P=Pn(18,null,null,0),P.stateNode=x,P.return=s,s.child=P,vn=s,pt=null,P=!0):P=!1}P||ra(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return hp(x)?s.lanes=32:s.lanes=536870912,null;cr(s)}return x=u.children,u=u.fallback,d?(Kr(),d=s.mode,x=wh({mode:"hidden",children:x},d),u=ea(u,d,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,d=s.child,d.memoizedState=Rm(o),d.childLanes=Cm(i,T,o),s.memoizedState=Am,u):(Gr(s),Im(s,x))}if(P=i.memoizedState,P!==null&&(x=P.dehydrated,x!==null)){if(g)s.flags&256?(Gr(s),s.flags&=-257,s=Dm(i,s,o)):s.memoizedState!==null?(Kr(),s.child=i.child,s.flags|=128,s=null):(Kr(),d=u.fallback,x=s.mode,u=wh({mode:"visible",children:u.children},x),d=ea(d,x,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,co(s,i.child,null,o),u=s.child,u.memoizedState=Rm(o),u.childLanes=Cm(i,T,o),s.memoizedState=Am,s=d);else if(Gr(s),hp(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(r(419)),u.stack="",u.digest=T,Ul({value:u,source:null,stack:null}),s=Dm(i,s,o)}else if(Ht||zl(i,s,o,!1),T=(o&i.childLanes)!==0,Ht||T){if(T=st,T!==null&&(u=o&-o,u=(u&42)!==0?1:Mr(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,Ja(i,u),Ln(T,i,u),h_;x.data==="$?"||Ym(),s=Dm(i,s,o)}else x.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,pt=fi(x.nextSibling),vn=s,Ke=!0,ia=null,Di=!1,i!==null&&(Yn[Qn++]=sr,Yn[Qn++]=ar,Yn[Qn++]=ta,sr=i.id,ar=i.overflow,ta=s),s=Im(s,u.children),s.flags|=4096);return s}return d?(Kr(),d=u.fallback,x=s.mode,P=i.child,K=P.sibling,u=rr(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,K!==null?d=rr(K,d):(d=ea(d,x,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,x=i.child.memoizedState,x===null?x=Rm(o):(P=x.cachePool,P!==null?(K=kt._currentValue,P=P.parent!==K?{parent:K,pool:K}:P):P=a0(),x={baseLanes:x.baseLanes|o,cachePool:P}),d.memoizedState=x,d.childLanes=Cm(i,T,o),s.memoizedState=Am,u):(Gr(s),o=i.child,i=o.sibling,o=rr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Im(i,s){return s=wh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function wh(i,s){return i=Pn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dm(i,s,o){return co(s,i.child,null,o),i=Im(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function T_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Yd(i.return,s,o)}function Nm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function E_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Xt(i,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&T_(i,o,s);else if(i.tag===19)T_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(se(Vt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Nm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&_h(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Nm(s,!0,o,null,g);break;case"together":Nm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Wr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(zl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=rr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=rr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Pm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function hC(i,s,o){switch(s.tag){case 3:Xe(s,s.stateNode.containerInfo),zr(s,kt,i.memoizedState.cache),jl();break;case 27:case 5:Rn(s);break;case 4:Xe(s,s.stateNode.containerInfo);break;case 10:zr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Gr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?b_(i,s,o):(Gr(s),i=hr(i,s,o),i!==null?i.sibling:null);Gr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(zl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return E_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,p_(i,s,o);case 24:zr(s,kt,i.memoizedState.cache)}return hr(i,s,o)}function w_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Pm(i,o)&&(s.flags&128)===0)return Ht=!1,hC(i,s,o);Ht=(i.flags&131072)!==0}else Ht=!1,Ke&&(s.flags&1048576)!==0&&Jv(s,nh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Bd(u)?(i=ua(u,i),s.tag=1,s=v_(null,s,u,i,o)):(s.tag=0,s=Sm(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===oe){s.tag=11,s=f_(null,s,u,i,o);break e}else if(d===O){s.tag=14,s=d_(null,s,u,i,o);break e}}throw s=at(u)||u,Error(r(306,s,""))}}return s;case 0:return Sm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ua(u,s.pendingProps),v_(i,s,u,d,o);case 3:e:{if(Xe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,tm(i,s),$l(s,u,null,o);var T=s.memoizedState;if(u=T.cache,zr(s,kt,u),u!==g.cache&&Qd(s,[kt],o,!0),Kl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=__(i,s,u,o);break e}else if(u!==d){d=Kn(Error(r(424)),s),Ul(d),s=__(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=fi(i.firstChild),vn=s,Ke=!0,ia=null,Di=!0,o=t_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jl(),u===d){s=hr(i,s,o);break e}Xt(i,s,u,o)}s=s.child}return s;case 26:return Eh(i,s),i===null?(o=Rb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,i=s.pendingProps,u=Lh(Ee.current).createElement(o),u[Pt]=s,u[At]=i,Zt(u,o,i),_t(u),s.stateNode=u):s.memoizedState=Rb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Rn(s),i===null&&Ke&&(u=s.stateNode=xb(s.type,s.pendingProps,Ee.current),vn=s,Di=!0,d=pt,ts(s.type)?(fp=d,pt=fi(u.firstChild)):pt=d),Xt(i,s,s.pendingProps.children,o),Eh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ke&&((d=u=pt)&&(u=UC(u,s.type,s.pendingProps,Di),u!==null?(s.stateNode=u,vn=s,pt=fi(u.firstChild),Di=!1,d=!0):d=!1),d||ra(s)),Rn(s),d=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,lp(d,g)?u=null:T!==null&&lp(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=om(i,s,iC,null,null,o),pu._currentValue=d),Eh(i,s),Xt(i,s,u,o),s.child;case 6:return i===null&&Ke&&((i=o=pt)&&(o=zC(o,s.pendingProps,Di),o!==null?(s.stateNode=o,vn=s,pt=null,i=!0):i=!1),i||ra(s)),null;case 13:return b_(i,s,o);case 4:return Xe(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=co(s,null,u,o):Xt(i,s,u,o),s.child;case 11:return f_(i,s,s.type,s.pendingProps,o);case 7:return Xt(i,s,s.pendingProps,o),s.child;case 8:return Xt(i,s,s.pendingProps.children,o),s.child;case 12:return Xt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,zr(s,s.type,u.value),Xt(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,aa(s),d=sn(d),u=u(d),s.flags|=1,Xt(i,s,u,o),s.child;case 14:return d_(i,s,s.type,s.pendingProps,o);case 15:return m_(i,s,s.type,s.pendingProps,o);case 19:return E_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=wh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=rr(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return p_(i,s,o);case 24:return aa(s),u=sn(kt),i===null?(d=Zd(),d===null&&(d=st,g=Xd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},em(s),zr(s,kt,d)):((i.lanes&o)!==0&&(tm(i,s),$l(s,null,null,o),Kl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zr(s,kt,u)):(u=g.cache,zr(s,kt,u),u!==d.cache&&Qd(s,[kt],o,!0))),Xt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fr(i){i.flags|=4}function x_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Pb(s)){if(s=Xn.current,s!==null&&((He&4194048)===He?Ni!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Ni))throw ql=Jd,o0;i.flags|=8192}}function xh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?yl():536870912,i.lanes|=s,po|=s)}function eu(i,s){if(!Ke)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ct(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function fC(i,s,o){var u=s.pendingProps;switch(Gd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),lr(kt),mn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ll(s)?fr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,n0())),ct(s),null;case 26:return o=s.memoizedState,i===null?(fr(s),o!==null?(ct(s),x_(s,o)):(ct(s),s.flags&=-16777217)):o?o!==i.memoizedState?(fr(s),ct(s),x_(s,o)):(ct(s),s.flags&=-16777217):(i.memoizedProps!==u&&fr(s),ct(s),s.flags&=-16777217),null;case 27:Cn(s),o=Ee.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ct(s),null}i=de.current,Ll(s)?e0(s):(i=xb(d,u,o),s.stateNode=i,fr(s))}return ct(s),null;case 5:if(Cn(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(i=de.current,Ll(s))e0(s);else{switch(d=Lh(Ee.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Pt]=s,i[At]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(Zt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fr(s)}}return ct(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&fr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ee.current,Ll(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=vn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Pt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yb(i.nodeValue,o)),i||ra(s)}else i=Lh(i).createTextNode(u),i[Pt]=s,s.stateNode=i}return ct(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ll(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Pt]=s}else jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),d=!1}else d=n0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(cr(s),s):(cr(s),null)}if(cr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),xh(s,s.updateQueue),ct(s),null;case 4:return mn(),i===null&&ip(s.stateNode.containerInfo),ct(s),null;case 10:return lr(s.type),ct(s),null;case 19:if(he(Vt),d=s.memoizedState,d===null)return ct(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)eu(d,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=_h(i),g!==null){for(s.flags|=128,eu(d,!1),i=g.updateQueue,s.updateQueue=i,xh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Zv(o,i),o=o.sibling;return se(Vt,Vt.current&1|2),s.child}i=i.sibling}d.tail!==null&&zn()>Rh&&(s.flags|=128,u=!0,eu(d,!1),s.lanes=4194304)}else{if(!u)if(i=_h(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,xh(s,i),eu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ke)return ct(s),null}else 2*zn()-d.renderingStartTime>Rh&&o!==536870912&&(s.flags|=128,u=!0,eu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=zn(),s.sibling=null,i=Vt.current,se(Vt,u?i&1|2:i&1),s):(ct(s),null);case 22:case 23:return cr(s),sm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),o=s.updateQueue,o!==null&&xh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&he(oa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),lr(kt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dC(i,s){switch(Gd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return lr(kt),mn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Cn(s),null;case 13:if(cr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));jl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return he(Vt),null;case 4:return mn(),null;case 10:return lr(s.type),null;case 22:case 23:return cr(s),sm(),i!==null&&he(oa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return lr(kt),null;case 25:return null;default:return null}}function S_(i,s){switch(Gd(s),s.tag){case 3:lr(kt),mn();break;case 26:case 27:case 5:Cn(s);break;case 4:mn();break;case 13:cr(s);break;case 19:he(Vt);break;case 10:lr(s.type);break;case 22:case 23:cr(s),sm(),i!==null&&he(oa);break;case 24:lr(kt)}}function tu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(x){rt(s,s.return,x)}}function $r(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,d=s;var P=o,K=x;try{K()}catch(J){rt(d,P,J)}}}u=u.next}while(u!==g)}}catch(J){rt(s,s.return,J)}}function A_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{d0(s,o)}catch(u){rt(i,i.return,u)}}}function R_(i,s,o){o.props=ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){rt(i,s,u)}}function nu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){rt(i,s,d)}}function Pi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){rt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){rt(i,s,d)}else o.current=null}function C_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){rt(i,i.return,d)}}function Mm(i,s,o){try{var u=i.stateNode;OC(u,i.type,o,s),u[At]=s}catch(d){rt(i,i.return,d)}}function I_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ts(i.type)||i.tag===4}function Om(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||I_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ts(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function km(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Vh));else if(u!==4&&(u===27&&ts(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(km(i,s,o),i=i.sibling;i!==null;)km(i,s,o),i=i.sibling}function Sh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ts(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Sh(i,s,o),i=i.sibling;i!==null;)Sh(i,s,o),i=i.sibling}function D_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Zt(s,u,o),s[Pt]=i,s[At]=o}catch(g){rt(i,i.return,g)}}var dr=!1,Tt=!1,Vm=!1,N_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function mC(i,s){if(i=i.containerInfo,ap=Hh,i=Fv(i),Od(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,x=-1,P=-1,K=0,J=0,ne=i,Y=null;t:for(;;){for(var Q;ne!==o||d!==0&&ne.nodeType!==3||(x=T+d),ne!==g||u!==0&&ne.nodeType!==3||(P=T+u),ne.nodeType===3&&(T+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)Y=ne,ne=Q;for(;;){if(ne===i)break t;if(Y===o&&++K===d&&(x=T),Y===g&&++J===u&&(P=T),(Q=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=Q}o=x===-1||P===-1?null:{start:x,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(op={focusedElem:i,selectionRange:o},Hh=!1,qt=s;qt!==null;)if(s=qt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,qt=i;else for(;qt!==null;){switch(s=qt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var xe=ua(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(xe,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){rt(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)cp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qt=i;break}qt=s.return}}function P_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Yr(i,o),u&4&&tu(5,o);break;case 1:if(Yr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){rt(o,o.return,T)}else{var d=ua(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(o,o.return,T)}}u&64&&A_(o),u&512&&nu(o,o.return);break;case 3:if(Yr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d0(i,s)}catch(T){rt(o,o.return,T)}}break;case 27:s===null&&u&4&&D_(o);case 26:case 5:Yr(i,o),s===null&&u&4&&C_(o),u&512&&nu(o,o.return);break;case 12:Yr(i,o);break;case 13:Yr(i,o),u&4&&k_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=wC.bind(null,o),BC(i,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){s=s!==null&&s.memoizedState!==null||Tt,d=dr;var g=Tt;dr=u,(Tt=s)&&!g?Qr(i,o,(o.subtreeFlags&8772)!==0):Yr(i,o),dr=d,Tt=g}break;case 30:break;default:Yr(i,o)}}function M_(i){var s=i.alternate;s!==null&&(i.alternate=null,M_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Vr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,Tn=!1;function mr(i,s,o){for(o=o.child;o!==null;)O_(i,s,o),o=o.sibling}function O_(i,s,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(mt,o)}catch{}switch(o.tag){case 26:Tt||Pi(o,s),mr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||Pi(o,s);var u=lt,d=Tn;ts(o.type)&&(lt=o.stateNode,Tn=!1),mr(i,s,o),hu(o.stateNode),lt=u,Tn=d;break;case 5:Tt||Pi(o,s);case 6:if(u=lt,d=Tn,lt=null,mr(i,s,o),lt=u,Tn=d,lt!==null)if(Tn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(g){rt(o,s,g)}else try{lt.removeChild(o.stateNode)}catch(g){rt(o,s,g)}break;case 18:lt!==null&&(Tn?(i=lt,Eb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),_u(i)):Eb(lt,o.stateNode));break;case 4:u=lt,d=Tn,lt=o.stateNode.containerInfo,Tn=!0,mr(i,s,o),lt=u,Tn=d;break;case 0:case 11:case 14:case 15:Tt||$r(2,o,s),Tt||$r(4,o,s),mr(i,s,o);break;case 1:Tt||(Pi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&R_(o,s,u)),mr(i,s,o);break;case 21:mr(i,s,o);break;case 22:Tt=(u=Tt)||o.memoizedState!==null,mr(i,s,o),Tt=u;break;default:mr(i,s,o)}}function k_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_u(i)}catch(o){rt(s,s.return,o)}}function pC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new N_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new N_),s;default:throw Error(r(435,i.tag))}}function Lm(i,s){var o=pC(i);s.forEach(function(u){var d=xC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Mn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=s,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(ts(x.type)){lt=x.stateNode,Tn=!1;break e}break;case 5:lt=x.stateNode,Tn=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,Tn=!0;break e}x=x.return}if(lt===null)throw Error(r(160));O_(g,T,d),lt=null,Tn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)V_(s,i),s=s.sibling}var hi=null;function V_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mn(s,i),On(i),u&4&&($r(3,i,i.return),tu(3,i),$r(5,i,i.return));break;case 1:Mn(s,i),On(i),u&512&&(Tt||o===null||Pi(o,o.return)),u&64&&dr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=hi;if(Mn(s,i),On(i),u&512&&(Tt||o===null||Pi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[js]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Zt(g,u,o),g[Pt]=i,_t(g),u=g;break e;case"link":var T=Db("link","href",d).get(u+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(g=T[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;case"meta":if(T=Db("meta","content",d).get(u+(o.content||""))){for(x=0;x<T.length;x++)if(g=T[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Pt]=i,_t(g),u=g}i.stateNode=u}else Nb(d,i.type,i.stateNode);else i.stateNode=Ib(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Nb(d,i.type,i.stateNode):Ib(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Mm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,i),On(i),u&512&&(Tt||o===null||Pi(o,o.return)),o!==null&&u&4&&Mm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,i),On(i),u&512&&(Tt||o===null||Pi(o,o.return)),i.flags&32){d=i.stateNode;try{Fn(d,"")}catch(Q){rt(i,i.return,Q)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Mm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Vm=!0);break;case 6:if(Mn(s,i),On(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){rt(i,i.return,Q)}}break;case 3:if(zh=null,d=hi,hi=jh(s.containerInfo),Mn(s,i),hi=d,On(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_u(s.containerInfo)}catch(Q){rt(i,i.return,Q)}Vm&&(Vm=!1,L_(i));break;case 4:u=hi,hi=jh(i.stateNode.containerInfo),Mn(s,i),On(i),hi=u;break;case 12:Mn(s,i),On(i);break;case 13:Mn(s,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hm=zn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lm(i,u)));break;case 22:d=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,K=dr,J=Tt;if(dr=K||d,Tt=J||P,Mn(s,i),Tt=J,dr=K,On(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||P||dr||Tt||ca(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(g=P.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=P.stateNode;var ne=P.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){rt(P,P.return,Q)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(Q){rt(P,P.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Lm(i,o))));break;case 19:Mn(s,i),On(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lm(i,u)));break;case 30:break;case 21:break;default:Mn(s,i),On(i)}}function On(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(I_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Om(i);Sh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Fn(T,""),o.flags&=-33);var x=Om(i);Sh(i,x,T);break;case 3:case 4:var P=o.stateNode.containerInfo,K=Om(i);km(i,K,P);break;default:throw Error(r(161))}}catch(J){rt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function L_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;L_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Yr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)P_(i,s.alternate,s),s=s.sibling}function ca(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:$r(4,s,s.return),ca(s);break;case 1:Pi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&R_(s,s.return,o),ca(s);break;case 27:hu(s.stateNode);case 26:case 5:Pi(s,s.return),ca(s);break;case 22:s.memoizedState===null&&ca(s);break;case 30:ca(s);break;default:ca(s)}i=i.sibling}}function Qr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Qr(d,g,o),tu(4,g);break;case 1:if(Qr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){rt(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var x=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)f0(P[d],x)}catch(K){rt(u,u.return,K)}}o&&T&64&&A_(g),nu(g,g.return);break;case 27:D_(g);case 26:case 5:Qr(d,g,o),o&&u===null&&T&4&&C_(g),nu(g,g.return);break;case 12:Qr(d,g,o);break;case 13:Qr(d,g,o),o&&T&4&&k_(d,g);break;case 22:g.memoizedState===null&&Qr(d,g,o),nu(g,g.return);break;case 30:break;default:Qr(d,g,o)}s=s.sibling}}function jm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function Um(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i))}function Mi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j_(i,s,o,u),s=s.sibling}function j_(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(i,s,o,u),d&2048&&tu(9,s);break;case 1:Mi(i,s,o,u);break;case 3:Mi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i)));break;case 12:if(d&2048){Mi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,x=g.onPostCommit;typeof x=="function"&&x(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){rt(s,s.return,P)}}else Mi(i,s,o,u);break;case 13:Mi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Mi(i,s,o,u):iu(i,s):g._visibility&2?Mi(i,s,o,u):(g._visibility|=2,ho(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&jm(T,s);break;case 24:Mi(i,s,o,u),d&2048&&Um(s.alternate,s);break;default:Mi(i,s,o,u)}}function ho(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,T=s,x=o,P=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:ho(g,T,x,P,d),tu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?ho(g,T,x,P,d):iu(g,T):(J._visibility|=2,ho(g,T,x,P,d)),d&&K&2048&&jm(T.alternate,T);break;case 24:ho(g,T,x,P,d),d&&K&2048&&Um(T.alternate,T);break;default:ho(g,T,x,P,d)}s=s.sibling}}function iu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:iu(o,u),d&2048&&jm(u.alternate,u);break;case 24:iu(o,u),d&2048&&Um(u.alternate,u);break;default:iu(o,u)}s=s.sibling}}var ru=8192;function fo(i){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)U_(i),i=i.sibling}function U_(i){switch(i.tag){case 26:fo(i),i.flags&ru&&i.memoizedState!==null&&e2(hi,i.memoizedState,i.memoizedProps);break;case 5:fo(i);break;case 3:case 4:var s=hi;hi=jh(i.stateNode.containerInfo),fo(i),hi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ru,ru=16777216,fo(i),ru=s):fo(i));break;default:fo(i)}}function z_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function su(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,F_(u,i)}z_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B_(i),i=i.sibling}function B_(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&$r(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ah(i)):su(i);break;default:su(i)}}function Ah(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,F_(u,i)}z_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:$r(8,s,s.return),Ah(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ah(s));break;default:Ah(s)}i=i.sibling}}function F_(i,s){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:$r(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=i;qt!==null;){u=qt;var d=u.sibling,g=u.return;if(M_(u),u===o){qt=null;break e}if(d!==null){d.return=g,qt=d;break e}qt=g}}}var gC={getCacheForType:function(i){var s=sn(kt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},yC=typeof WeakMap=="function"?WeakMap:Map,Ze=0,st=null,Le=null,He=0,Je=0,kn=null,Xr=!1,mo=!1,zm=!1,pr=0,gt=0,Wr=0,ha=0,Bm=0,Wn=0,po=0,au=null,En=null,Fm=!1,Hm=0,Rh=1/0,Ch=null,Zr=null,Wt=0,Jr=null,go=null,yo=0,qm=0,Gm=null,H_=null,ou=0,Km=null;function Vn(){if((Ze&2)!==0&&He!==0)return He&-He;if(W.T!==null){var i=io;return i!==0?i:Jm()}return Or()}function q_(){Wn===0&&(Wn=(He&536870912)===0||Ke?gl():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),Wn}function Ln(i,s,o){(i===st&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(vo(i,0),es(i,He,Wn,!1)),$i(i,o),((Ze&2)===0||i!==st)&&(i===st&&((Ze&2)===0&&(ha|=o),gt===4&&es(i,He,Wn,!1)),Oi(i))}function G_(i,s,o){if((Ze&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Ls(i,s),d=u?bC(i,s):Qm(i,s,!0),g=u;do{if(d===0){mo&&!u&&es(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!vC(o)){d=Qm(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var x=i;d=au;var P=x.current.memoizedState.isDehydrated;if(P&&(vo(x,T).flags|=256),T=Qm(x,T,!1),T!==2){if(zm&&!P){x.errorRecoveryDisabledLanes|=g,ha|=g,d=4;break e}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){vo(i,0),es(i,s,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:es(u,s,Wn,!Xr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Hm+300-zn(),10<d)){if(es(u,s,Wn,!Xr),Oa(u,0,!0)!==0)break e;u.timeoutHandle=bb(K_.bind(null,u,o,En,Ch,Fm,s,Wn,ha,po,Xr,g,2,-0,0),d);break e}K_(u,o,En,Ch,Fm,s,Wn,ha,po,Xr,g,0,-0,0)}}break}while(!0);Oi(i)}function K_(i,s,o,u,d,g,T,x,P,K,J,ne,Y,Q){if(i.timeoutHandle=-1,ne=s.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(mu={stylesheets:null,count:0,unsuspend:JC},U_(s),ne=t2(),ne!==null)){i.cancelPendingCommit=ne(J_.bind(null,i,s,g,o,u,d,T,x,P,J,1,Y,Q)),es(i,g,T,!K);return}J_(i,s,g,o,u,d,T,x,P)}function vC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Nn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(i,s,o,u){s&=~Bm,s&=~ha,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-rn(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&_i(i,o,s)}function Ih(){return(Ze&6)===0?(lu(0),!1):!0}function $m(){if(Le!==null){if(Je===0)var i=Le.return;else i=Le,or=sa=null,cm(i),uo=null,Zl=0,i=Le;for(;i!==null;)S_(i.alternate,i),i=i.return;Le=null}}function vo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),$m(),st=i,Le=o=rr(i.current,null),He=s,Je=0,kn=null,Xr=!1,mo=Ls(i,s),zm=!1,po=Wn=Bm=ha=Wr=gt=0,En=au=null,Fm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-rn(u),g=1<<d;s|=i[d],u&=~g}return pr=s,Wc(),o}function $_(i,s){Ne=null,W.H=gh,s===Hl||s===ah?(s=c0(),Je=3):s===o0?(s=c0(),Je=4):Je=s===h_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Le===null&&(gt=1,Th(i,Kn(s,i.current)))}function Y_(){var i=W.H;return W.H=gh,i===null?gh:i}function Q_(){var i=W.A;return W.A=gC,i}function Ym(){gt=4,Xr||(He&4194048)!==He&&Xn.current!==null||(mo=!0),(Wr&134217727)===0&&(ha&134217727)===0||st===null||es(st,He,Wn,!1)}function Qm(i,s,o){var u=Ze;Ze|=2;var d=Y_(),g=Q_();(st!==i||He!==s)&&(Ch=null,vo(i,s)),s=!1;var T=gt;e:do try{if(Je!==0&&Le!==null){var x=Le,P=kn;switch(Je){case 8:$m(),T=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var K=Je;if(Je=0,kn=null,_o(i,x,P,K),o&&mo){T=0;break e}break;default:K=Je,Je=0,kn=null,_o(i,x,P,K)}}_C(),T=gt;break}catch(J){$_(i,J)}while(!0);return s&&i.shellSuspendCounter++,or=sa=null,Ze=u,W.H=d,W.A=g,Le===null&&(st=null,He=0,Wc()),T}function _C(){for(;Le!==null;)X_(Le)}function bC(i,s){var o=Ze;Ze|=2;var u=Y_(),d=Q_();st!==i||He!==s?(Ch=null,Rh=zn()+500,vo(i,s)):mo=Ls(i,s);e:do try{if(Je!==0&&Le!==null){s=Le;var g=kn;t:switch(Je){case 1:Je=0,kn=null,_o(i,s,g,1);break;case 2:case 9:if(l0(g)){Je=0,kn=null,W_(s);break}s=function(){Je!==2&&Je!==9||st!==i||(Je=7),Oi(i)},g.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:l0(g)?(Je=0,kn=null,W_(s)):(Je=0,kn=null,_o(i,s,g,7));break;case 5:var T=null;switch(Le.tag){case 26:T=Le.memoizedState;case 5:case 27:var x=Le;if(!T||Pb(T)){Je=0,kn=null;var P=x.sibling;if(P!==null)Le=P;else{var K=x.return;K!==null?(Le=K,Dh(K)):Le=null}break t}}Je=0,kn=null,_o(i,s,g,5);break;case 6:Je=0,kn=null,_o(i,s,g,6);break;case 8:$m(),gt=6;break e;default:throw Error(r(462))}}TC();break}catch(J){$_(i,J)}while(!0);return or=sa=null,W.H=u,W.A=d,Ze=o,Le!==null?0:(st=null,He=0,Wc(),gt)}function TC(){for(;Le!==null&&!fl();)X_(Le)}function X_(i){var s=w_(i.alternate,i,pr);i.memoizedProps=i.pendingProps,s===null?Dh(i):Le=s}function W_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=y_(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=y_(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:cm(s);default:S_(o,s),s=Le=Zv(s,pr),s=w_(o,s,pr)}i.memoizedProps=i.pendingProps,s===null?Dh(i):Le=s}function _o(i,s,o,u){or=sa=null,cm(s),uo=null,Zl=0;var d=s.return;try{if(cC(i,d,s,o,He)){gt=1,Th(i,Kn(o,i.current)),Le=null;return}}catch(g){if(d!==null)throw Le=d,g;gt=1,Th(i,Kn(o,i.current)),Le=null;return}s.flags&32768?(Ke||u===1?i=!0:mo||(He&536870912)!==0?i=!1:(Xr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z_(s,i)):Dh(s)}function Dh(i){var s=i;do{if((s.flags&32768)!==0){Z_(s,Xr);return}i=s.return;var o=fC(s.alternate,s,pr);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);gt===0&&(gt=5)}function Z_(i,s){do{var o=dC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);gt=6,Le=null}function J_(i,s,o,u,d,g,T,x,P){i.cancelPendingCommit=null;do Nh();while(Wt!==0);if((Ze&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Ud,vl(i,o,g,T,x,P),i===st&&(Le=st=null,He=0),go=s,Jr=i,yo=o,qm=g,Gm=d,H_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,SC(Ms,function(){return rb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=ae.p,ae.p=2,T=Ze,Ze|=4;try{mC(i,s,o)}finally{Ze=T,ae.p=d,W.T=u}}Wt=1,eb(),tb(),nb()}}function eb(){if(Wt===1){Wt=0;var i=Jr,s=go,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=Ze;Ze|=4;try{V_(s,i);var g=op,T=Fv(i.containerInfo),x=g.focusedElem,P=g.selectionRange;if(T!==x&&x&&x.ownerDocument&&Bv(x.ownerDocument.documentElement,x)){if(P!==null&&Od(x)){var K=P.start,J=P.end;if(J===void 0&&(J=K),"selectionStart"in x)x.selectionStart=K,x.selectionEnd=Math.min(J,x.value.length);else{var ne=x.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),xe=x.textContent.length,ve=Math.min(P.start,xe),it=P.end===void 0?ve:Math.min(P.end,xe);!Q.extend&&ve>it&&(T=it,it=ve,ve=T);var H=zv(x,ve),U=zv(x,it);if(H&&U&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var G=ne.createRange();G.setStart(H.node,H.offset),Q.removeAllRanges(),ve>it?(Q.addRange(G),Q.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Q.addRange(G))}}}}for(ne=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ne.length;x++){var ee=ne[x];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Hh=!!ap,op=ap=null}finally{Ze=d,ae.p=u,W.T=o}}i.current=s,Wt=2}}function tb(){if(Wt===2){Wt=0;var i=Jr,s=go,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=Ze;Ze|=4;try{P_(i,s.alternate,s)}finally{Ze=d,ae.p=u,W.T=o}}Wt=3}}function nb(){if(Wt===4||Wt===3){Wt=0,Ac();var i=Jr,s=go,o=yo,u=H_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,go=Jr=null,ib(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Zr=null),ka(o),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=ae.p,ae.p=2,W.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var x=u[T];g(x.value,{componentStack:x.stack})}}finally{W.T=s,ae.p=d}}(yo&3)!==0&&Nh(),Oi(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===Km?ou++:(ou=0,Km=i):ou=0,lu(0)}}function ib(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Bl(s)))}function Nh(i){return eb(),tb(),nb(),rb()}function rb(){if(Wt!==5)return!1;var i=Jr,s=qm;qm=0;var o=ka(yo),u=W.T,d=ae.p;try{ae.p=32>o?32:o,W.T=null,o=Gm,Gm=null;var g=Jr,T=yo;if(Wt=0,go=Jr=null,yo=0,(Ze&6)!==0)throw Error(r(331));var x=Ze;if(Ze|=4,B_(g.current),j_(g,g.current,T,o),Ze=x,lu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{ae.p=d,W.T=u,ib(i,s)}}function sb(i,s,o){s=Kn(o,s),s=xm(i.stateNode,s,2),i=Hr(i,s,2),i!==null&&($i(i,2),Oi(i))}function rt(i,s,o){if(i.tag===3)sb(i,i,o);else for(;s!==null;){if(s.tag===3){sb(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){i=Kn(o,i),o=u_(2),u=Hr(s,o,2),u!==null&&(c_(o,u,s,i),$i(u,2),Oi(u));break}}s=s.return}}function Xm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new yC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(zm=!0,d.add(o),i=EC.bind(null,i,s,o),s.then(i,i))}function EC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(He&o)===o&&(gt===4||gt===3&&(He&62914560)===He&&300>zn()-Hm?(Ze&2)===0&&vo(i,0):Bm|=o,po===He&&(po=0)),Oi(i)}function ab(i,s){s===0&&(s=yl()),i=Ja(i,s),i!==null&&($i(i,s),Oi(i))}function wC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),ab(i,o)}function xC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),ab(i,o)}function SC(i,s){return Ns(i,s)}var Ph=null,bo=null,Wm=!1,Mh=!1,Zm=!1,fa=0;function Oi(i){i!==bo&&i.next===null&&(bo===null?Ph=bo=i:bo=bo.next=i),Mh=!0,Wm||(Wm=!0,RC())}function lu(i,s){if(!Zm&&Mh){Zm=!0;do for(var o=!1,u=Ph;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-rn(42|i)+1)-1,g&=d&~(T&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cb(u,g))}else g=He,g=Oa(u,u===st?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ls(u,g)||(o=!0,cb(u,g));u=u.next}while(o);Zm=!1}}function AC(){ob()}function ob(){Mh=Wm=!1;var i=0;fa!==0&&(kC()&&(i=fa),fa=0);for(var s=zn(),o=null,u=Ph;u!==null;){var d=u.next,g=lb(u,s);g===0?(u.next=null,o===null?Ph=d:o.next=d,d===null&&(bo=o)):(o=u,(i!==0||(g&3)!==0)&&(Mh=!0)),u=d}lu(i)}function lb(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-rn(g),x=1<<T,P=d[T];P===-1?((x&o)===0||(x&u)!==0)&&(d[T]=pl(x,s)):P<=s&&(i.expiredLanes|=x),g&=~x}if(s=st,o=He,o=Oa(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ps(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ls(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ps(u),ka(o)){case 2:case 8:o=Pa;break;case 32:o=Ms;break;case 268435456:o=Ma;break;default:o=Ms}return u=ub.bind(null,i),o=Ns(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ps(u),i.callbackPriority=2,i.callbackNode=null,2}function ub(i,s){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Nh()&&i.callbackNode!==o)return null;var u=He;return u=Oa(i,i===st?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(G_(i,u,s),lb(i,zn()),i.callbackNode!=null&&i.callbackNode===o?ub.bind(null,i):null)}function cb(i,s){if(Nh())return null;G_(i,s,!0)}function RC(){LC(function(){(Ze&6)!==0?Ns(dl,AC):ob()})}function Jm(){return fa===0&&(fa=gl()),fa}function hb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ba(""+i)}function fb(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function CC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=hb((d[At]||null).action),T=u.submitter;T&&(s=(s=T[At]||null)?hb(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var x=new Fa("action","action",null,u,d);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var P=T?fb(d,T):new FormData(d);_m(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(x.preventDefault(),P=T?fb(d,T):new FormData(d),_m(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var ep=0;ep<jd.length;ep++){var tp=jd[ep],IC=tp.toLowerCase(),DC=tp[0].toUpperCase()+tp.slice(1);ci(IC,"on"+DC)}ci(Gv,"onAnimationEnd"),ci(Kv,"onAnimationIteration"),ci($v,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci($R,"onTransitionRun"),ci(YR,"onTransitionStart"),ci(QR,"onTransitionCancel"),ci(Yv,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function db(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var x=u[T],P=x.instance,K=x.currentTarget;if(x=x.listener,P!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=K;try{g(d)}catch(J){bh(J)}d.currentTarget=null,g=P}else for(T=0;T<u.length;T++){if(x=u[T],P=x.instance,K=x.currentTarget,x=x.listener,P!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=K;try{g(d)}catch(J){bh(J)}d.currentTarget=null,g=P}}}}function je(i,s){var o=s[bl];o===void 0&&(o=s[bl]=new Set);var u=i+"__bubble";o.has(u)||(mb(s,i,2,!1),o.add(u))}function np(i,s,o){var u=0;s&&(u|=4),mb(o,i,u,s)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function ip(i){if(!i[Oh]){i[Oh]=!0,Tl.forEach(function(o){o!=="selectionchange"&&(NC.has(o)||np(o,!1,i),np(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Oh]||(s[Oh]=!0,np("selectionchange",!1,s))}}function mb(i,s,o,u){switch(jb(s)){case 2:var d=r2;break;case 8:d=s2;break;default:d=yp}o=d.bind(null,s,o,i),d=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function rp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var x=u.stateNode.containerInfo;if(x===d)break;if(T===4)for(T=u.return;T!==null;){var P=T.tag;if((P===3||P===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;x!==null;){if(T=Yi(x),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){u=g=T;continue e}x=x.parentNode}}u=u.return}Vc(function(){var K=g,J=Hn(o),ne=[];e:{var Y=Qv.get(i);if(Y!==void 0){var Q=Fa,xe=i;switch(i){case"keypress":if(Si(o)===0)break e;case"keydown":case"keyup":Q=Ya;break;case"focusin":xe="focus",Q=Ga;break;case"focusout":xe="blur",Q=Ga;break;case"beforeblur":case"afterblur":Q=Ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=qc;break;case Gv:case Kv:case $v:Q=Ka;break;case Yv:Q=Kc;break;case"scroll":case"scrollend":Q=Lc;break;case"wheel":Q=Qa;break;case"copy":case"cut":case"paste":Q=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ml;break;case"toggle":case"beforetoggle":Q=Yc}var ve=(s&4)!==0,it=!ve&&(i==="scroll"||i==="scrollend"),H=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var U=K,G;U!==null;){var ee=U;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||H===null||(ee=Gs(U,H),ee!=null&&ve.push(cu(U,ee,G))),it)break;U=U.return}0<ve.length&&(Y=new Q(Y,xe,null,o,J),ne.push({event:Y,listeners:ve}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",Y&&o!==Zi&&(xe=o.relatedTarget||o.fromElement)&&(Yi(xe)||xe[Bn]))break e;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(xe=o.relatedTarget||o.toElement,Q=K,xe=xe?Yi(xe):null,xe!==null&&(it=l(xe),ve=xe.tag,xe!==it||ve!==5&&ve!==27&&ve!==6)&&(xe=null)):(Q=null,xe=K),Q!==xe)){if(ve=Gn,ee="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Ml,ee="onPointerLeave",H="onPointerEnter",U="pointer"),it=Q==null?Y:Ti(Q),G=xe==null?Y:Ti(xe),Y=new ve(ee,U+"leave",Q,o,J),Y.target=it,Y.relatedTarget=G,ee=null,Yi(J)===K&&(ve=new ve(H,U+"enter",xe,o,J),ve.target=G,ve.relatedTarget=it,ee=ve),it=ee,Q&&xe)t:{for(ve=Q,H=xe,U=0,G=ve;G;G=To(G))U++;for(G=0,ee=H;ee;ee=To(ee))G++;for(;0<U-G;)ve=To(ve),U--;for(;0<G-U;)H=To(H),G--;for(;U--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=To(ve),H=To(H)}ve=null}else ve=null;Q!==null&&pb(ne,Y,Q,ve,!1),xe!==null&&it!==null&&pb(ne,it,xe,ve,!0)}}e:{if(Y=K?Ti(K):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var me=Ov;else if(Ot(Y))if(kv)me=qR;else{me=FR;var ke=BR}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Al(K.elementType)&&(me=Ov):me=HR;if(me&&(me=me(i,K))){ir(ne,me,o,J);break e}ke&&ke(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&jr(Y,"number",Y.value)}switch(ke=K?Ti(K):window,i){case"focusin":(Ot(ke)||ke.contentEditable==="true")&&(Xa=ke,kd=K,Vl=null);break;case"focusout":Vl=kd=Xa=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Hv(ne,o,J);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":Hv(ne,o,J)}var ye;if(Ci)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?X(i,o)&&(Te="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(b&&o.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(ye=Cl()):(xi=J,Ur="value"in xi?xi.value:xi.textContent,Be=!0)),ke=kh(K,Te),0<ke.length&&(Te=new Nl(Te,i,null,o,J),ne.push({event:Te,listeners:ke}),ye?Te.data=ye:(ye=ce(o),ye!==null&&(Te.data=ye)))),(ye=v?Mt(i,o):Fe(i,o))&&(Te=kh(K,"onBeforeInput"),0<Te.length&&(ke=new Nl("onBeforeInput","beforeinput",null,o,J),ne.push({event:ke,listeners:Te}),ke.data=ye)),CC(ne,i,K,o,J)}db(ne,s)})}function cu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function kh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Gs(i,o),d!=null&&u.unshift(cu(i,d,g)),d=Gs(i,s),d!=null&&u.push(cu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function To(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pb(i,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var x=o,P=x.alternate,K=x.stateNode;if(x=x.tag,P!==null&&P===u)break;x!==5&&x!==26&&x!==27||K===null||(P=K,d?(K=Gs(o,g),K!=null&&T.unshift(cu(o,K,P))):d||(K=Gs(o,g),K!=null&&T.push(cu(o,K,P)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var PC=/\r\n?/g,MC=/\u0000|\uFFFD/g;function gb(i){return(typeof i=="string"?i:""+i).replace(PC,`
`).replace(MC,"")}function yb(i,s){return s=gb(s),gb(i)===s}function Vh(){}function nt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fn(i,""+u);break;case"className":Ei(i,"class",u);break;case"tabIndex":Ei(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(i,o,u);break;case"style":Sl(i,u,g);break;case"data":if(s!=="object"){Ei(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&nt(i,s,"name",d.name,d,null),nt(i,s,"formEncType",d.formEncType,d,null),nt(i,s,"formMethod",d.formMethod,d,null),nt(i,s,"formTarget",d.formTarget,d,null)):(nt(i,s,"encType",d.encType,d,null),nt(i,s,"method",d.method,d,null),nt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Vh);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ba(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":je("beforetoggle",i),je("toggle",i),Lr(i,"popover",u);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Lr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Cd.get(o)||o,Lr(i,o,u))}}function sp(i,s,o,u,d,g){switch(o){case"style":Sl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Fn(i,u):(typeof u=="number"||typeof u=="bigint")&&Fn(i,""+u);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Lr(i,o,u)}}}function Zt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(i,s,g,T,o,null)}}d&&nt(i,s,"srcSet",o.srcSet,o,null),u&&nt(i,s,"src",o.src,o,null);return;case"input":je("invalid",i);var x=g=T=d=null,P=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":T=J;break;case"checked":P=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:nt(i,s,u,J,o,null)}}Fs(i,g,x,P,K,T,d,!1),za(i);return;case"select":je("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":g=x;break;case"defaultValue":T=x;break;case"multiple":u=x;default:nt(i,s,d,x,o,null)}s=g,o=T,i.multiple=!!u,s!=null?Wi(i,!!u,s,!1):o!=null&&Wi(i,!!u,o,!0);return;case"textarea":je("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":u=x;break;case"defaultValue":d=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:nt(i,s,T,x,o,null)}Hs(i,u,d,g),za(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(i,s,P,u,o,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(u=0;u<uu.length;u++)je(uu[u],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(i,s,K,u,o,null)}return;default:if(Al(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&sp(i,s,J,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&nt(i,s,x,u,o,null))}function OC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,x=null,P=null,K=null,J=null;for(Q in o){var ne=o[Q];if(o.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":P=ne;default:u.hasOwnProperty(Q)||nt(i,s,Q,null,u,ne)}}for(var Y in u){var Q=u[Y];if(ne=o[Y],u.hasOwnProperty(Y)&&(Q!=null||ne!=null))switch(Y){case"type":g=Q;break;case"name":d=Q;break;case"checked":K=Q;break;case"defaultChecked":J=Q;break;case"value":T=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ne&&nt(i,s,Y,Q,u,ne)}}Dn(i,T,x,P,K,J,g,d);return;case"select":Q=T=x=Y=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":Q=P;default:u.hasOwnProperty(g)||nt(i,s,g,null,u,P)}for(d in u)if(g=u[d],P=o[d],u.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":Y=g;break;case"defaultValue":x=g;break;case"multiple":T=g;default:g!==P&&nt(i,s,d,g,u,P)}s=x,o=T,u=Q,Y!=null?Wi(i,!!o,Y,!1):!!u!=!!o&&(s!=null?Wi(i,!!o,s,!0):Wi(i,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:nt(i,s,x,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Y=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&nt(i,s,T,d,u,g)}et(i,Y,Q);return;case"option":for(var xe in o)if(Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:nt(i,s,xe,null,u,Y)}for(P in u)if(Y=u[P],Q=o[P],u.hasOwnProperty(P)&&Y!==Q&&(Y!=null||Q!=null))switch(P){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(i,s,P,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&nt(i,s,ve,null,u,Y);for(K in u)if(Y=u[K],Q=o[K],u.hasOwnProperty(K)&&Y!==Q&&(Y!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:nt(i,s,K,Y,u,Q)}return;default:if(Al(s)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!u.hasOwnProperty(it)&&sp(i,s,it,void 0,u,Y);for(J in u)Y=u[J],Q=o[J],!u.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||sp(i,s,J,Y,u,Q);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&nt(i,s,H,null,u,Y);for(ne in u)Y=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||Y===Q||Y==null&&Q==null||nt(i,s,ne,Y,u,Q)}var ap=null,op=null;function Lh(i){return i.nodeType===9?i:i.ownerDocument}function vb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _b(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function lp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var up=null;function kC(){var i=window.event;return i&&i.type==="popstate"?i===up?!1:(up=i,!0):(up=null,!1)}var bb=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(i){return Tb.resolve(null).then(i).catch(jC)}:bb;function jC(i){setTimeout(function(){throw i})}function ts(i){return i==="head"}function Eb(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&hu(T.documentElement),o&2&&hu(T.body),o&4)for(o=T.head,hu(o),T=o.firstChild;T;){var x=T.nextSibling,P=T.nodeName;T[js]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=x}}if(d===0){i.removeChild(g),_u(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);_u(s)}function cp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":cp(o),Vr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function UC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[js])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=fi(i.nextSibling),i===null)break}return null}function zC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fi(i.nextSibling),i===null))return null;return i}function hp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function BC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function fi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var fp=null;function wb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function xb(i,s,o){switch(s=Lh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function hu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Vr(i)}var Zn=new Map,Sb=new Set;function jh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gr=ae.d;ae.d={f:FC,r:HC,D:qC,C:GC,L:KC,m:$C,X:QC,S:YC,M:XC};function FC(){var i=gr.f(),s=Ih();return i||s}function HC(i){var s=bi(i);s!==null&&s.tag===5&&s.type==="form"?G0(s):gr.r(i)}var Eo=typeof document>"u"?null:document;function Ab(i,s,o){var u=Eo;if(u&&typeof s=="string"&&s){var d=Rt(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Sb.has(d)||(Sb.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Zt(s,"link",i),_t(s),u.head.appendChild(s)))}}function qC(i){gr.D(i),Ab("dns-prefetch",i,null)}function GC(i,s){gr.C(i,s),Ab("preconnect",i,s)}function KC(i,s,o){gr.L(i,s,o);var u=Eo;if(u&&i&&s){var d='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rt(o.imageSizes)+'"]')):d+='[href="'+Rt(i)+'"]';var g=d;switch(s){case"style":g=wo(i);break;case"script":g=xo(i)}Zn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Zn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(fu(g))||s==="script"&&u.querySelector(du(g))||(s=u.createElement("link"),Zt(s,"link",i),_t(s),u.head.appendChild(s)))}}function $C(i,s){gr.m(i,s);var o=Eo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Rt(u)+'"][href="'+Rt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(i)}if(!Zn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Zn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(g)))return}u=o.createElement("link"),Zt(u,"link",i),_t(u),o.head.appendChild(u)}}}function YC(i,s,o){gr.S(i,s,o);var u=Eo;if(u&&i){var d=pn(u).hoistableStyles,g=wo(i);s=s||"default";var T=d.get(g);if(!T){var x={loading:0,preload:null};if(T=u.querySelector(fu(g)))x.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Zn.get(g))&&dp(i,o);var P=T=u.createElement("link");_t(P),Zt(P,"link",i),P._p=new Promise(function(K,J){P.onload=K,P.onerror=J}),P.addEventListener("load",function(){x.loading|=1}),P.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Uh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:x},d.set(g,T)}}}function QC(i,s){gr.X(i,s);var o=Eo;if(o&&i){var u=pn(o).hoistableScripts,d=xo(i),g=u.get(d);g||(g=o.querySelector(du(d)),g||(i=y({src:i,async:!0},s),(s=Zn.get(d))&&mp(i,s),g=o.createElement("script"),_t(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function XC(i,s){gr.M(i,s);var o=Eo;if(o&&i){var u=pn(o).hoistableScripts,d=xo(i),g=u.get(d);g||(g=o.querySelector(du(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Zn.get(d))&&mp(i,s),g=o.createElement("script"),_t(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Rb(i,s,o,u){var d=(d=Ee.current)?jh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=wo(o.href),o=pn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=wo(o.href);var g=pn(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(fu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(i,o),g||WC(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(o),o=pn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function wo(i){return'href="'+Rt(i)+'"'}function fu(i){return'link[rel="stylesheet"]['+i+"]"}function Cb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function WC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Zt(s,"link",o),_t(s),i.head.appendChild(s))}function xo(i){return'[src="'+Rt(i)+'"]'}function du(i){return"script[async]"+i}function Ib(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(u)return s.instance=u,_t(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),_t(u),Zt(u,"style",d),Uh(u,o.precedence,i),s.instance=u;case"stylesheet":d=wo(o.href);var g=i.querySelector(fu(d));if(g)return s.state.loading|=4,s.instance=g,_t(g),g;u=Cb(o),(d=Zn.get(d))&&dp(u,d),g=(i.ownerDocument||i).createElement("link"),_t(g);var T=g;return T._p=new Promise(function(x,P){T.onload=x,T.onerror=P}),Zt(g,"link",u),s.state.loading|=4,Uh(g,o.precedence,i),s.instance=g;case"script":return g=xo(o.src),(d=i.querySelector(du(g)))?(s.instance=d,_t(d),d):(u=o,(d=Zn.get(g))&&(u=y({},o),mp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),_t(d),Zt(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Uh(u,o.precedence,i));return s.instance}function Uh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var x=u[T];if(x.dataset.precedence===s)g=x;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function mp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var zh=null;function Db(i,s,o){if(zh===null){var u=new Map,d=zh=new Map;d.set(o,u)}else d=zh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[js]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var x=u.get(T);x?x.push(g):u.set(T,[g])}}return u}function Nb(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function ZC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var mu=null;function JC(){}function e2(i,s,o){if(mu===null)throw Error(r(475));var u=mu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=wo(o.href),g=i.querySelector(fu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Bh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,_t(g);return}g=i.ownerDocument||i,o=Cb(o),(d=Zn.get(d))&&dp(o,d),g=g.createElement("link"),_t(g);var T=g;T._p=new Promise(function(x,P){T.onload=x,T.onerror=P}),Zt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Bh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function t2(){if(mu===null)throw Error(r(475));var i=mu;return i.stylesheets&&i.count===0&&pp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&pp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Bh(){if(this.count--,this.count===0){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fh=null;function pp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fh=new Map,s.forEach(n2,i),Fh=null,Bh.call(i))}function n2(i,s){if(!(s.state.loading&4)){var o=Fh.get(i);if(o)var u=o.get(null);else{o=new Map,Fh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=Bh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var pu={$$typeof:B,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function i2(i,s,o,u,d,g,T,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Mb(i,s,o,u,d,g,T,x,P,K,J,ne){return i=new i2(i,s,o,T,x,P,K,ne),s=1,g===!0&&(s|=24),g=Pn(3,null,null,s),i.current=g,g.stateNode=i,s=Xd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},em(g),i}function Ob(i){return i?(i=eo,i):eo}function kb(i,s,o,u,d,g){d=Ob(d),u.context===null?u.context=d:u.pendingContext=d,u=Fr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Hr(i,u,s),o!==null&&(Ln(o,i,s),Gl(o,i,s))}function Vb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function gp(i,s){Vb(i,s),(i=i.alternate)&&Vb(i,s)}function Lb(i){if(i.tag===13){var s=Ja(i,67108864);s!==null&&Ln(s,i,67108864),gp(i,67108864)}}var Hh=!0;function r2(i,s,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=2,yp(i,s,o,u)}finally{ae.p=g,W.T=d}}function s2(i,s,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=8,yp(i,s,o,u)}finally{ae.p=g,W.T=d}}function yp(i,s,o,u){if(Hh){var d=vp(u);if(d===null)rp(i,s,u,qh,o),Ub(i,u);else if(o2(d,i,s,o,u))u.stopPropagation();else if(Ub(i,u),s&4&&-1<a2.indexOf(i)){for(;d!==null;){var g=bi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=oi(g.pendingLanes);if(T!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var P=1<<31-rn(T);x.entanglements[1]|=P,T&=~P}Oi(g),(Ze&6)===0&&(Rh=zn()+500,lu(0))}}break;case 13:x=Ja(g,2),x!==null&&Ln(x,g,2),Ih(),gp(g,2)}if(g=vp(u),g===null&&rp(i,s,u,qh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else rp(i,s,u,null,o)}}function vp(i){return i=Hn(i),_p(i)}var qh=null;function _p(i){if(qh=null,i=Yi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return qh=i,null}function jb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ed()){case dl:return 2;case Pa:return 8;case Ms:case wd:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var bp=!1,ns=null,is=null,rs=null,gu=new Map,yu=new Map,ss=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ub(i,s){switch(i){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":gu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(s.pointerId)}}function vu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=bi(s),s!==null&&Lb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function o2(i,s,o,u,d){switch(s){case"focusin":return ns=vu(ns,i,s,o,u,d),!0;case"dragenter":return is=vu(is,i,s,o,u,d),!0;case"mouseover":return rs=vu(rs,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return gu.set(g,vu(gu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,yu.set(g,vu(yu.get(g)||null,i,s,o,u,d)),!0}return!1}function zb(i){var s=Yi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){if(o.tag===13){var u=Vn();u=Mr(u);var d=Ja(o,u);d!==null&&Ln(d,o,u),gp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=vp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Zi=u,o.target.dispatchEvent(u),Zi=null}else return s=bi(o),s!==null&&Lb(s),i.blockedOn=o,!1;s.shift()}return!0}function Bb(i,s,o){Gh(i)&&o.delete(s)}function l2(){bp=!1,ns!==null&&Gh(ns)&&(ns=null),is!==null&&Gh(is)&&(is=null),rs!==null&&Gh(rs)&&(rs=null),gu.forEach(Bb),yu.forEach(Bb)}function Kh(i,s){i.blockedOn===s&&(i.blockedOn=null,bp||(bp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l2)))}var $h=null;function Fb(i){$h!==i&&($h=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$h===i&&($h=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(_p(u||o)===null)continue;break}var g=bi(o);g!==null&&(i.splice(s,3),s-=3,_m(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function _u(i){function s(P){return Kh(P,i)}ns!==null&&Kh(ns,i),is!==null&&Kh(is,i),rs!==null&&Kh(rs,i),gu.forEach(s),yu.forEach(s);for(var o=0;o<ss.length;o++){var u=ss[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)zb(o),o.blockedOn===null&&ss.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[At]||null;if(typeof g=="function")T||Fb(o);else if(T){var x=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[At]||null)x=T.formAction;else if(_p(d)!==null)continue}else x=T.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),Fb(o)}}}function Tp(i){this._internalRoot=i}Yh.prototype.render=Tp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Vn();kb(o,u,i,s,null,null)},Yh.prototype.unmount=Tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;kb(i.current,2,null,i,null,null),Ih(),s[Bn]=null}};function Yh(i){this._internalRoot=i}Yh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Or();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ss.length&&s!==0&&s<ss[o].priority;o++);ss.splice(o,0,i),o===0&&zb(i)}};var Hb=e.version;if(Hb!=="19.1.0")throw Error(r(527,Hb,"19.1.0"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var u2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{mt=Qh.inject(u2),We=Qh}catch{}}return Tu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=s_,g=a_,T=o_,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=Mb(i,1,!1,null,null,o,u,d,g,T,x,null),i[Bn]=s.current,ip(i),new Tp(s)},Tu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=s_,T=a_,x=o_,P=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=Mb(i,1,!0,s,o??null,u,d,g,T,x,P,K),s.context=Ob(null),o=s.current,u=Vn(),u=Mr(u),d=Fr(u),d.callback=null,Hr(o,d,u),o=u,s.current.lanes=o,$i(s,o),Oi(s),i[Bn]=s.current,ip(i),new Yh(s)},Tu.version="19.1.0",Tu}var Jb;function b2(){if(Jb)return xp.exports;Jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=_2(),xp.exports}var T2=b2(),Eu={},eT;function E2(){if(eT)return Eu;eT=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parse=c,Eu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const C=new l,N=E.length;if(N<2)return C;const D=(A==null?void 0:A.decode)||y;let V=0;do{const $=E.indexOf("=",V);if($===-1)break;const B=E.indexOf(";",V),oe=B===-1?N:B;if($>oe){V=E.lastIndexOf(";",$-1)+1;continue}const Z=f(E,V,$),le=m(E,$,Z),O=E.slice(Z,le);if(C[O]===void 0){let S=f(E,$+1,oe),I=m(E,oe,S);const L=D(E.slice(S,I));C[O]=L}V=oe+1}while(V<N);return C}function f(E,A,C){do{const N=E.charCodeAt(A);if(N!==32&&N!==9)return A}while(++A<C);return C}function m(E,A,C){for(;A>C;){const N=E.charCodeAt(--A);if(N!==32&&N!==9)return A+1}return C}function p(E,A,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=N(A);if(!e.test(D))throw new TypeError(`argument val is invalid: ${A}`);let V=E+"="+D;if(!C)return V;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);V+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);V+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);V+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);V+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(V+="; HttpOnly"),C.secure&&(V+="; Secure"),C.partitioned&&(V+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return V}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Eu}E2();var tT="popstate";function w2(t={}){function e(a,l){let{pathname:c="/",search:f="",hash:m=""}=Ra(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),tg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Hu(l))}function r(a,l){ri(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return S2(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x2(){return Math.random().toString(36).substring(2,10)}function nT(t,e){return{usr:t.state,key:t.key,idx:e}}function tg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:n,key:e&&e.key||r||x2()}}function Hu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function S2(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let D=y(),V=D==null?null:D-p;p=D,m&&m({action:f,location:N.location,delta:V})}function E(D,V){f="PUSH";let $=tg(N.location,D,V);n&&n($,D),p=y()+1;let B=nT($,p),oe=N.createHref($);try{c.pushState(B,"",oe)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(oe)}l&&m&&m({action:f,location:N.location,delta:1})}function A(D,V){f="REPLACE";let $=tg(N.location,D,V);n&&n($,D),p=y();let B=nT($,p),oe=N.createHref($);c.replaceState(B,"",oe),l&&m&&m({action:f,location:N.location,delta:0})}function C(D){let V=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof D=="string"?D:Hu(D);return $=$.replace(/ $/,"%20"),ut(V,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,V)}let N={get action(){return f},get location(){return t(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(tT,_),m=D,()=>{a.removeEventListener(tT,_),m=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let V=C(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:A,go(D){return c.go(D)}};return N}function nx(t,e,n="/"){return A2(t,e,n,!1)}function A2(t,e,n,r){let a=typeof e=="string"?Ra(e):e,l=wr(a.pathname||"/",n);if(l==null)return null;let c=ix(t);R2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=j2(l);f=V2(c[m],p,r)}return f}function ix(t,e=[],n=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=Tr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ix(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:O2(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of rx(l.path))a(l,c,m)}),e}function rx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=rx(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function R2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C2=/^:[\w-]+$/,I2=3,D2=2,N2=1,P2=10,M2=-2,iT=t=>t==="*";function O2(t,e){let n=t.split("/"),r=n.length;return n.some(iT)&&(r+=M2),e&&(r+=D2),n.filter(a=>!iT(a)).reduce((a,l)=>a+(C2.test(l)?I2:l===""?N2:P2),r)}function k2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function V2(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Tr([l,_.pathname]),pathnameBase:F2(Tr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Tr([l,_.pathnameBase]))}return c}function Sf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=L2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function L2(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function j2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U2(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ra(t):t;return{pathname:n?n.startsWith("/")?n:z2(n,e):e,search:H2(r),hash:q2(a)}}function z2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Cp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zg(t){let e=B2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jg(t,e,n,r=!1){let a;typeof t=="string"?a=Ra(t):(a={...t},ut(!a.pathname||!a.pathname.includes("?"),Cp("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Cp("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Cp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let m=U2(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Tr=t=>t.join("/").replace(/\/\/+/g,"/"),F2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sx=["POST","PUT","PATCH","DELETE"];new Set(sx);var K2=["GET",...sx];new Set(K2);var Wo=M.createContext(null);Wo.displayName="DataRouter";var Jf=M.createContext(null);Jf.displayName="DataRouterState";var ax=M.createContext({isTransitioning:!1});ax.displayName="ViewTransition";var $2=M.createContext(new Map);$2.displayName="Fetchers";var Y2=M.createContext(null);Y2.displayName="Await";var vi=M.createContext(null);vi.displayName="Navigation";var uc=M.createContext(null);uc.displayName="Location";var ai=M.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var ey=M.createContext(null);ey.displayName="RouteError";function Q2(t,{relative:e}={}){ut(Zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(vi),{hash:a,pathname:l,search:c}=cc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Tr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function Zo(){return M.useContext(uc)!=null}function Cs(){return ut(Zo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(uc).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lx(t){M.useContext(vi).static||M.useLayoutEffect(t)}function ed(){let{isDataRoute:t}=M.useContext(ai);return t?hI():X2()}function X2(){ut(Zo(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Wo),{basename:e,navigator:n}=M.useContext(vi),{matches:r}=M.useContext(ai),{pathname:a}=Cs(),l=JSON.stringify(Zg(r)),c=M.useRef(!1);return lx(()=>{c.current=!0}),M.useCallback((m,p={})=>{if(ri(c.current,ox),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Jg(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Tr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var W2=M.createContext(null);function Z2(t){let e=M.useContext(ai).outlet;return e&&M.createElement(W2.Provider,{value:t},e)}function J2(){let{matches:t}=M.useContext(ai),e=t[t.length-1];return e?e.params:{}}function cc(t,{relative:e}={}){let{matches:n}=M.useContext(ai),{pathname:r}=Cs(),a=JSON.stringify(Zg(n));return M.useMemo(()=>Jg(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function eI(t,e){return ux(t,e)}function ux(t,e,n,r){var $;ut(Zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=M.useContext(vi),{matches:c}=M.useContext(ai),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let B=_&&_.path||"";cx(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Cs(),A;if(e){let B=typeof e=="string"?Ra(e):e;ut(y==="/"||(($=B.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=E;let C=A.pathname||"/",N=C;if(y!=="/"){let B=y.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=!l&&n&&n.matches&&n.matches.length>0?n.matches:nx(t,{pathname:N});ri(_||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ri(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=sI(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Tr([y,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Tr([y,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,r);return e&&V?M.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},V):V}function tI(){let t=cI(),e=G2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var nI=M.createElement(tI,null),iI=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(ai.Provider,{value:this.props.routeContext},M.createElement(ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rI({routeContext:t,match:e,children:n}){let r=M.useContext(Wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ai.Provider,{value:t},n)}function sI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,A=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||nI,c&&(f<0&&y===0?(cx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,y+1)),D=()=>{let V;return _?V=A:E?V=C:p.route.Component?V=M.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=m,M.createElement(rI,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?M.createElement(iI,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function ty(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aI(t){let e=M.useContext(Wo);return ut(e,ty(t)),e}function oI(t){let e=M.useContext(Jf);return ut(e,ty(t)),e}function lI(t){let e=M.useContext(ai);return ut(e,ty(t)),e}function ny(t){let e=lI(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uI(){return ny("useRouteId")}function cI(){var r;let t=M.useContext(ey),e=oI("useRouteError"),n=ny("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function hI(){let{router:t}=aI("useNavigate"),e=ny("useNavigate"),n=M.useRef(!1);return lx(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{ri(n.current,ox),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var rT={};function cx(t,e,n){!e&&!rT[t]&&(rT[t]=!0,ri(!1,n))}M.memo(fI);function fI({routes:t,future:e,state:n}){return ux(t,void 0,n,e)}function sT({to:t,replace:e,state:n,relative:r}){ut(Zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(vi);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(ai),{pathname:c}=Cs(),f=ed(),m=Jg(t,Zg(l),c,r==="path"),p=JSON.stringify(m);return M.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:r})},[f,p,r,e,n]),null}function hx(t){return Z2(t.context)}function jn(t){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ut(!Zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Ra(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,A=M.useMemo(()=>{let C=wr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:E},navigationType:r}},[c,m,p,y,_,E,r]);return ri(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:M.createElement(vi.Provider,{value:f},M.createElement(uc.Provider,{children:e,value:A}))}function mI({children:t,location:e}){return eI(ng(t),e)}function ng(t,e=[]){let n=[];return M.Children.forEach(t,(r,a)=>{if(!M.isValidElement(r))return;let l=[...e,a];if(r.type===M.Fragment){n.push.apply(n,ng(r.props.children,l));return}ut(r.type===jn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ng(r.props.children,l)),n.push(c)}),n}var cf="get",hf="application/x-www-form-urlencoded";function td(t){return t!=null&&typeof t.tagName=="string"}function pI(t){return td(t)&&t.tagName.toLowerCase()==="button"}function gI(t){return td(t)&&t.tagName.toLowerCase()==="form"}function yI(t){return td(t)&&t.tagName.toLowerCase()==="input"}function vI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _I(t,e){return t.button===0&&(!e||e==="_self")&&!vI(t)}var Xh=null;function bI(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var TI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(t){return t!=null&&!TI.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):t}function EI(t,e){let n,r,a,l,c;if(gI(t)){let f=t.getAttribute("action");r=f?wr(f,e):null,n=t.getAttribute("method")||cf,a=Ip(t.getAttribute("enctype"))||hf,l=new FormData(t)}else if(pI(t)||yI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(r=m?wr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||cf,a=Ip(t.getAttribute("formenctype"))||Ip(f.getAttribute("enctype"))||hf,l=new FormData(f,t),!bI()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(td(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cf,r=null,a=hf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function wI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SI(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await wI(l,n);return c.links?c.links():[]}return[]}));return II(r.flat(1).filter(xI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aT(t,e,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function AI(t,e,{includeHydrateFallback:n}={}){return RI(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function RI(t){return[...new Set(t)]}function CI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function II(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(CI(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}var DI=new Set([100,101,204,205]);function NI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&wr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function fx(){let t=M.useContext(Wo);return iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PI(){let t=M.useContext(Jf);return iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ry=M.createContext(void 0);ry.displayName="FrameworkContext";function dx(){let t=M.useContext(ry);return iy(t,"You must render this element inside a <HydratedRouter> element"),t}function MI(t,e){let n=M.useContext(ry),[r,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=V=>{V.forEach($=>{c($.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),M.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:wu(f,A),onBlur:wu(m,C),onMouseEnter:wu(p,A),onMouseLeave:wu(y,C),onTouchStart:wu(_,A)}]:[!1,E,{}]}function wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function OI({page:t,...e}){let{router:n}=fx(),r=M.useMemo(()=>nx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(VI,{page:t,matches:r,...e}):null}function kI(t){let{manifest:e,routeModules:n}=dx(),[r,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return SI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function VI({page:t,matches:e,...n}){let r=Cs(),{manifest:a,routeModules:l}=dx(),{basename:c}=fx(),{loaderData:f,matches:m}=PI(),p=M.useMemo(()=>aT(t,e,m,a,r,"data"),[t,e,m,a,r]),y=M.useMemo(()=>aT(t,e,m,a,r,"assets"),[t,e,m,a,r]),_=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,N=!1;if(e.forEach(V=>{var B;let $=a.routes[V.route.id];!$||!$.hasLoader||(!p.some(oe=>oe.route.id===V.route.id)&&V.route.id in f&&((B=l[V.route.id])!=null&&B.shouldRevalidate)||$.hasClientLoader?N=!0:C.add(V.route.id))}),C.size===0)return[];let D=NI(t,c);return N&&C.size>0&&D.searchParams.set("_routes",e.filter(V=>C.has(V.route.id)).map(V=>V.route.id).join(",")),[D.pathname+D.search]},[c,f,r,a,p,e,t,l]),E=M.useMemo(()=>AI(y,a),[y,a]),A=kI(y);return M.createElement(M.Fragment,null,_.map(C=>M.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>M.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:N})=>M.createElement("link",{key:C,...N})))}function LI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mx&&(window.__reactRouterVersion="7.5.2")}catch{}function jI({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=w2({window:n,v5Compat:!0}));let a=r.current,[l,c]=M.useState({action:a.action,location:a.location}),f=M.useCallback(m=>{M.startTransition(()=>c(m))},[c]);return M.useLayoutEffect(()=>a.listen(f),[a,f]),M.createElement(dI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:C}=M.useContext(vi),N=typeof p=="string"&&px.test(p),D,V=!1;if(typeof p=="string"&&N&&(D=p,mx))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),z=wr(L.pathname,C);L.origin===I.origin&&z!=null?p=z+L.search+L.hash:V=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Q2(p,{relative:a}),[B,oe,Z]=MI(r,E),le=FI(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function O(I){e&&e(I),I.defaultPrevented||le(I)}let S=M.createElement("a",{...E,...Z,href:D||$,onClick:V||l?e:O,ref:LI(A,oe),target:m,"data-discover":!N&&n==="render"?"true":void 0});return B&&!N?M.createElement(M.Fragment,null,S,M.createElement(OI,{page:$})):S});$t.displayName="Link";var UI=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=cc(c,{relative:p.relative}),E=Cs(),A=M.useContext(Jf),{navigator:C,basename:N}=M.useContext(vi),D=A!=null&&$I(_)&&f===!0,V=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,$=E.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||($=$.toLowerCase(),B=B?B.toLowerCase():null,V=V.toLowerCase()),B&&N&&(B=wr(B,N)||B);const oe=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let Z=$===V||!a&&$.startsWith(V)&&$.charAt(oe)==="/",le=B!=null&&(B===V||!a&&B.startsWith(V)&&B.charAt(V.length)==="/"),O={isActive:Z,isPending:le,isTransitioning:D},S=Z?e:void 0,I;typeof r=="function"?I=r(O):I=[r,Z?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(O):l;return M.createElement($t,{...p,"aria-current":S,className:I,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(O):m)});UI.displayName="NavLink";var zI=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=cf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let C=GI(),N=KI(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&px.test(f),$=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let oe=B.nativeEvent.submitter,Z=(oe==null?void 0:oe.getAttribute("formmethod"))||c;C(oe||B.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return M.createElement("form",{ref:A,method:D,action:N,onSubmit:r?m:$,...E,"data-discover":!V&&t==="render"?"true":void 0})});zI.displayName="Form";function BI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gx(t){let e=M.useContext(Wo);return ut(e,BI(t)),e}function FI(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=ed(),m=Cs(),p=cc(t,{relative:l});return M.useCallback(y=>{if(_I(y,e)){y.preventDefault();let _=n!==void 0?n:Hu(m)===Hu(p);f(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,e,t,a,l,c])}var HI=0,qI=()=>`__${String(++HI)}__`;function GI(){let{router:t}=gx("useSubmit"),{basename:e}=M.useContext(vi),n=uI();return M.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=EI(r,e);if(a.navigate===!1){let y=a.fetcherKey||qI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function KI(t,{relative:e}={}){let{basename:n}=M.useContext(vi),r=M.useContext(ai);ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...cc(t||".",{relative:e})},c=Cs();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Tr([n,l.pathname])),Hu(l)}function $I(t,e={}){let n=M.useContext(ax);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gx("useViewTransitionState"),a=cc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=wr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=wr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sf(a.pathname,c)!=null||Sf(a.pathname,l)!=null}new TextEncoder;[...DI];const YI=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},QI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),r.push(n[y],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new XI;const E=l<<2|f>>4;if(r.push(E),p!==64){const A=f<<4&240|p>>2;if(r.push(A),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(t){const e=yx(t);return vx.encodeByteArray(e,!0)},Af=function(t){return WI(t).replace(/\./g,"")},_x=function(t){try{return vx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>ZI().__FIREBASE_DEFAULTS__,eD=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_x(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return YI()||JI()||eD()||tD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bx=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nD=t=>{const e=bx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tx=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},Ex=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){return t.endsWith(".cloudworkstations.dev")}async function wx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Af(JSON.stringify(n)),Af(JSON.stringify(c)),""].join(".")}const Pu={};function sD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function aD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lT=!1;function xx(t,e){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||Pu[t]===e||Pu[t]||lT)return;Pu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=sD().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lT=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=aD(r),A=n("text"),C=document.getElementById(A)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),V=n("preprendIcon"),$=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;f(B),y(D,N);const oe=p();m($,V),B.append($,C,D,oe),document.body.appendChild(B)}l?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function lD(){var t;const e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fD(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dD(){return!lD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mD(){try{return typeof indexedDB=="object"}catch{return!1}}function pD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gD,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?yD(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Dr(a,f,r)}}function yD(t,e){return t.replace(vD,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vD=/\{\$([^}]+)}/g;function _D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ea(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(uT(l)&&uT(c)){if(!Ea(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function uT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bD(t,e){const n=new TD(t,e);return n.subscribe.bind(n)}class TD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Dp),a.error===void 0&&(a.error=Dp),a.complete===void 0&&(a.complete=Dp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SD(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xD(t){return t===pa?void 0:t}function SD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const RD={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},CD=Ue.INFO,ID={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},DD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=ID[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=CD,this._logHandler=DD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const ND=(t,e)=>e.some(n=>t instanceof n);let cT,hT;function PD(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MD(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sx=new WeakMap,ig=new WeakMap,Ax=new WeakMap,Np=new WeakMap,ay=new WeakMap;function OD(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ps(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Sx.set(n,t)}).catch(()=>{}),ay.set(e,t),e}function kD(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ig.set(t,e)}let rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ax.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VD(t){rg=t(rg)}function LD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pp(this),e,...n);return Ax.set(r,e.sort?e.sort():[e]),ps(r)}:MD().includes(t)?function(...e){return t.apply(Pp(this),e),ps(Sx.get(this))}:function(...e){return ps(t.apply(Pp(this),e))}}function jD(t){return typeof t=="function"?LD(t):(t instanceof IDBTransaction&&kD(t),ND(t,PD())?new Proxy(t,rg):t)}function ps(t){if(t instanceof IDBRequest)return OD(t);if(Np.has(t))return Np.get(t);const e=jD(t);return e!==t&&(Np.set(t,e),ay.set(e,t)),e}const Pp=t=>ay.get(t);function UD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=ps(c);return r&&c.addEventListener("upgradeneeded",m=>{r(ps(c.result),m.oldVersion,m.newVersion,ps(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const zD=["get","getKey","getAll","getAllKeys","count"],BD=["put","add","delete","clear"],Mp=new Map;function fT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=BD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||zD.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Mp.set(e,l),l}VD(t=>({...t,get:(e,n,r)=>fT(e,n)||t.get(e,n,r),has:(e,n)=>!!fT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",dT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new sy("@firebase/app"),qD="@firebase/app-compat",GD="@firebase/analytics-compat",KD="@firebase/analytics",$D="@firebase/app-check-compat",YD="@firebase/app-check",QD="@firebase/auth",XD="@firebase/auth-compat",WD="@firebase/database",ZD="@firebase/data-connect",JD="@firebase/database-compat",eN="@firebase/functions",tN="@firebase/functions-compat",nN="@firebase/installations",iN="@firebase/installations-compat",rN="@firebase/messaging",sN="@firebase/messaging-compat",aN="@firebase/performance",oN="@firebase/performance-compat",lN="@firebase/remote-config",uN="@firebase/remote-config-compat",cN="@firebase/storage",hN="@firebase/storage-compat",fN="@firebase/firestore",dN="@firebase/ai",mN="@firebase/firestore-compat",pN="firebase",gN="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",yN={[sg]:"fire-core",[qD]:"fire-core-compat",[KD]:"fire-analytics",[GD]:"fire-analytics-compat",[YD]:"fire-app-check",[$D]:"fire-app-check-compat",[QD]:"fire-auth",[XD]:"fire-auth-compat",[WD]:"fire-rtdb",[ZD]:"fire-data-connect",[JD]:"fire-rtdb-compat",[eN]:"fire-fn",[tN]:"fire-fn-compat",[nN]:"fire-iid",[iN]:"fire-iid-compat",[rN]:"fire-fcm",[sN]:"fire-fcm-compat",[aN]:"fire-perf",[oN]:"fire-perf-compat",[lN]:"fire-rc",[uN]:"fire-rc-compat",[cN]:"fire-gcs",[hN]:"fire-gcs-compat",[fN]:"fire-fst",[mN]:"fire-fst-compat",[dN]:"fire-vertex","fire-js":"fire-js",[pN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,vN=new Map,og=new Map;function mT(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){const e=t.name;if(og.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,t);for(const n of Rf.values())mT(n,t);for(const n of vN.values())mT(n,t);return!0}function oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new fc("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=gN;function Rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ag,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw gs.create("bad-app-name",{appName:String(a)});if(n||(n=Tx()),!n)throw gs.create("no-options");const l=Rf.get(a);if(l){if(Ea(n,l.options)&&Ea(r,l.config))return l;throw gs.create("duplicate-app",{appName:a})}const c=new AD(a);for(const m of og.values())c.addComponent(m);const f=new bN(n,r,c);return Rf.set(a,f),f}function Cx(t=ag){const e=Rf.get(t);if(!e&&t===ag&&Tx())return Rx();if(!e)throw gs.create("no-app",{appName:t});return e}function ys(t,e,n){var r;let a=(r=yN[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(f.join(" "));return}Bo(new wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="firebase-heartbeat-database",EN=1,qu="firebase-heartbeat-store";let Op=null;function Ix(){return Op||(Op=UD(TN,EN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),Op}async function wN(t){try{const n=(await Ix()).transaction(qu),r=await n.objectStore(qu).get(Dx(t));return await n.done,r}catch(e){if(e instanceof Dr)xr.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function pT(t,e){try{const r=(await Ix()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,Dx(t)),await r.done}catch(n){if(n instanceof Dr)xr.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,SN=30;class AN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=gT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>SN){const c=IN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gT(),{heartbeatsToSend:r,unsentEntries:a}=RN(this._heartbeatsCache.heartbeats),l=Af(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return xr.warn(n),""}}}function gT(){return new Date().toISOString().substring(0,10)}function RN(t,e=xN){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mD()?pD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return pT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return pT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function yT(t){return Af(JSON.stringify({version:2,heartbeats:t})).length}function IN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){Bo(new wa("platform-logger",e=>new FD(e),"PRIVATE")),Bo(new wa("heartbeat",e=>new AN(e),"PRIVATE")),ys(sg,dT,t),ys(sg,dT,"esm2017"),ys("fire-js","")}DN("");function ly(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NN=Nx,Px=new fc("auth","Firebase",Nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new sy("@firebase/auth");function PN(t,...e){Cf.logLevel<=Ue.WARN&&Cf.warn(`Auth (${Jo}): ${t}`,...e)}function ff(t,...e){Cf.logLevel<=Ue.ERROR&&Cf.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw uy(t,...e)}function Vi(t,...e){return uy(t,...e)}function Mx(t,e,n){const r=Object.assign(Object.assign({},NN()),{[e]:n});return new fc("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return Mx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Px.create(t,...e)}function we(t,e,...n){if(!t)throw uy(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function Sr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MN(){return vT()==="http:"||vT()==="https:"}function vT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MN()||cD()||"connection"in navigator)?navigator.onLine:!0}function kN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=oD()||hD()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jN=new mc(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,n,r,a={}){return kx(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=dc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return uD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&hc(t.emulatorConfig.host)&&(p.credentials="include"),Ox.fetch()(await Vx(t,t.config.apiHost,n,f),p)})}async function kx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VN),e);try{const a=new zN(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Wh(t,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mx(t,y,p);yi(t,y)}}catch(a){if(a instanceof Dr)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function el(t,e,n,r,a={}){const l=await Is(t,e,n,r,a);return"mfaPendingCredential"in l&&yi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Vx(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?cy(t.config,a):`${t.config.apiScheme}://${a}`;return LN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function UN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),jN.get())})}}function Wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Vi(t,e,r);return a.customData._tokenResponse=n,a}function _T(t){return t!==void 0&&t.enterprise!==void 0}class BN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FN(t,e){return Is(t,"GET","/v2/recaptchaConfig",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function If(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(t,e=!1){const n=si(t),r=await n.getIdToken(e),a=hy(r);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Mu(kp(a.auth_time)),issuedAtTime:Mu(kp(a.iat)),expirationTime:Mu(kp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function kp(t){return Number(t)*1e3}function hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=_x(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bT(t){const e=hy(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&GN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Gu(t,If(n,{idToken:r}));we(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Lx(l.providerUserInfo):[],f=YN(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ug(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function $N(t){const e=si(t);await Df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YN(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Lx(t){return t.map(e=>{var{providerId:n}=e,r=ly(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e){const n=await kx(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Vx(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Ox.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XN(t,e){return Is(t,"POST","/v2/accounts:revokeToken",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=bT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await QN(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Lo;return r&&(we(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qN(this,e)}reload(){return $N(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Gu(this,HN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(f=n.tenantId)!==null&&f!==void 0?f:void 0,D=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,V=(p=n.createdAt)!==null&&p!==void 0?p:void 0,$=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:oe,isAnonymous:Z,providerData:le,stsTokenManager:O}=n;we(B&&O,e,"internal-error");const S=Lo.fromJSON(this.name,O);we(typeof B=="string",e,"internal-error"),os(_,e.name),os(E,e.name),we(typeof oe=="boolean",e,"internal-error"),we(typeof Z=="boolean",e,"internal-error"),os(A,e.name),os(C,e.name),os(N,e.name),os(D,e.name),os(V,e.name),os($,e.name);const I=new mi({uid:B,auth:e,email:E,emailVerified:oe,displayName:_,isAnonymous:Z,photoURL:C,phoneNumber:A,tenantId:N,stsTokenManager:S,createdAt:V,lastLoginAt:$});return le&&Array.isArray(le)&&(I.providerData=le.map(L=>Object.assign({},L))),D&&(I._redirectEventId=D),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new Lo;a.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Df(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Lx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Lo;f.updateFromIdToken(r);const m=new mi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function _r(t){Sr(t instanceof Function,"Expected a class definition");let e=TT.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jx.type="NONE";const ET=jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await If(this.auth,{idToken:e}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(_r(ET),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||_r(ET);const c=df(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await If(e,{idToken:y}).catch(()=>{});if(!E)break;_=await mi._fromGetAccountInfoResponse(e,E,y)}else _=mi._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new jo(l,e,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new jo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(Gx(e))return"Webos";if(zx(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(Hx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ux(t=fn()){return/firefox\//i.test(t)}function zx(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(t=fn()){return/crios\//i.test(t)}function Fx(t=fn()){return/iemobile/i.test(t)}function Hx(t=fn()){return/android/i.test(t)}function qx(t=fn()){return/blackberry/i.test(t)}function Gx(t=fn()){return/webos/i.test(t)}function fy(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WN(t=fn()){var e;return fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZN(){return fD()&&document.documentMode===10}function Kx(t=fn()){return fy(t)||Hx(t)||Gx(t)||qx(t)||/windows phone/i.test(t)||Fx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e=[]){let n;switch(t){case"Browser":n=wT(fn());break;case"Worker":n=`${wT(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e={}){return Is(t,"GET","/v2/passwordPolicy",Nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=6;class nP{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:tP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xT(this),this.idTokenSubscription=new xT(this),this.beforeStateQueue=new JN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await If(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(gi(this));const n=e?si(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eP(this),n=new nP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pr(t){return si(t)}class xT{constructor(e){this.auth=e,this.observer=null,this.addObserver=bD(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rP(t){id=t}function Yx(t){return id.loadJS(t)}function sP(){return id.recaptchaEnterpriseScript}function aP(){return id.gapiScript}function oP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lP{constructor(){this.enterprise=new uP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cP="recaptcha-enterprise",Qx="NO_RECAPTCHA";class hP{constructor(e){this.type=cP,this.auth=Pr(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{FN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new BN(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;_T(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Qx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&_T(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sP();m.length!==0&&(m+=f),Yx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function ST(t,e,n,r=!1,a=!1){const l=new hP(t);let c;if(a)c=Qx;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cg(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ST(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ST(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e){const n=oy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ea(l,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function dP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mP(t,e,n){const r=Pr(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Xx(e),{host:c,port:f}=pP(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Ea(p,r.config.emulator)&&Ea(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,hc(c)?(wx(`${l}//${c}${m}`),xx("Auth",!0)):gP()}function Xx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pP(t){const e=Xx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:AT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:AT(c)}}}function AT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function yP(t,e){return Is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e){return el(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e){return el(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}async function bP(t,e){return el(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends dy{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,n,"signInWithPassword",vP);case"emailLink":return _P(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",yP);case"emailLink":return bP(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return el(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="http://localhost";class xa extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=ly(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new xa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:TP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wP(t){const e=Au(Ru(t)).link,n=e?Au(Ru(e)).deep_link_id:null,r=Au(Ru(t)).deep_link_id;return(r?Au(Ru(r)).link:null)||r||n||e||t}class my{constructor(e){var n,r,a,l,c,f;const m=Au(Ru(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=EP((a=m.mode)!==null&&a!==void 0?a:null);we(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=wP(e);try{return new my(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=my.parseLink(n);return we(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Wx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends pc{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends pc{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends pc{constructor(){super("twitter.com")}static credential(e,n){return xa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e){return el(t,"POST","/v1/accounts:signUp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await mi._fromIdTokenResponse(e,r,a),c=RT(r);return new Hi({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=RT(r);return new Hi({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function RT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t){var e;if(xn(t.app))return Promise.reject(gi(t));const n=Pr(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Hi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Zx(n,{returnSecureToken:!0}),a=await Hi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends Dr{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Nf(e,n,r,a)}}function Jx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(t,l,e,r):l})}async function xP(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(gi(r));const a="reauthenticate";try{const l=await Gu(t,Jx(r,a,e,t),n);we(l.idToken,r,"internal-error");const c=hy(l.idToken);we(c,r,"internal-error");const{sub:f}=c;return we(t.uid===f,r,"user-mismatch"),Hi._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(t,e,n=!1){if(xn(t.app))return Promise.reject(gi(t));const r="signIn",a=await Jx(t,r,e),l=await Hi._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function AP(t,e){return e1(Pr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){return el(t,"POST","/v1/accounts:signInWithCustomToken",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){if(xn(t.app))return Promise.reject(gi(t));const n=Pr(t),r=await RP(n,{token:e,returnSecureToken:!0}),a=await Hi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(t){const e=Pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IP(t,e,n){if(xn(t.app))return Promise.reject(gi(t));const r=Pr(t),c=await cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zx).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&t1(t),m}),f=await Hi._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function DP(t,e,n){return xn(t.app)?Promise.reject(gi(t)):AP(si(t),tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&t1(t),r})}function NP(t,e,n,r){return si(t).onIdTokenChanged(e,n,r)}function PP(t,e,n){return si(t).beforeAuthStateChanged(e,n)}function MP(t,e,n,r){return si(t).onAuthStateChanged(e,n,r)}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=1e3,kP=10;class i1 extends n1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);ZN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}i1.type="LOCAL";const VP=i1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends n1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r1.type="SESSION";const s1=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await LP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=py("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function UP(t){Li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function zP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FP(){return a1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebaseLocalStorageDb",HP=1,Mf="firebaseLocalStorage",l1="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(t,e){return t.transaction([Mf],e?"readwrite":"readonly").objectStore(Mf)}function qP(){const t=indexedDB.deleteDatabase(o1);return new gc(t).toPromise()}function hg(){const t=indexedDB.open(o1,HP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mf,{keyPath:l1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mf)?e(r):(r.close(),await qP(),e(await hg()))})})}async function IT(t,e,n){const r=sd(t,!0).put({[l1]:e,value:n});return new gc(r).toPromise()}async function GP(t,e){const n=sd(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function DT(t,e){const n=sd(t,!0).delete(e);return new gc(n).toPromise()}const KP=800,$P=3;class u1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$P)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(FP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zP(),!this.activeServiceWorker)return;this.sender=new jP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await IT(e,Pf,"1"),await DT(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=sd(a,!1).getAll();return new gc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u1.type="LOCAL";const YP=u1;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){return e?_r(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XP(t){return e1(t.auth,new gy(t),t.bypassAuthState)}function WP(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),SP(n,new gy(t),t.bypassAuthState)}async function ZP(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),xP(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XP;case"linkViaPopup":case"linkViaRedirect":return ZP;case"reauthViaPopup":case"reauthViaRedirect":return WP;default:yi(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new mc(2e3,1e4);class No extends c1{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JP.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="pendingRedirect",mf=new Map;class tM extends c1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const r=await nM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nM(t,e){const n=sM(e),r=rM(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function iM(t,e){mf.set(t._key(),e)}function rM(t){return _r(t._redirectPersistence)}function sM(t){return df(eM,t.config.apiKey,t.name)}async function aM(t,e,n=!1){if(xn(t.app))return Promise.reject(gi(t));const r=Pr(t),a=QP(r,e),c=await new tM(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=10*60*1e3;class lM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oM&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fM=/^https?/;async function dM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cM(t);for(const n of e)try{if(mM(n))return}catch{}yi(t,"unauthorized-domain")}function mM(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!fM.test(n))return!1;if(hM.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new mc(3e4,6e4);function PT(){const t=Li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gM(t){return new Promise((e,n)=>{var r,a,l;function c(){PT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PT(),n(Vi(t,"network-request-failed"))},timeout:pM.get()})}if(!((a=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Li().gapi)===null||l===void 0)&&l.load)c();else{const f=oP("iframefcb");return Li()[f]=()=>{gapi.load?c():n(Vi(t,"network-request-failed"))},Yx(`${aP()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw pf=null,e})}let pf=null;function yM(t){return pf=pf||gM(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new mc(5e3,15e3),_M="__/auth/iframe",bM="emulator/auth/iframe",TM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wM(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cy(e,bM):`https://${t.config.authDomain}/${_M}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},a=EM.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${dc(r).slice(1)}`}async function xM(t){const e=await yM(t),n=Li().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:wM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Vi(t,"network-request-failed"),f=Li().setTimeout(()=>{l(c)},vM.get());function m(){Li().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AM=500,RM=600,CM="_blank",IM="http://localhost";class MT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DM(t,e,n,r=AM,a=RM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},SM),{width:r.toString(),height:a.toString(),top:l,left:c}),p=fn().toLowerCase();n&&(f=Bx(p)?CM:n),Ux(p)&&(e=e||IM,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,C])=>`${E}${A}=${C},`,"");if(WN(p)&&f!=="_self")return NM(e||"",f),new MT(null);const _=window.open(e||"",f,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new MT(_)}function NM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="__/auth/handler",MM="emulator/auth/handler",OM=encodeURIComponent("fac");async function OT(t,e,n,r,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:a};if(e instanceof Wx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",_D(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof pc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${OM}=${encodeURIComponent(m)}`:"";return`${kM(t)}?${dc(f).slice(1)}${p}`}function kM({config:t}){return t.emulator?cy(t,MM):`https://${t.authDomain}/${PM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class VM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s1,this._completeRedirectFn=aM,this._overrideRedirectResult=iM}async _openPopup(e,n,r,a){var l;Sr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await OT(e,n,r,lg(),a);return DM(e,c,py())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await OT(e,n,r,lg(),a);return UP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Sr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xM(e),r=new lM(e);return n.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vp,{type:Vp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Vp];c!==void 0&&n(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kx()||zx()||fy()}}const LM=VM;var kT="@firebase/auth",VT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zM(t){Bo(new wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$x(t)},p=new iP(r,a,l,m);return dP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new wa("auth-internal",e=>{const n=Pr(e.getProvider("auth").getImmediate());return(r=>new jM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(kT,VT,UM(t)),ys(kT,VT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=5*60,FM=Ex("authIdTokenMaxAge")||BM;let LT=null;const HM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FM)return;const a=n==null?void 0:n.token;LT!==a&&(LT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function f1(t=Cx()){const e=oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fP(t,{popupRedirectResolver:LM,persistence:[YP,VP,s1]}),r=Ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=HM(l.toString());PP(n,c,()=>c(n.currentUser)),NP(n,f=>c(f))}}const a=bx("auth");return a&&mP(n,`http://${a}`),n}function qM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Vi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",qM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zM("Browser");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,d1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function I(){}I.prototype=S.prototype,O.D=S.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(L,z,F){for(var k=Array(arguments.length-2),at=2;at<arguments.length;at++)k[at-2]=arguments[at];return S.prototype[z].apply(L,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,S,I){I||(I=0);var L=Array(16);if(typeof S=="string")for(var z=0;16>z;++z)L[z]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(z=0;16>z;++z)L[z]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=O.g[0],I=O.g[1],z=O.g[2];var F=O.g[3],k=S+(F^I&(z^F))+L[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=F+(z^S&(I^z))+L[1]+3905402710&4294967295,F=S+(k<<12&4294967295|k>>>20),k=z+(I^F&(S^I))+L[2]+606105819&4294967295,z=F+(k<<17&4294967295|k>>>15),k=I+(S^z&(F^S))+L[3]+3250441966&4294967295,I=z+(k<<22&4294967295|k>>>10),k=S+(F^I&(z^F))+L[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=F+(z^S&(I^z))+L[5]+1200080426&4294967295,F=S+(k<<12&4294967295|k>>>20),k=z+(I^F&(S^I))+L[6]+2821735955&4294967295,z=F+(k<<17&4294967295|k>>>15),k=I+(S^z&(F^S))+L[7]+4249261313&4294967295,I=z+(k<<22&4294967295|k>>>10),k=S+(F^I&(z^F))+L[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=F+(z^S&(I^z))+L[9]+2336552879&4294967295,F=S+(k<<12&4294967295|k>>>20),k=z+(I^F&(S^I))+L[10]+4294925233&4294967295,z=F+(k<<17&4294967295|k>>>15),k=I+(S^z&(F^S))+L[11]+2304563134&4294967295,I=z+(k<<22&4294967295|k>>>10),k=S+(F^I&(z^F))+L[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=F+(z^S&(I^z))+L[13]+4254626195&4294967295,F=S+(k<<12&4294967295|k>>>20),k=z+(I^F&(S^I))+L[14]+2792965006&4294967295,z=F+(k<<17&4294967295|k>>>15),k=I+(S^z&(F^S))+L[15]+1236535329&4294967295,I=z+(k<<22&4294967295|k>>>10),k=S+(z^F&(I^z))+L[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=F+(I^z&(S^I))+L[6]+3225465664&4294967295,F=S+(k<<9&4294967295|k>>>23),k=z+(S^I&(F^S))+L[11]+643717713&4294967295,z=F+(k<<14&4294967295|k>>>18),k=I+(F^S&(z^F))+L[0]+3921069994&4294967295,I=z+(k<<20&4294967295|k>>>12),k=S+(z^F&(I^z))+L[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=F+(I^z&(S^I))+L[10]+38016083&4294967295,F=S+(k<<9&4294967295|k>>>23),k=z+(S^I&(F^S))+L[15]+3634488961&4294967295,z=F+(k<<14&4294967295|k>>>18),k=I+(F^S&(z^F))+L[4]+3889429448&4294967295,I=z+(k<<20&4294967295|k>>>12),k=S+(z^F&(I^z))+L[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=F+(I^z&(S^I))+L[14]+3275163606&4294967295,F=S+(k<<9&4294967295|k>>>23),k=z+(S^I&(F^S))+L[3]+4107603335&4294967295,z=F+(k<<14&4294967295|k>>>18),k=I+(F^S&(z^F))+L[8]+1163531501&4294967295,I=z+(k<<20&4294967295|k>>>12),k=S+(z^F&(I^z))+L[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=F+(I^z&(S^I))+L[2]+4243563512&4294967295,F=S+(k<<9&4294967295|k>>>23),k=z+(S^I&(F^S))+L[7]+1735328473&4294967295,z=F+(k<<14&4294967295|k>>>18),k=I+(F^S&(z^F))+L[12]+2368359562&4294967295,I=z+(k<<20&4294967295|k>>>12),k=S+(I^z^F)+L[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=F+(S^I^z)+L[8]+2272392833&4294967295,F=S+(k<<11&4294967295|k>>>21),k=z+(F^S^I)+L[11]+1839030562&4294967295,z=F+(k<<16&4294967295|k>>>16),k=I+(z^F^S)+L[14]+4259657740&4294967295,I=z+(k<<23&4294967295|k>>>9),k=S+(I^z^F)+L[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=F+(S^I^z)+L[4]+1272893353&4294967295,F=S+(k<<11&4294967295|k>>>21),k=z+(F^S^I)+L[7]+4139469664&4294967295,z=F+(k<<16&4294967295|k>>>16),k=I+(z^F^S)+L[10]+3200236656&4294967295,I=z+(k<<23&4294967295|k>>>9),k=S+(I^z^F)+L[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=F+(S^I^z)+L[0]+3936430074&4294967295,F=S+(k<<11&4294967295|k>>>21),k=z+(F^S^I)+L[3]+3572445317&4294967295,z=F+(k<<16&4294967295|k>>>16),k=I+(z^F^S)+L[6]+76029189&4294967295,I=z+(k<<23&4294967295|k>>>9),k=S+(I^z^F)+L[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=F+(S^I^z)+L[12]+3873151461&4294967295,F=S+(k<<11&4294967295|k>>>21),k=z+(F^S^I)+L[15]+530742520&4294967295,z=F+(k<<16&4294967295|k>>>16),k=I+(z^F^S)+L[2]+3299628645&4294967295,I=z+(k<<23&4294967295|k>>>9),k=S+(z^(I|~F))+L[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=F+(I^(S|~z))+L[7]+1126891415&4294967295,F=S+(k<<10&4294967295|k>>>22),k=z+(S^(F|~I))+L[14]+2878612391&4294967295,z=F+(k<<15&4294967295|k>>>17),k=I+(F^(z|~S))+L[5]+4237533241&4294967295,I=z+(k<<21&4294967295|k>>>11),k=S+(z^(I|~F))+L[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=F+(I^(S|~z))+L[3]+2399980690&4294967295,F=S+(k<<10&4294967295|k>>>22),k=z+(S^(F|~I))+L[10]+4293915773&4294967295,z=F+(k<<15&4294967295|k>>>17),k=I+(F^(z|~S))+L[1]+2240044497&4294967295,I=z+(k<<21&4294967295|k>>>11),k=S+(z^(I|~F))+L[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=F+(I^(S|~z))+L[15]+4264355552&4294967295,F=S+(k<<10&4294967295|k>>>22),k=z+(S^(F|~I))+L[6]+2734768916&4294967295,z=F+(k<<15&4294967295|k>>>17),k=I+(F^(z|~S))+L[13]+1309151649&4294967295,I=z+(k<<21&4294967295|k>>>11),k=S+(z^(I|~F))+L[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=F+(I^(S|~z))+L[11]+3174756917&4294967295,F=S+(k<<10&4294967295|k>>>22),k=z+(S^(F|~I))+L[2]+718787259&4294967295,z=F+(k<<15&4294967295|k>>>17),k=I+(F^(z|~S))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(z+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+F&4294967295}r.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var I=S-this.blockSize,L=this.B,z=this.h,F=0;F<S;){if(z==0)for(;F<=I;)a(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<S;)if(L[z++]=O.charCodeAt(F++),z==this.blockSize){a(this,L),z=0;break}}else for(;F<S;)if(L[z++]=O[F++],z==this.blockSize){a(this,L),z=0;break}}this.h=z,this.o+=S},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var I=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=I&255,I/=256;for(this.u(O),O=Array(16),S=I=0;4>S;++S)for(var L=0;32>L;L+=8)O[I++]=this.g[S]>>>L&255;return O};function l(O,S){var I=f;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=S(O)}function c(O,S){this.h=S;for(var I=[],L=!0,z=O.length-1;0<=z;z--){var F=O[z]|0;L&&F==S||(I[z]=F,L=!1)}this.g=I}var f={};function m(O){return-128<=O&&128>O?l(O,function(S){return new c([S|0],0>S?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return D(p(-O));for(var S=[],I=1,L=0;O>=I;L++)S[L]=O/I|0,I*=4294967296;return new c(S,0)}function y(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return D(y(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(S,8)),L=_,z=0;z<O.length;z+=8){var F=Math.min(8,O.length-z),k=parseInt(O.substring(z,z+F),S);8>F?(F=p(Math.pow(S,F)),L=L.j(F).add(p(k))):(L=L.j(I),L=L.add(p(k)))}return L}var _=m(0),E=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(N(this))return-D(this).m();for(var O=0,S=1,I=0;I<this.g.length;I++){var L=this.i(I);O+=(0<=L?L:4294967296+L)*S,S*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(N(this))return"-"+D(this).toString(O);for(var S=p(Math.pow(O,6)),I=this,L="";;){var z=oe(I,S).g;I=V(I,z.j(S));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=z,C(I))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function N(O){return O.h==-1}t.l=function(O){return O=V(this,O),N(O)?-1:C(O)?0:1};function D(O){for(var S=O.g.length,I=[],L=0;L<S;L++)I[L]=~O.g[L];return new c(I,~O.h).add(E)}t.abs=function(){return N(this)?D(this):this},t.add=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],L=0,z=0;z<=S;z++){var F=L+(this.i(z)&65535)+(O.i(z)&65535),k=(F>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);L=k>>>16,F&=65535,k&=65535,I[z]=k<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function V(O,S){return O.add(D(S))}t.j=function(O){if(C(this)||C(O))return _;if(N(this))return N(O)?D(this).j(D(O)):D(D(this).j(O));if(N(O))return D(this.j(D(O)));if(0>this.l(A)&&0>O.l(A))return p(this.m()*O.m());for(var S=this.g.length+O.g.length,I=[],L=0;L<2*S;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<O.g.length;z++){var F=this.i(L)>>>16,k=this.i(L)&65535,at=O.i(z)>>>16,$e=O.i(z)&65535;I[2*L+2*z]+=k*$e,$(I,2*L+2*z),I[2*L+2*z+1]+=F*$e,$(I,2*L+2*z+1),I[2*L+2*z+1]+=k*at,$(I,2*L+2*z+1),I[2*L+2*z+2]+=F*at,$(I,2*L+2*z+2)}for(L=0;L<S;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=S;L<2*S;L++)I[L]=0;return new c(I,0)};function $(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function B(O,S){this.g=O,this.h=S}function oe(O,S){if(C(S))throw Error("division by zero");if(C(O))return new B(_,_);if(N(O))return S=oe(D(O),S),new B(D(S.g),D(S.h));if(N(S))return S=oe(O,D(S)),new B(D(S.g),S.h);if(30<O.g.length){if(N(O)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var I=E,L=S;0>=L.l(O);)I=Z(I),L=Z(L);var z=le(I,1),F=le(L,1);for(L=le(L,2),I=le(I,2);!C(L);){var k=F.add(L);0>=k.l(O)&&(z=z.add(I),F=k),L=le(L,1),I=le(I,1)}return S=V(O,z.j(S)),new B(z,S)}for(z=_;0<=O.l(S);){for(I=Math.max(1,Math.floor(O.m()/S.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=p(I),k=F.j(S);N(k)||0<k.l(O);)I-=L,F=p(I),k=F.j(S);C(F)&&(F=E),z=z.add(F),O=V(O,k)}return new B(z,O)}t.A=function(O){return oe(this,O).h},t.and=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],L=0;L<S;L++)I[L]=this.i(L)&O.i(L);return new c(I,this.h&O.h)},t.or=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],L=0;L<S;L++)I[L]=this.i(L)|O.i(L);return new c(I,this.h|O.h)},t.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],L=0;L<S;L++)I[L]=this.i(L)^O.i(L);return new c(I,this.h^O.h)};function Z(O){for(var S=O.g.length+1,I=[],L=0;L<S;L++)I[L]=O.i(L)<<1|O.i(L-1)>>>31;return new c(I,O.h)}function le(O,S){var I=S>>5;S%=32;for(var L=O.g.length-I,z=[],F=0;F<L;F++)z[F]=0<S?O.i(F+I)>>>S|O.i(F+I+1)<<32-S:O.i(F+I);return new c(z,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,vs=c}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,Cu,p1,gf,fg,g1,y1,v1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in b))break e;b=b[q]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,R=!1,q={next:function(){if(!R&&b<h.length){var X=b++;return{value:v(X,h[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function A(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,q,X){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return v.prototype[q].apply(R,ce)}}function N(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function D(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(m(R)){const q=h.length||0,X=R.length||0;h.length=q+X;for(let ce=0;ce<X;ce++)h[q+ce]=R[ce]}else h.push(R)}}class V{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function oe(h){return oe[" "](h),h}oe[" "]=function(){};var Z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function le(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function O(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function S(h){const v={};for(const b in h)v[b]=h[b];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let b,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(b in R)h[b]=R[b];for(let X=0;X<I.length;X++)b=I[X],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function z(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function F(h){f.setTimeout(()=>{throw h},0)}function k(){var h=Oe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class at{constructor(){this.h=this.g=null}add(v,b){const R=$e.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var $e=new V(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,te=!1,Oe=new at,j=()=>{const h=f.Promise.resolve(void 0);ae=()=>{h.then(re)}};var re=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(b){F(b)}var v=$e;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}te=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h}();function Ie(h,v){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Z){e:{try{oe(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}C(Ie,se);var Ee={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function mn(h,v,b,R,q){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=q,this.key=++Xe,this.da=this.fa=!1}function Rn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Cn(h){this.src=h,this.g={},this.h=0}Cn.prototype.add=function(h,v,b,R,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ce=Ns(h,v,R,q);return-1<ce?(v=h[ce],b||(v.fa=!1)):(v=new mn(v,this.src,X,!!R,q),v.fa=b,h.push(v)),v};function Un(h,v){var b=v.type;if(b in h.g){var R=h.g[b],q=Array.prototype.indexOf.call(R,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(R,q,1),X&&(Rn(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ns(h,v,b,R){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==R)return q}return-1}var Ps="closure_lm_"+(1e6*Math.random()|0),fl={};function Ac(h,v,b,R,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Ac(h,v[X],b,R,q);return null}return b=Rc(b),h&&h[Ve]?h.K(v,b,p(R)?!!R.capture:!1,q):zn(h,v,b,!1,R,q)}function zn(h,v,b,R,q,X){if(!v)throw Error("Invalid event type");var ce=p(q)?!!q.capture:!!q,Be=Ma(h);if(Be||(h[Ps]=Be=new Cn(h)),b=Be.add(v,b,R,ce,X),b.proxy)return b;if(R=Ed(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)de||(q=ce),q===void 0&&(q=!1),h.addEventListener(v.toString(),R,q);else if(h.attachEvent)h.attachEvent(Ms(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ed(){function h(b){return v.call(h.src,h.listener,b)}const v=wd;return h}function dl(h,v,b,R,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)dl(h,v[X],b,R,q);else R=p(R)?!!R.capture:!!R,b=Rc(b),h&&h[Ve]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],b=Ns(X,b,R,q),-1<b&&(Rn(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ma(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ns(v,b,R,q)),(b=-1<h?v[h]:null)&&Pa(b))}function Pa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ve])Un(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Ms(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=Ma(v))?(Un(b,h),b.h==0&&(b.src=null,v[Ps]=null)):Rn(h)}}}function Ms(h){return h in fl?fl[h]:fl[h]="on"+h}function wd(h,v){if(h.da)h=!0;else{v=new Ie(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&Pa(h),h=b.call(R,v)}return h}function Ma(h){return h=h[Ps],h instanceof Cn?h:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(v){return h.handleEvent(v)}),h[ml])}function mt(){he.call(this),this.i=new Cn(this),this.M=this,this.F=null}C(mt,he),mt.prototype[Ve]=!0,mt.prototype.removeEventListener=function(h,v,b,R){dl(this,h,v,b,R)};function We(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new se(v,h);else if(v instanceof se)v.target=v.target||h;else{var q=v;v=new se(R,h),L(v,q)}if(q=!0,b)for(var X=b.length-1;0<=X;X--){var ce=v.g=b[X];q=In(ce,R,!0,v)&&q}if(ce=v.g=h,q=In(ce,R,!0,v)&&q,q=In(ce,R,!1,v)&&q,b)for(X=0;X<b.length;X++)ce=v.g=b[X],q=In(ce,R,!1,v)&&q}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Rn(b[R]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},mt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function In(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var ce=v[X];if(ce&&!ce.da&&ce.capture==b){var Be=ce.listener,Mt=ce.ha||ce.src;ce.fa&&Un(h.i,ce),q=Be.call(Mt,R)!==!1&&q}}return q&&!R.defaultPrevented}function rn(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Cc(h){h.g=rn(()=>{h.g=null,h.i&&(h.i=!1,Cc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class xd extends he{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(h){he.call(this),this.h=h,this.g={}}C(Os,he);var ks=[];function Vs(h){le(h.g,function(v,b){this.g.hasOwnProperty(b)&&Pa(v)},h),h.g={}}Os.prototype.N=function(){Os.aa.N.call(this),Vs(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=f.JSON.stringify,Oa=f.JSON.parse,Ls=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function pl(){}pl.prototype.h=null;function gl(h){return h.h||(h.h=h.i())}function yl(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){se.call(this,"d")}C($i,se);function vl(){se.call(this,"c")}C(vl,se);var _i={},_l=null;function Mr(){return _l=_l||new mt}_i.La="serverreachability";function ka(h){se.call(this,_i.La,h)}C(ka,se);function Or(h){const v=Mr();We(v,new ka(v))}_i.STAT_EVENT="statevent";function Ic(h,v){se.call(this,_i.STAT_EVENT,h),this.stat=v}C(Ic,se);function ot(h){const v=Mr();We(v,new Ic(v,h))}_i.Ma="timingevent";function Pt(h,v){se.call(this,_i.Ma,h),this.size=v}C(Pt,se);function At(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function bl(h,v,b,R,q,X){h.info(function(){if(h.g)if(X)for(var ce="",Be=X.split("&"),Mt=0;Mt<Be.length;Mt++){var Fe=Be[Mt].split("=");if(1<Fe.length){var Ft=Fe[0];Fe=Fe[1];var Ot=Ft.split("_");ce=2<=Ot.length&&Ot[1]=="type"?ce+(Ft+"="+Fe+"&"):ce+(Ft+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+b+`
`+ce})}function Sd(h,v,b,R,q,X,ce){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+b+`
`+X+" "+ce})}function kr(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+js(h,b)+(R?" "+R:"")})}function Dc(h,v){h.info(function(){return"TIMEOUT: "+v})}Bn.prototype.info=function(){};function js(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return oi(b)}catch{return v}}var Vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Ti(){}C(Ti,pl),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},bi=new Ti;function pn(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Tl={},Va={};function li(h,v,b){h.L=1,h.v=Hs(Dn(v)),h.m=b,h.P=!0,Qi(h,null)}function Qi(h,v){h.F=Date.now(),Us(h),h.A=Dn(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Rl(b.i,"t",R),h.C=0,b=h.j.J,h.h=new _t,h.g=Kc(h.j,b?v:null,!h.m),0<h.O&&(h.M=new xd(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(ks[0]=q.toString()),q=ks);for(var X=0;X<q.length;X++){var ce=Ac(b,q[X],R||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Or(),bl(h.i,h.u,h.A,h.l,h.R,h.m)}pn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Gn(h)==3?v.j():this.Y(h)},pn.prototype.Y=function(h){try{if(h==this.g)e:{const Ot=Gn(this.g);var v=this.g.Ba();const ir=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||jc(this.g)))){this.J||Ot!=4||v==7||(v==8||0>=ir?Or(3):Or(2)),Lr(this);var b=this.g.Z();this.X=b;t:if(Nc(this)){var R=jc(this.g);h="";var q=R.length,X=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),Ei(this);var ce="";break t}this.h.i=new f.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(X&&v==q-1)});R.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=b==200,Sd(this.i,this.u,this.A,this.l,this.R,Ot,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Mt=this.g;if((Be=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Be)){var Fe=Be;break t}}Fe=null}if(b=Fe)kr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,b);else{this.o=!1,this.s=3,ot(12),Yt(this),Ei(this);break e}}if(this.P){b=!0;let Qt;for(;!this.J&&this.C<ce.length;)if(Qt=Pc(this,ce),Qt==Va){Ot==4&&(this.s=4,ot(14),b=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Tl){this.s=4,ot(15),kr(this.i,this.l,ce,"[Invalid Chunk]"),b=!1;break}else kr(this.i,this.l,Qt,null),zs(this,Qt);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ce.length!=0||this.h.h||(this.s=1,ot(16),b=!1),this.o=this.o&&b,!b)kr(this.i,this.l,ce,"[Invalid Chunked Response]"),Yt(this),Ei(this);else if(0<ce.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ws(Ft),Ft.M=!0,ot(11))}}else kr(this.i,this.l,ce,null),zs(this,ce);Ot==4&&Yt(this),this.o&&!this.J&&(Ot==4?Hc(this.j,this):(this.o=!1,Us(this)))}else Dd(this.g),b==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Yt(this),Ei(this)}}}catch{}finally{}};function Nc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pc(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?Va:(b=Number(v.substring(b,R)),isNaN(b)?Tl:(R+=1,R+b>v.length?Va:(v=v.slice(R,R+b),h.C=R+b,v)))}pn.prototype.cancel=function(){this.J=!0,Yt(this)};function Us(h){h.S=Date.now()+h.I,Mc(h,h.I)}function Mc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(E(h.ba,h),v)}function Lr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}pn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dc(this.i,this.A),this.L!=2&&(Or(),ot(17)),Yt(this),this.s=2,Ei(this)):Mc(this,this.S-h)};function Ei(h){h.j.G==0||h.J||Hc(h.j,h)}function Yt(h){Lr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Vs(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function zs(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||El(b.h,h))){if(!h.K&&El(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Ya(b),Ka(b);else break e;Pl(b),ot(18)}}else b.za=q[1],0<b.za-b.T&&37500>q[2]&&b.F&&b.v==0&&!b.C&&(b.C=At(E(b.Za,b),6e3));if(1>=ja(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else nr(b,11)}else if((h.K||b.g==h)&&Ya(b),!$(v))for(q=b.Da.g.parse(v),v=0;v<q.length;v++){let Fe=q[v];if(b.T=Fe[0],Fe=Fe[1],b.G==2)if(Fe[0]=="c"){b.K=Fe[1],b.ia=Fe[2];const Ft=Fe[3];Ft!=null&&(b.la=Ft,b.j.info("VER="+b.la));const Ot=Fe[4];Ot!=null&&(b.Aa=Ot,b.j.info("SVER="+b.Aa));const ir=Fe[5];ir!=null&&typeof ir=="number"&&0<ir&&(R=1.5*ir,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Qt=h.g;if(Qt){const Ii=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var X=R.h;X.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ua(X,X.h),X.h=null))}if(R.D){const Ol=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(R.ya=Ol,et(R.I,R.D,Ol))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ce=h;if(R.qa=Gc(R,R.J?R.ia:null,R.W),ce.K){gn(R.h,ce);var Be=ce,Mt=R.L;Mt&&(Be.I=Mt),Be.B&&(Lr(Be),Us(Be)),R.g=ce}else Bc(R);0<b.i.length&&$a(b)}else Fe[0]!="stop"&&Fe[0]!="close"||nr(b,7);else b.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?nr(b,7):Dl(b):Fe[0]!="noop"&&b.l&&b.l.ta(Fe),b.v=0)}}Or(4)}catch{}}var Oc=class{constructor(h,v){this.g=h,this.map=v}};function Xi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ja(h){return h.h?1:h.g?h.g.size:0}function El(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ua(h,v){h.g?h.g.add(v):h.h=v}function gn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Xi.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return N(h.i)}function Ad(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function za(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function xl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=za(h),R=Ad(h),q=R.length,X=0;X<q;X++)v.call(void 0,R[X],b&&b[X],h)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rd(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),q=null;if(0<=R){var X=h[b].substring(0,R);q=h[b].substring(R+1)}else X=h[b];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Rt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Rt){this.h=h.h,Fs(this,h.j),this.o=h.o,this.g=h.g,jr(this,h.s),this.l=h.l;var v=h.i,b=new Zi;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Wi(this,b),this.m=h.m}else h&&(v=String(h).match(Bs))?(this.h=!1,Fs(this,v[1]||"",!0),this.o=Fn(v[2]||""),this.g=Fn(v[3]||"",!0),jr(this,v[4]),this.l=Fn(v[5]||"",!0),Wi(this,v[6]||"",!0),this.m=Fn(v[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Rt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(qs(v,Sl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(qs(v,Sl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(qs(b,b.charAt(0)=="/"?Cd:Al,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",qs(b,Ba)),h.join("")};function Dn(h){return new Rt(h)}function Fs(h,v,b){h.j=b?Fn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function jr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Wi(h,v,b){v instanceof Zi?(h.i=v,Vc(h.i,h.h)):(b||(v=qs(v,Id)),h.i=new Zi(v,h.h))}function et(h,v,b){h.i.set(v,b)}function Hs(h){return et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qs(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,kc),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sl=/[#\/\?@]/g,Al=/[#\?:]/g,Cd=/[#\?]/g,Id=/[#\?@]/g,Ba=/#/g;function Zi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Rd(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Zi.prototype,t.add=function(h,v){Hn(this),this.i=null,h=wi(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Ji(h,v){Hn(h),v=wi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function er(h,v){return Hn(h),v=wi(h,v),h.g.has(v)}t.forEach=function(h,v){Hn(this),this.g.forEach(function(b,R){b.forEach(function(q){h.call(v,q,R,this)},this)},this)},t.na=function(){Hn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const q=h[R];for(let X=0;X<q.length;X++)b.push(v[R])}return b},t.V=function(h){Hn(this);let v=[];if(typeof h=="string")er(this,h)&&(v=v.concat(this.g.get(wi(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},t.set=function(h,v){return Hn(this),this.i=null,h=wi(this,h),er(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Rl(h,v,b){Ji(h,v),0<b.length&&(h.i=null,h.g.set(wi(h,v),N(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const X=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var q=X;ce[R]!==""&&(q+="="+encodeURIComponent(String(ce[R]))),h.push(q)}}return this.i=h.join("&")};function wi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Vc(h,v){v&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(b,R){var q=R.toLowerCase();R!=q&&(Ji(this,R),Rl(this,q,b))},h)),h.j=v}function Gs(h,v){const b=new Bn;if(f.Image){const R=new Image;R.onload=A(qn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=A(qn,b,"TestLoadImage: error",!1,v,R),R.onabort=A(qn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=A(qn,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function ui(h,v){const b=new Bn,R=new AbortController,q=setTimeout(()=>{R.abort(),qn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?qn(b,"TestPingServer: ok",!0,v):qn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),qn(b,"TestPingServer: error",!1,v)})}function qn(h,v,b,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(b)}catch{}}function Ks(){this.g=new Ls}function xi(h,v,b){const R=b||"";try{xl(h,function(q,X){let ce=q;p(q)&&(ce=oi(q)),v.push(R+X+"="+encodeURIComponent(ce))})}catch(q){throw v.push(R+"type="+encodeURIComponent("_badmap")),q}}function Ur(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Ur,pl),Ur.prototype.g=function(){return new tr(this.l,this.j)},Ur.prototype.i=function(h){return function(){return h}}({});function tr(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(tr,mt),t=tr.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ai(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Si(this):Ai(this),this.readyState==3&&Cl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Si(this))},t.Qa=function(h){this.g&&(this.response=h,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ai(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Il(h){let v="";return le(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function Bt(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Il(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):et(h,v,b))}function Ye(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ye,mt);var Fa=/^https?$/i,$s=["POST","PUT"];t=Ye.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?gl(this.o):gl(bi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Lc(this,X);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)b.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())b.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call($s,v,void 0))||R||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of b)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Lc(this,X)}};function Lc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ha(h),Ri(h)}function Ha(h){h.A||(h.A=!0,We(h,"complete"),We(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,We(this,"complete"),We(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},t.bb=function(){qa(this)};function qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Gn(h)!=4||h.Z()!=2)){if(h.u&&Gn(h)==4)rn(h.Ea,0,h);else if(We(h,"readystatechange"),Gn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=ce===0){var q=String(h.D).match(Bs)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),R=!Fa.test(q?q.toLowerCase():"")}b=R}if(b)We(h,"complete"),We(h,"success");else{h.m=6;try{var X=2<Gn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ha(h)}}finally{Ri(h)}}}}function Ri(h,v){if(h.g){Ys(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||We(h,"ready");try{b.onreadystatechange=R}catch{}}}function Ys(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Gn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Oa(v)}};function jc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Dd(h){const v={};h=(h.g&&2<=Gn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if($(h[R]))continue;var b=z(h[R]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[q]||[];v[q]=X,X.push(b)}O(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Ga(h){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,h),this.cb=Qs("retryDelaySeedMs",1e4,h),this.Wa=Qs("forwardChannelMaxRetries",2,h),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(h&&h.concurrentRequestLimit),this.Da=new Ks,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ga.prototype,t.la=8,t.G=1,t.connect=function(h,v,b,R){ot(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Gc(this,null,this.W),$a(this)};function Dl(h){if(Uc(h),h.G==3){var v=h.U++,b=Dn(h.I);if(et(b,"SID",h.K),et(b,"RID",v),et(b,"TYPE","terminate"),Xs(h,b),v=new pn(h,h.j,v),v.L=2,v.v=Hs(Dn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=Kc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Us(v)}qc(h)}function Ka(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function Uc(h){Ka(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ya(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function $a(h){if(!La(h.h)&&!h.s){h.s=!0;var v=h.Ga;ae||j(),te||(ae(),te=!0),Oe.add(v,h),h.B=0}}function Nd(h,v){return ja(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(E(h.Ga,h,v),Ml(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new pn(this,this.j,h);let X=this.o;if(this.S&&(X?(X=S(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=zc(this,q,v),b=Dn(this.I),et(b,"RID",h),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),Xs(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(Il(X)))+"&"+v:this.m&&Bt(b,this.m,X)),Ua(this.h,q),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",v),et(b,"SID","null"),q.T=!0,li(q,b,null)):li(q,b,v),this.G=2}}else this.G==3&&(h?Nl(this,h):this.i.length==0||La(this.h)||Nl(this))};function Nl(h,v){var b;v?b=v.l:b=h.U++;const R=Dn(h.I);et(R,"SID",h.K),et(R,"RID",b),et(R,"AID",h.T),Xs(h,R),h.m&&h.o&&Bt(R,h.m,h.o),b=new pn(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=zc(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ua(h.h,b),li(b,R,v)}function Xs(h,v){h.H&&le(h.H,function(b,R){et(v,R,b)}),h.l&&xl({},function(b,R){et(v,R,b)})}function zc(h,v,b){b=Math.min(h.i.length,b);var R=h.l?E(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const ce=["count="+b];X==-1?0<b?(X=q[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let Be=!0;for(let Mt=0;Mt<b;Mt++){let Fe=q[Mt].g;const Ft=q[Mt].map;if(Fe-=X,0>Fe)X=Math.max(0,q[Mt].g-100),Be=!1;else try{xi(Ft,ce,"req"+Fe+"_")}catch{R&&R(Ft)}}if(Be){R=ce.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function Bc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ae||j(),te||(ae(),te=!0),Oe.add(v,h),h.v=0}}function Pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(E(h.Fa,h),Ml(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ka(this),Fc(this))};function Ws(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Fc(h){h.g=new pn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Dn(h.qa);et(v,"RID","rpc"),et(v,"SID",h.K),et(v,"AID",h.T),et(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&et(v,"TO",h.ja),et(v,"TYPE","xmlhttp"),Xs(h,v),h.m&&h.o&&Bt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Hs(Dn(v)),b.m=null,b.P=!0,Qi(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Ka(this),Pl(this),ot(19))};function Ya(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Hc(h,v){var b=null;if(h.g==v){Ya(h),Ws(h),h.g=null;var R=2}else if(El(h.h,v))b=v.D,gn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;R=Mr(),We(R,new Pt(R,b)),$a(h)}else Bc(h);else if(q=v.s,q==3||q==0&&0<v.X||!(R==1&&Nd(h,v)||R==2&&Pl(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),q){case 1:nr(h,5);break;case 4:nr(h,10);break;case 3:nr(h,6);break;default:nr(h,2)}}}function Ml(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function nr(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),R=h.Xa;const q=!R;R=new Rt(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Fs(R,"https"),Hs(R),q?Gs(R.toString(),b):ui(R.toString(),b)}else ot(2);h.G=0,h.l&&h.l.sa(v),qc(h),Uc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function qc(h){if(h.G=0,h.ka=[],h.l){const v=wl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ka,v),D(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function Gc(h,v,b){var R=b instanceof Rt?Dn(b):new Rt(b);if(R.g!="")v&&(R.g=v+"."+R.g),jr(R,R.s);else{var q=f.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new Rt(null);R&&Fs(X,R),v&&(X.g=v),q&&jr(X,q),b&&(X.l=b),R=X}return b=h.D,v=h.ya,b&&v&&et(R,b,v),et(R,"VER",h.la),Xs(h,R),R}function Kc(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ye(new Ur({eb:b})):new Ye(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}t=$c.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(h,v){return new yn(h,v)};function yn(h,v){mt.call(this),this.g=new Ga(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!$(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ci(this)}C(yn,mt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Dl(this.g)},yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=oi(h),h=b);v.i.push(new Oc(v.Ya++,h)),v.G==3&&$a(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,yn.aa.N.call(this)};function Yc(h){$i.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Yc,$i);function Qc(){vl.call(this),this.status=1}C(Qc,vl);function Ci(h){this.g=h}C(Ci,$c),Ci.prototype.ua=function(){We(this.g,"a")},Ci.prototype.ta=function(h){We(this.g,new Yc(h))},Ci.prototype.sa=function(h){We(this.g,new Qc)},Ci.prototype.ra=function(){We(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,v1=function(){return new Qa},y1=function(){return Mr()},g1=_i,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,gf=Vr,Yi.COMPLETE="complete",p1=Yi,yl.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Cu=yl,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,m1=Ye}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const UT="@firebase/firestore",zT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new sy("@firebase/firestore");function Ro(){return Sa.logLevel}function fe(t,...e){if(Sa.logLevel<=Ue.DEBUG){const n=e.map(yy);Sa.debug(`Firestore (${nl}): ${t}`,...n)}}function Ar(t,...e){if(Sa.logLevel<=Ue.ERROR){const n=e.map(yy);Sa.error(`Firestore (${nl}): ${t}`,...n)}}function Fo(t,...e){if(Sa.logLevel<=Ue.WARN){const n=e.map(yy);Sa.warn(`Firestore (${nl}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_1(t,r,n)}function _1(t,e,n){let r=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function Qe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||_1(e,a,r)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class KM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $M{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _s,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _s)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new b1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class YM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new YM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=WM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function dg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Me(r,a);{const l=T1(),c=ZM(l.encode(FT(t,n)),l.encode(FT(e,n)));return c!==0?c:Me(r,a)}}n+=r>65535?2:1}return Me(t.length,e.length)}function FT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ZM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Me(t[n],e[n]);return Me(t.length,e.length)}function Ho(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=-62135596800,qT=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qT);return new Ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HT)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ut(0,0))}static max(){return new Re(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__name__";class ki{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=ki.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Me(e.length,n.length)}static compareSegments(e,n){const r=ki.isNumericId(e),a=ki.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ki.extractNumericId(e).compare(ki.extractNumericId(n)):dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class vt extends ki{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const JM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ki{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return JM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new tn([GT])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(vt.fromString(e))}static fromName(e){return new be(vt.fromString(e).popFirst(5))}static empty(){return new be(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function eO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new bs(a,be.empty(),e)}function tO(t){return new bs(t.readTime,t.key,$u)}class bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bs(Re.min(),be.empty(),$u)}static max(){return new bs(Re.max(),be.empty(),$u)}}function nO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==iO)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(a=>a?ie.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(e,n){return new ie((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function sO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ad.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-1;function od(t){return t==null}function Of(t){return t===0&&1/t==-1/0}function aO(t){return typeof t=="number"&&Number.isInteger(t)&&!Of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="";function oO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KT(e)),e=lO(t.get(n),e);return KT(e)}function lO(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case w1:n+="";break;default:n+=l}}return n}function KT(t){return t+w1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new en(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new pi([])}unionWith(e){let n=new zt(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new S1("Invalid base64 string: "+l):l}}(e);return new nn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const uO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=uO.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="server_timestamp",R1="__type__",C1="__previous_value__",I1="__local_write_time__";function _y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[R1])===null||n===void 0?void 0:n.stringValue)===A1}function ld(t){const e=t.mapValue.fields[C1];return _y(e)?ld(e):e}function Yu(t){const e=Ts(t.mapValue.fields[I1].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const kf="(default)";class Qu{constructor(e,n){this.projectId=e,this.database=n||kf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",hO="__max__",ef={mapValue:{}},N1="__vector__",Vf="value";function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_y(t)?4:dO(t)?9007199254740991:fO(t)?10:11:Ae(28295,{value:t})}function qi(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yu(t).isEqual(Yu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ts(a.timestampValue),f=Ts(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Es(a.bytesValue).isEqual(Es(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=xt(a.doubleValue),f=xt(l.doubleValue);return c===f?Of(c)===Of(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if($T(c)!==$T(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!qi(c[m],f[m])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function Xu(t,e){return(t.values||[]).find(n=>qi(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=xt(l.integerValue||l.doubleValue),m=xt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return QT(t.timestampValue,e.timestampValue);case 4:return QT(Yu(t),Yu(e));case 5:return dg(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Es(l),m=Es(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Me(f[p],m[p]);if(y!==0)return y}return Me(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Me(xt(l.latitude),xt(c.latitude));return f!==0?f:Me(xt(l.longitude),xt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XT(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},A=(f=_[Vf])===null||f===void 0?void 0:f.arrayValue,C=(m=E[Vf])===null||m===void 0?void 0:m.arrayValue,N=Me(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:XT(A,C)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===ef.mapValue&&c===ef.mapValue)return 0;if(l===ef.mapValue)return 1;if(c===ef.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=dg(m[_],y[_]);if(E!==0)return E;const A=qo(f[m[_]],p[y[_]]);if(A!==0)return A}return Me(m.length,y.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{Pe:n})}}function QT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Ts(t),r=Ts(e),a=Me(n.seconds,r.seconds);return a!==0?a:Me(n.nanos,r.nanos)}function XT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=qo(n[a],r[a]);if(l)return l}return Me(n.length,r.length)}function Go(t){return mg(t)}function mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=mg(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${mg(n.fields[c])}`;return a+"}"}(t.mapValue):Ae(61005,{value:t})}function yf(t){switch(ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(t);return e?16+yf(e):16;case 5:return 2*t.stringValue.length;case 6:return Es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+yf(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Ca(r.fields,(l,c)=>{a+=l.length+yf(c)}),a}(t.mapValue);default:throw Ae(13486,{value:t})}}function pg(t){return!!t&&"integerValue"in t}function by(t){return!!t&&"arrayValue"in t}function WT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function fO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||n===void 0?void 0:n.stringValue)===N1}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=tn.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Ou(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ca(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new ti(Ou(this.value))}}function P1(t){const e=[];return Ca(t.fields,(n,r)=>{const a=new tn([n]);if(vf(r)){const l=P1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,a,l,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,Re.min(),Re.min(),Re.min(),ti.empty(),0)}static newFoundDocument(e,n,r,a){return new cn(e,1,n,Re.min(),r,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Re.min(),Re.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Re.min(),Re.min(),ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function JT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=be.comparator(be.fromName(c.referenceValue),n.key):r=qo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function mO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{}class jt extends M1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gO(e,n,r):n==="array-contains"?new _O(e,r):n==="in"?new bO(e,r):n==="not-in"?new TO(e,r):n==="array-contains-any"?new EO(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yO(e,r):new vO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends M1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Gi(e,n)}matches(e){return O1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function O1(t){return t.op==="and"}function k1(t){return pO(t)&&O1(t)}function pO(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function gg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(k1(t))return t.filters.map(e=>gg(e)).join(",");{const e=t.filters.map(n=>gg(n)).join(",");return`${t.op}(${e})`}}function V1(t,e){return t instanceof jt?function(r,a){return a instanceof jt&&r.op===a.op&&r.field.isEqual(a.field)&&qi(r.value,a.value)}(t,e):t instanceof Gi?function(r,a){return a instanceof Gi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&V1(c,a.filters[f]),!0):!1}(t,e):void Ae(19439)}function L1(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof Gi?function(n){return n.op.toString()+" {"+n.getFilters().map(L1).join(" ,")+"}"}(t):"Filter"}class gO extends jt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class yO extends jt{constructor(e,n){super(e,"in",n),this.keys=j1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=j1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function j1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class _O extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return by(n)&&Xu(n.arrayValue,this.value)}}class bO extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xu(this.value.arrayValue,n)}}class TO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xu(this.value.arrayValue,n)}}class EO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!by(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function tE(t,e=null,n=[],r=[],a=null,l=null,c=null){return new wO(t,e,n,r,a,l,c)}function Ty(t){const e=Ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Go(r)).join(",")),e.Ie=n}return e.Ie}function Ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function yg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xO(t,e,n,r,a,l,c,f){return new ud(t,e,n,r,a,l,c,f)}function wy(t){return new ud(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SO(t){return t.collectionGroup!==null}function ku(t){const e=Ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new zt(tn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new jf(l,r))}),n.has(tn.keyField().canonicalString())||e.Ee.push(new jf(tn.keyField(),r))}return e.Ee}function ji(t){const e=Ce(t);return e.de||(e.de=AO(e,ku(t))),e.de}function AO(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new jf(a.field,l)});const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vg(t,e,n){return new ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return Ey(ji(t),ji(e))&&t.limitType===e.limitType}function U1(t){return`${Ty(ji(t))}|lt:${t.limitType}`}function Co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>L1(a)).join(", ")}]`),od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Go(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Go(a)).join(",")),`Target(${r})`}(ji(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):be.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of ku(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=JT(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,ku(r),a)||r.endAt&&!function(c,f,m){const p=JT(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,ku(r),a))}(t,e)}function RO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z1(t){return(e,n)=>{let r=!1;for(const a of ku(t)){const l=CO(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function CO(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?qo(m,p):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new dt(be.comparator);function Rr(){return IO}const B1=new dt(be.comparator);function Iu(...t){let e=B1;for(const n of t)e=e.insert(n.key,n);return e}function F1(t){let e=B1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ya(){return Vu()}function H1(){return Vu()}function Vu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const DO=new dt(be.comparator),NO=new zt(be.comparator);function ze(...t){let e=NO;for(const n of t)e=e.add(n);return e}const PO=new zt(Me);function MO(){return PO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function q1(t){return{integerValue:""+t}}function OO(t,e){return aO(e)?q1(e):xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function kO(t,e,n){return t instanceof Uf?function(a,l){const c={fields:{[R1]:{stringValue:A1},[I1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_y(l)&&(l=ld(l)),l&&(c.fields[C1]=l),{mapValue:c}}(n,e):t instanceof Wu?K1(t,e):t instanceof Zu?$1(t,e):function(a,l){const c=G1(a,l),f=iE(c)+iE(a.Re);return pg(c)&&pg(a.Re)?q1(f):xy(a.serializer,f)}(t,e)}function VO(t,e,n){return t instanceof Wu?K1(t,e):t instanceof Zu?$1(t,e):n}function G1(t,e){return t instanceof zf?function(r){return pg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Uf extends fd{}class Wu extends fd{constructor(e){super(),this.elements=e}}function K1(t,e){const n=Y1(e);for(const r of t.elements)n.some(a=>qi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Zu extends fd{constructor(e){super(),this.elements=e}}function $1(t,e){let n=Y1(e);for(const r of t.elements)n=n.filter(a=>!qi(a,r));return{arrayValue:{values:n}}}class zf extends fd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function iE(t){return xt(t.integerValue||t.doubleValue)}function Y1(t){return by(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LO(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Wu&&a instanceof Wu||r instanceof Zu&&a instanceof Zu?Ho(r.elements,a.elements,qi):r instanceof zf&&a instanceof zf?qi(r.Re,a.Re):r instanceof Uf&&a instanceof Uf}(t.transform,e.transform)}class jO{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dd{}function Q1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W1(t.key,Er.none()):new yc(t.key,t.data,Er.none());{const n=t.data,r=ti.empty();let a=new zt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Da(t.key,r,new pi(a.toArray()),Er.none())}}function UO(t,e,n){t instanceof yc?function(a,l,c){const f=a.value.clone(),m=sE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Da?function(a,l,c){if(!_f(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=sE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(X1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof yc?function(l,c,f,m){if(!_f(l.precondition,c))return f;const p=l.value.clone(),y=aE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Da?function(l,c,f,m){if(!_f(l.precondition,c))return f;const p=aE(l.fieldTransforms,m,c),y=c.data;return y.setAll(X1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,f){return _f(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function zO(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=G1(r.transform,a||null);l!=null&&(n===null&&(n=ti.empty()),n.set(r.field,l))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ho(r,a,(l,c)=>LO(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends dd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Da extends dd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function X1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sE(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,VO(c,f,n[a]))}return r}function aE(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,kO(l,c,e))}return r}class W1 extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BO extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&UO(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=Q1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,r)=>rE(n,r))&&Ho(this.baseMutations,e.baseMutations,(n,r)=>rE(n,r))}}class Sy{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return DO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Sy(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function GO(t){switch(t){case ue.OK:return Ae(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function Z1(t){if(t===void 0)return Ar("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Dt.OK:return ue.OK;case Dt.CANCELLED:return ue.CANCELLED;case Dt.UNKNOWN:return ue.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ue.INTERNAL;case Dt.UNAVAILABLE:return ue.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ue.NOT_FOUND;case Dt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Dt.ABORTED:return ue.ABORTED;case Dt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Dt.DATA_LOSS:return ue.DATA_LOSS;default:return Ae(39323,{code:t})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new vs([4294967295,4294967295],0);function oE(t){const e=T1().encode(t),n=new d1;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vs([n,r],0),new vs([a,l],0)]}class Ay{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=vs.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(vs.fromNumber(r)));return a.compare(KO)===1&&(a=new vs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=oE(e),[r,a]=lE(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.Se(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ay(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const n=oE(e),[r,a]=lE(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(Re.min(),a,new dt(Me),Rr(),ze())}}class vc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vc(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class J1{constructor(e,n){this.targetId=e,this.Ce=n}}class eS{constructor(e,n,r=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class uE{constructor(){this.Fe=0,this.Me=cE(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),r=ze();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ae(38017,{changeType:l})}}),new vc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=cE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $O{constructor(e){this.ze=e,this.je=new Map,this.He=Rr(),this.Je=tf(),this.Ye=tf(),this.Ze=new dt(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(yg(l))if(r===0){const c=new be(l.path);this.tt(n,c,cn.newNoDocument(c,Re.min()))}else Qe(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Es(r).toUint8Array()}catch(m){if(m instanceof S1)return Fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Ay(c,a,l)}catch(m){return Fo(m instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&yg(f.target)){const m=new be(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,cn.newNoDocument(m,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=ze();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new md(e,n,this.Ze,this.He,r);return this.He=Rr(),this.Je=tf(),this.Ye=tf(),this.Ze=new dt(Me),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new uE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new zt(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new zt(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new uE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function tf(){return new dt(be.comparator)}function cE(){return new dt(be.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},QO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XO={and:"AND",or:"OR"};class WO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _g(t,e){return t.useProto3Json||od(e)?e:{value:e}}function Bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZO(t,e){return Bf(t,e.toTimestamp())}function Ui(t){return Qe(!!t,49232),Re.fromTimestamp(function(n){const r=Ts(n);return new Ut(r.seconds,r.nanos)}(t))}function Ry(t,e){return bg(t,e).canonicalString()}function bg(t,e){const n=function(a){return new vt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nS(t){const e=vt.fromString(t);return Qe(oS(e),10190,{key:e.toString()}),e}function Tg(t,e){return Ry(t.databaseId,e.path)}function Lp(t,e){const n=nS(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(rS(n))}function iS(t,e){return Ry(t.databaseId,e)}function JO(t){const e=nS(t);return e.length===4?vt.emptyPath():rS(e)}function Eg(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hE(t,e,n){return{name:Tg(t,e),fields:n.value.mapValue.fields}}function ek(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?ue.UNKNOWN:Z1(p.code);return new _e(y,p.message||"")}(c);n=new eS(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Lp(t,r.document.name),l=Ui(r.document.updateTime),c=r.document.createTime?Ui(r.document.createTime):Re.min(),f=new ti({mapValue:{fields:r.document.fields}}),m=cn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new bf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Lp(t,r.document),l=r.readTime?Ui(r.readTime):Re.min(),c=cn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new bf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Lp(t,r.document),l=r.removedTargetIds||[];n=new bf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new qO(a,l),f=r.targetId;n=new J1(f,c)}}return n}function tk(t,e){let n;if(e instanceof yc)n={update:hE(t,e.key,e.value)};else if(e instanceof W1)n={delete:Tg(t,e.key)};else if(e instanceof Da)n={update:hE(t,e.key,e.data),updateMask:ck(e.fieldMask)};else{if(!(e instanceof BO))return Ae(16599,{ft:e.type});n={verify:Tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zf)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Ae(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ZO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(t,e.precondition)),n}function nk(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Ui(a.updateTime):Ui(l);return c.isEqual(Re.min())&&(c=Ui(l)),new jO(c,a.transformResults||[])}(n,e))):[]}function ik(t,e){return{documents:[iS(t,e.path)]}}function rk(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iS(t,a);const l=function(p){if(p.length!==0)return aS(Gi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Io(E.field),direction:ok(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=_g(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function sk(t){let e=JO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Qe(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=sS(_);return E instanceof Gi&&k1(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(C){return new jf(Do(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,od(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(_){const E=!!_.before,A=_.values||[];return new Lf(A,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new Lf(A,E)}(n.endAt)),xO(e,a,c,l,f,"F",m,p)}function ak(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Do(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Do(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gi.create(n.compositeFilter.filters.map(r=>sS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function ok(t){return YO[t]}function lk(t){return QO[t]}function uk(t){return XO[t]}function Io(t){return{fieldPath:t.canonicalString()}}function Do(t){return tn.fromServerFormat(t.fieldPath)}function aS(t){return t instanceof jt?function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(WT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(WT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:lk(n.op),value:n.value}}}(t):t instanceof Gi?function(n){const r=n.getFilters().map(a=>aS(a));return r.length===1?r[0]:{compositeFilter:{op:uk(n.op),filters:r}}}(t):Ae(54877,{filter:t})}function ck(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,a,l=Re.min(),c=Re.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.wt=e}}function fk(t){const e=sk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.Cn=new mk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(bs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new zt(vt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new zt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lS=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(lS,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ko(0)}static lr(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",pk=1048576;function mE([t,e],[n,r]){const a=Me(t,n);return a===0?Me(e,r):a}class gk{constructor(e){this.Er=e,this.buffer=new zt(mE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(dE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?fe(dE,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.mr(3e5)})}}class vk{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(ad.le);const r=new gk(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(fE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ro()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function _k(t,e){return new vk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Lu(r.mutation,a,pi.empty(),Ut.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const a=ya();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let c=Iu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,r,a){let l=Rr();const c=Vu(),f=function(){return Vu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Da)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Lu(y.mutation,p,y.mutation.getFieldMask(),Ut.now())):c.set(p.key,pi.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new Tk(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Vu();let a=new dt((c,f)=>c-f),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||pi.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||ze()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=H1();y.forEach(E=>{if(!l.has(E)){const A=Q1(n.get(E),r.get(E));A!==null&&_.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ie.resolve(ya());let f=$u,m=l;return c.next(p=>ie.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,ze())).next(y=>({batchId:f,changes:F1(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let a=Iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Iu();return this.indexManager.getCollectionParents(e,l).next(f=>ie.forEach(f,m=>{const p=function(_,E){return new ud(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,cn.newInvalidDocument(y)))});let f=Iu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Lu(y.mutation,p,pi.empty(),Ut.now()),hd(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ui(a.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:fk(a.bundledQuery),readTime:Ui(a.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.overlays=new dt(be.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ya();return ie.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.bt(e,n,l)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const a=ya(),l=n.length+1,c=new be(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new dt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ya(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ie.resolve(f)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new HO(n,r));let l=this.Qr.get(n);l===void 0&&(l=ze(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.$r=new zt(Kt.Ur),this.Kr=new zt(Kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Kt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new be(new vt([])),r=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new be(new vt([])),r=new Kt(n,e),a=new Kt(n,e+1);let l=ze();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Kt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return be.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new zt(Kt.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FO(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?vy:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const f=this.ei(c.Zr);l.push(f)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(Me);return n.forEach(a=>{const l=new Kt(a,0),c=new Kt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{r=r.add(f.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;be.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new be(l),0);let f=new zt(Me);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),ie.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Qe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(n.mutations,a=>{const l=new Kt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Kt(n,0),a=this.Xr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.ii=e,this.docs=function(){return new dt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Rr();const c=n.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||nO(tO(y),r)<=0||(a.has(y.key)||hd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ae(9500)}si(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ck(this)}getSize(e){return ie.resolve(this.size)}}class Ck extends bk{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.persistence=e,this.oi=new Ia(n=>Ty(n),Ey),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new Cy,this.targetCount=0,this.ui=Ko.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.ci={},this.overlays={},this.li=new ad(0),this.hi=!1,this.hi=!0,this.Pi=new Sk,this.referenceDelegate=e(this),this.Ti=new Ik(this),this.indexManager=new dk,this.remoteDocumentCache=function(a){return new Rk(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new hk(n),this.Ei=new wk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Ak(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const a=new Dk(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Dk extends rO{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Vi=new Cy,this.mi=null}static fi(e){return new Iy(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const a=be.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ff{constructor(e,n){this.persistence=e,this.yi=new Ia(r=>oO(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=_k(this,n)}static fi(e,n){return new Ff(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?ie.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,n).next(f=>{f||(r++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yf(e.data.value)),n}Dr(e,n,r){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dy(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dD()?8:sO(fn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(e,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Nk;return this.bs(e,n,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,n,c,f.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(Ro()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(Ro()<=Ue.DEBUG&&fe("QueryEngine","Query:",Co(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(Ro()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ie.resolve())}ws(e,n){if(nE(n))return ie.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vg(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=ze(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.vs(n,f);return this.Cs(n,p,c,m.readTime)?this.ws(e,vg(n,null,"F")):this.Fs(e,p,n,m)}))})))}Ss(e,n,r,a){return nE(n)||a.isEqual(Re.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,r,a)?ie.resolve(null):(Ro()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(n)),this.Fs(e,c,n,eO(a,$u)).next(f=>f))})}vs(e,n){let r=new zt(z1(e));return n.forEach((a,l)=>{hd(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,n,r){return Ro()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Co(n)),this.ys.getDocumentsMatchingQuery(e,n,bs.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",Mk=3e8;class Ok{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new dt(Me),this.Os=new Ia(l=>Ty(l),Ey),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ek(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function kk(t,e,n,r){return new Ok(t,e,n,r)}async function cS(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=ze();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function Vk(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,E=_.keys();let A=ie.resolve();return E.forEach(C=>{A=A.next(()=>y.getEntry(m,C)).next(N=>{const D=p.docVersions.get(C);Qe(D!==null,48541),N.version.compareTo(D)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),y.addEntry(N)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function hS(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Lk(t,e){const n=Ce(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),a=a.insert(_,A),function(N,D,V){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=Mk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,A,y)&&f.push(n.Ti.updateTargetData(l,A))});let m=Rr(),p=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(jk(l,c,e.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!r.isEqual(Re.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return ie.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=a,l))}function jk(t,e,n){let r=ze(),a=ze();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=Rr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(Ny,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function Uk(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zk(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,ie.resolve(a)):n.Ti.allocateTargetId(r).next(c=>(a=new ms(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function wg(t,e,n){const r=Ce(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!rl(c))throw c;fe(Ny,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function pE(t,e,n){const r=Ce(t);let a=Re.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Ce(m),E=_.Os.get(y);return E!==void 0?ie.resolve(_.xs.get(E)):_.Ti.getTargetData(p,y)}(r,c,ji(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,n?a:Re.min(),n?l:ze())).next(f=>(Bk(r,RO(e),f),{documents:f,$s:l})))}function Bk(t,e,n){let r=t.Ns.get(e)||Re.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class gE{constructor(){this.activeTargetIds=MO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fk{constructor(){this.xo=new gE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function xg(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===kf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const c=xg(),f=this.jo(e,n.toUriEncodedString());fe(jp,`Sending RPC '${e}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),y=hc(p);return this.Jo(e,f,m,r,y).then(_=>(fe(jp,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Fo(jp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,a,l,c){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=qk[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class $k extends Gk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=xg();return new Promise((f,m)=>{const p=new m1;p.setWithCredentials(!0),p.listenOnce(p1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gf.NO_ERROR:const _=p.getResponseJson();fe(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case gf.TIMEOUT:fe(on,`RPC '${e}' ${c} timed out`),m(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const E=p.getStatus();if(fe(on,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const N=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf($)>=0?$:ue.UNKNOWN}(C.status);m(new _e(N,C.message))}else m(new _e(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);fe(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}T_(e,n,r){const a=xg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=v1(),f=y1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");fe(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let E=!1,A=!1;const C=new Kk({Zo:D=>{A?fe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(fe(on,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),fe(on,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Xo:()=>_.close()}),N=(D,V,$)=>{D.listen(V,B=>{try{$(B)}catch(oe){setTimeout(()=>{throw oe},0)}})};return N(_,Cu.EventType.OPEN,()=>{A||(fe(on,`RPC '${e}' stream ${a} transport opened.`),C.__())}),N(_,Cu.EventType.CLOSE,()=>{A||(A=!0,fe(on,`RPC '${e}' stream ${a} transport closed`),C.u_())}),N(_,Cu.EventType.ERROR,D=>{A||(A=!0,Fo(on,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.u_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))}),N(_,Cu.EventType.MESSAGE,D=>{var V;if(!A){const $=D.data[0];Qe(!!$,16349);const B=$,oe=(B==null?void 0:B.error)||((V=B[0])===null||V===void 0?void 0:V.error);if(oe){fe(on,`RPC '${e}' stream ${a} received error:`,oe);const Z=oe.status;let le=function(I){const L=Dt[I];if(L!==void 0)return Z1(L)}(Z),O=oe.message;le===void 0&&(le=ue.INTERNAL,O="Unknown error status: "+Z+" with message "+oe.message),A=!0,C.u_(new _e(le,O)),_.close()}else fe(on,`RPC '${e}' stream ${a} received:`,$),C.c_($)}}),N(f,g1.STAT_EVENT,D=>{D.stat===fg.PROXY?fe(on,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===fg.NOPROXY&&fe(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new WO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class dS{constructor(e,n,r,a,l,c,f,m){this.xi=e,this.y_=r,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new fS(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.S_===n&&this.K_(r,a)},r=>{e(()=>{const a=new _e(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(a)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.W_(a))}),this.stream.onMessage(a=>{r(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return fe(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(fe(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yk extends dS{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=ek(this.serializer,e),r=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Ui(c.readTime):Re.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Eg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=yg(m)?{documents:ik(l,m)}:{query:rk(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=tS(l,c.resumeToken);const p=_g(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Re.min())>0){f.readTime=Bf(l,c.snapshotVersion.toTimestamp());const p=_g(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=ak(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Eg(this.serializer),n.removeTarget=e,this.L_(n)}}class Qk extends dS{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=nk(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Eg(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tk(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{}class Wk extends Xk{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.na=!1}ra(){if(this.na)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,bg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ue.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,bg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ue.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Zk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ar(n),this.oa=!1):fe("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class Jk{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{r.enqueueAndForget(async()=>{Na(this)&&(fe(Aa,"Restarting streams for network reachability change."),await async function(m){const p=Ce(m);p.Ta.add(4),await _c(p),p.da.set("Unknown"),p.Ta.delete(4),await gd(p)}(this))})}),this.da=new Zk(r,a)}}async function gd(t){if(Na(t))for(const e of t.Ia)await e(!0)}async function _c(t){for(const e of t.Ia)await e(!1)}function mS(t,e){const n=Ce(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ky(n)?Oy(n):sl(n).M_()&&My(n,e))}function Py(t,e){const n=Ce(t),r=sl(n);n.Pa.delete(e),r.M_()&&pS(n,e),n.Pa.size===0&&(r.M_()?r.N_():Na(n)&&n.da.set("Unknown"))}function My(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(t).H_(e)}function pS(t,e){t.Aa.Ke(e),sl(t).J_(e)}function Oy(t){t.Aa=new $O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),sl(t).start(),t.da._a()}function ky(t){return Na(t)&&!sl(t).F_()&&t.Pa.size>0}function Na(t){return Ce(t).Ta.size===0}function gS(t){t.Aa=void 0}async function eV(t){t.da.set("Online")}async function tV(t){t.Pa.forEach((e,n)=>{My(t,e)})}async function nV(t,e){gS(t),ky(t)?(t.da.ca(e),Oy(t)):t.da.set("Unknown")}async function iV(t,e,n){if(t.da.set("Online"),e instanceof eS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Pa.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Pa.delete(f),a.Aa.removeTarget(f))}(t,e)}catch(r){fe(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hf(t,r)}else if(e instanceof bf?t.Aa.Xe(e):e instanceof J1?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Re.min()))try{const r=await hS(t.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.Aa.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Pa.get(p);y&&l.Pa.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Pa.get(m);if(!y)return;l.Pa.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),pS(l,m);const _=new ms(y.target,m,p,y.sequenceNumber);My(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){fe(Aa,"Failed to raise snapshot:",r),await Hf(t,r)}}async function Hf(t,e,n){if(!rl(e))throw e;t.Ta.add(1),await _c(t),t.da.set("Offline"),n||(n=()=>hS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Aa,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await gd(t)})}function yS(t,e){return e().catch(n=>Hf(t,n,e))}async function yd(t){const e=Ce(t),n=xs(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:vy;for(;rV(e);)try{const a=await Uk(e.localStore,r);if(a===null){e.ha.length===0&&n.N_();break}r=a.batchId,sV(e,a)}catch(a){await Hf(e,a)}vS(e)&&_S(e)}function rV(t){return Na(t)&&t.ha.length<10}function sV(t,e){t.ha.push(e);const n=xs(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function vS(t){return Na(t)&&!xs(t).F_()&&t.ha.length>0}function _S(t){xs(t).start()}async function aV(t){xs(t).ta()}async function oV(t){const e=xs(t);for(const n of t.ha)e.Z_(n.mutations)}async function lV(t,e,n){const r=t.ha.shift(),a=Sy.from(r,e,n);await yS(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await yd(t)}async function uV(t,e){e&&xs(t).Y_&&await async function(r,a){if(function(c){return GO(c)&&c!==ue.ABORTED}(a.code)){const l=r.ha.shift();xs(r).O_(),await yS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await yd(r)}}(t,e),vS(t)&&_S(t)}async function bE(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),fe(Aa,"RemoteStore received new credentials");const r=Na(n);n.Ta.add(3),await _c(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await gd(n)}async function cV(t,e){const n=Ce(t);e?(n.Ta.delete(2),await gd(n)):e||(n.Ta.add(2),await _c(n),n.da.set("Unknown"))}function sl(t){return t.Ra||(t.Ra=function(n,r,a){const l=Ce(n);return l.ra(),new Yk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:eV.bind(null,t),n_:tV.bind(null,t),i_:nV.bind(null,t),j_:iV.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),ky(t)?Oy(t):t.da.set("Unknown")):(await t.Ra.stop(),gS(t))})),t.Ra}function xs(t){return t.Va||(t.Va=function(n,r,a){const l=Ce(n);return l.ra(),new Qk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:aV.bind(null,t),i_:uV.bind(null,t),X_:oV.bind(null,t),ea:lV.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await yd(t)):(await t.Va.stop(),t.ha.length>0&&(fe(Aa,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,f=new Vy(e,n,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),rl(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.ma=new dt(be.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new $o(e,n,zo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class fV{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const a=Ce(n),l=a.queries;a.queries=EE(),l.forEach((c,f)=>{for(const m of f.ya)m.onError(r)})})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function EE(){return new Ia(t=>U1(t),cd)}async function dV(t,e){const n=Ce(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.wa()&&e.Sa()&&(r=2):(l=new hV,r=e.Sa()?0:1);try{switch(r){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Ly(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ya.push(e),e.Da(n.onlineState),l.pa&&e.va(l.pa)&&jy(n)}async function mV(t,e){const n=Ce(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ya.indexOf(e);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pV(t,e){const n=Ce(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ya)f.va(a)&&(r=!0);c.pa=a}}r&&jy(n)}function gV(t,e,n){const r=Ce(t),a=r.queries.get(e);if(a)for(const l of a.ya)l.onError(n);r.queries.delete(e)}function jy(t){t.ba.forEach(e=>{e.next()})}var Sg,wE;(wE=Sg||(Sg={})).Ca="default",wE.Cache="cache";class yV{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.key=e}}class TS{constructor(e){this.key=e}}class vV{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ze(),this.mutatedKeys=ze(),this.Ha=z1(e),this.Ja=new zo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new TE,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),A=hd(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;E&&A?E.data.isEqual(A.data)?C!==N&&(r.track({type:3,doc:A}),D=!0):this.eu(E,A)||(r.track({type:2,doc:A}),D=!0,(m&&this.Ha(A,m)>0||p&&this.Ha(A,p)<0)&&(f=!0)):!E&&A?(r.track({type:0,doc:A}),D=!0):E&&!A&&(r.track({type:1,doc:E}),D=!0,(m||p)&&(f=!0)),D&&(A?(c=c.add(A),l=N?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ja:c,Xa:r,Cs:f,mutatedKeys:l}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,_)=>function(A,C){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:D})}};return N(A)-N(C)}(y.type,_.type)||this.Ha(y.doc,_.doc)),this.tu(r),a=a!=null&&a;const f=n&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,p=m!==this.za;return this.za=m,c.length!==0||p?{snapshot:new $o(this.query,e.Ja,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new TE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ze(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new TS(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new bS(r))}),n}su(e){this.Ga=e.$s,this.ja=ze();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return $o.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Uy="SyncEngine";class _V{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bV{constructor(e){this.key=e,this._u=!1}}class TV{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new Ia(f=>U1(f),cd),this.cu=new Map,this.lu=new Set,this.hu=new dt(be.comparator),this.Pu=new Map,this.Tu=new Cy,this.Iu={},this.Eu=new Map,this.du=Ko.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function EV(t,e,n=!0){const r=RS(t);let a;const l=r.uu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await ES(r,e,n,!0),a}async function wV(t,e){const n=RS(t);await ES(n,e,!0,!1)}async function ES(t,e,n,r){const a=await zk(t.localStore,ji(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await xV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&mS(t.remoteStore,a),f}async function xV(t,e,n,r,a){t.Ru=(_,E,A)=>async function(N,D,V,$){let B=D.view.Za(V);B.Cs&&(B=await pE(N.localStore,D.query,!1).then(({documents:O})=>D.view.Za(O,B)));const oe=$&&$.targetChanges.get(D.targetId),Z=$&&$.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(B,N.isPrimaryClient,oe,Z);return SE(N,D.targetId,le.ru),le.snapshot}(t,_,E,A);const l=await pE(t.localStore,e,!0),c=new vV(e,l.$s),f=c.Za(l.documents),m=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);SE(t,n,p.ru);const y=new _V(e,n,c);return t.uu.set(e,y),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),p.snapshot}async function SV(t,e,n){const r=Ce(t),a=r.uu.get(e),l=r.cu.get(a.targetId);if(l.length>1)return r.cu.set(a.targetId,l.filter(c=>!cd(c,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await wg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Py(r.remoteStore,a.targetId),Ag(r,a.targetId)}).catch(il)):(Ag(r,a.targetId),await wg(r.localStore,a.targetId,!0))}async function AV(t,e){const n=Ce(t),r=n.uu.get(e),a=n.cu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Py(n.remoteStore,r.targetId))}async function RV(t,e,n){const r=OV(t);try{const a=await function(c,f){const m=Ce(c),p=Ut.now(),y=f.reduce((A,C)=>A.add(C.key),ze());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Rr(),N=ze();return m.Bs.getEntries(A,y).next(D=>{C=D,C.forEach((V,$)=>{$.isValidDocument()||(N=N.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(D=>{_=D;const V=[];for(const $ of f){const B=zO($,_.get($.key).overlayedDocument);B!=null&&V.push(new Da($.key,B,P1(B.value.mapValue),Er.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,V,f)}).next(D=>{E=D;const V=D.applyToLocalDocumentSet(_,N);return m.documentOverlayCache.saveOverlays(A,D.batchId,V)})}).then(()=>({batchId:E.batchId,changes:F1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Iu[c.currentUser.toKey()];p||(p=new dt(Me)),p=p.insert(f,m),c.Iu[c.currentUser.toKey()]=p}(r,a.batchId,n),await bc(r,a.changes),await yd(r.remoteStore)}catch(a){const l=Ly(a,"Failed to persist write");n.reject(l)}}async function wS(t,e){const n=Ce(t);try{const r=await Lk(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Pu.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Qe(c._u,14607):a.removedDocuments.size>0&&(Qe(c._u,42227),c._u=!1))}),await bc(n,r,e)}catch(r){await il(r)}}function xE(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.uu.forEach((l,c)=>{const f=c.view.Da(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Ce(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.ya)E.Da(f)&&(p=!0)}),p&&jy(m)}(r.eventManager,e),a.length&&r.au.j_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CV(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Pu.get(e),l=a&&a.key;if(l){let c=new dt(be.comparator);c=c.insert(l,cn.newNoDocument(l,Re.min()));const f=ze().add(l),m=new md(Re.min(),new Map,new dt(Me),c,f);await wS(r,m),r.hu=r.hu.remove(l),r.Pu.delete(e),zy(r)}else await wg(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(il)}async function IV(t,e){const n=Ce(t),r=e.batch.batchId;try{const a=await Vk(n.localStore,e);SS(n,r,null),xS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,a)}catch(a){await il(a)}}async function DV(t,e,n){const r=Ce(t);try{const a=await function(c,f){const m=Ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Qe(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,e);SS(r,e,n),xS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bc(r,a)}catch(a){await il(a)}}function xS(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function SS(t,e,n){const r=Ce(t);let a=r.Iu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Iu[r.currentUser.toKey()]=a}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||AS(t,r)})}function AS(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Py(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),zy(t))}function SE(t,e,n){for(const r of n)r instanceof bS?(t.Tu.addReference(r.key,e),NV(t,r)):r instanceof TS?(fe(Uy,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||AS(t,r.key)):Ae(19791,{mu:r})}function NV(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(fe(Uy,"New document in limbo: "+n),t.lu.add(r),zy(t))}function zy(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new be(vt.fromString(e)),r=t.du.next();t.Pu.set(r,new bV(n)),t.hu=t.hu.insert(n,r),mS(t.remoteStore,new ms(ji(wy(n.path)),r,"TargetPurposeLimboResolution",ad.le))}}async function bc(t,e,n){const r=Ce(t),a=[],l=[],c=[];r.uu.isEmpty()||(r.uu.forEach((f,m)=>{c.push(r.Ru(m,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Dy.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.au.j_(a),await async function(m,p){const y=Ce(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,E=>ie.forEach(E.ds,A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>ie.forEach(E.As,A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!rl(_))throw _;fe(Ny,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.xs.get(E),C=A.snapshotVersion,N=A.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(E,N)}}}(r.localStore,l))}async function PV(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){fe(Uy,"User change. New user:",e.toKey());const r=await cS(n.localStore,e);n.currentUser=e,function(l,c){l.Eu.forEach(f=>{f.forEach(m=>{m.reject(new _e(ue.CANCELLED,c))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(n,r.ks)}}function MV(t,e){const n=Ce(t),r=n.Pu.get(e);if(r&&r._u)return ze().add(r.key);{let a=ze();const l=n.cu.get(e);if(!l)return a;for(const c of l){const f=n.uu.get(c);a=a.unionWith(f.view.Ya)}return a}}function RS(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CV.bind(null,e),e.au.j_=pV.bind(null,e.eventManager),e.au.Vu=gV.bind(null,e.eventManager),e}function OV(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DV.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return kk(this.persistence,new Pk,e.initialUser,this.serializer)}yu(e){return new uS(Iy.fi,this.serializer)}pu(e){return new Fk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class kV extends qf{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Qe(this.persistence.referenceDelegate instanceof Ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yk(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new uS(r=>Ff.fi(r,n),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PV.bind(null,this.syncEngine),await cV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fV}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),r=function(l){return new $k(l)}(e.databaseInfo);return function(l,c,f,m){return new Wk(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,c,f){return new Jk(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return vE.C()?new vE:new Hk}())}createSyncEngine(e,n){return function(a,l,c,f,m,p,y){const _=new TV(a,l,c,f,m,p);return y&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Ce(a);fe(Aa,"RemoteStore shutting down."),l.Ta.add(5),await _c(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class LV{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=E1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{fe(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(fe(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ly(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zp(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await cS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jV(t);fe(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>bE(e.remoteStore,a)),t._onlineComponents=e}async function jV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ss,"Using user provided OfflineComponentProvider");try{await zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await zp(t,new qf)}}else fe(Ss,"Using default OfflineComponentProvider"),await zp(t,new kV(void 0));return t._offlineComponents}async function CS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ss,"Using user provided OnlineComponentProvider"),await AE(t,t._uninitializedComponentsProvider._online)):(fe(Ss,"Using default OnlineComponentProvider"),await AE(t,new Rg))),t._onlineComponents}function UV(t){return CS(t).then(e=>e.syncEngine)}async function zV(t){const e=await CS(t),n=e.eventManager;return n.onListen=EV.bind(null,e.syncEngine),n.onUnlisten=SV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AV.bind(null,e.syncEngine),n}function BV(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new VV({next:E=>{y.Cu(),c.enqueueAndForget(()=>mV(l,_));const A=E.docs.has(f);!A&&E.fromCache?p.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&m&&m.source==="server"?p.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new yV(wy(f.path),y,{includeMetadataChanges:!0,La:!0});return dV(l,_)}(await zV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HV(t,e,n,r){if(e===!0&&r===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CE(t){if(!be.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function By(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Ju(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=By(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firestore.googleapis.com",IE=!0;class DE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DS,this.ssl=IE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:IE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pk)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fy{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GM;switch(r.type){case"firstParty":return new QM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RE.get(n);r&&(fe("ComponentProvider","Removing Datastore"),RE.delete(n),r.terminate())}(this),Promise.resolve()}}function qV(t,e,n,r={}){var a;t=Ju(t,Fy);const l=hc(e),c=t._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;l&&(wx(`https://${m}`),xx("Firestore",!0)),c.host!==DS&&c.host!==m&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!Ea(p,f)&&(t._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=un.MOCK_USER;else{y=rD(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(E)}t._authCredentials=new KM(new b1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hy(this.firestore,e,this._query)}}class ni{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class ec extends Hy{constructor(e,n,r){super(e,n,wy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new be(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function qy(t,e,...n){if(t=si(t),arguments.length===1&&(e=E1.newId()),FV("doc","path",e),t instanceof Fy){const r=vt.fromString(e,...n);return CE(r),new ni(t,null,new be(r))}{if(!(t instanceof ni||t instanceof ec))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return CE(r),new ni(t.firestore,t instanceof ec?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new fS(this,"async_queue_retry"),this.ec=()=>{const r=Up();r&&fe(NE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new _s;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!rl(e))throw e;fe(NE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ar("INTERNAL UNHANDLED ERROR: ",ME(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const a=Vy.createAndSchedule(this,e,n,r,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&Ae(47125,{_c:ME(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function ME(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gy extends Fy{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new PE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function NS(t,e){const n=typeof t=="object"?t:Cx(),r=typeof t=="string"?t:e||kf,a=oy(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=nD("firestore");l&&qV(a,...l)}return a}function PS(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GV(t),t._firestoreClient}function GV(t){var e,n,r;const a=t._freezeSettings(),l=function(f,m,p,y){return new cO(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,IS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new LV(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(nn.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yo(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=/^__.*__$/;class $V{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,n,this.fieldTransforms):new yc(e,this.data,n,this.fieldTransforms)}}function OS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{hc:t})}}class Qy{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:r,Ec:!1});return a.dc(e),a}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:r,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Gf(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(OS(this.hc)&&KV.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class YV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}gc(e,n,r,a=!1){return new Qy({hc:e,methodName:n,fc:r,path:tn.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QV(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new YV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XV(t,e,n,r,a,l={}){const c=t.gc(l.merge||l.mergeFields?2:0,e,n,a);jS("Data must be an object, but it was:",c,r);const f=VS(r,c);let m,p;if(l.merge)m=new pi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=WV(e,_,n);if(!c.contains(E))throw new _e(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JV(y,E)||y.push(E)}m=new pi(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new $V(new ti(f),m,p)}function kS(t,e){if(LS(t=si(t)))return jS("Unsupported field value:",e,t),VS(t,e);if(t instanceof MS)return function(r,a){if(!OS(a.hc))throw a.Vc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=kS(f,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ut.fromDate(r);return{timestampValue:Bf(a.serializer,l)}}if(r instanceof Ut){const l=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(a.serializer,l)}}if(r instanceof $y)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:tS(a.serializer,r._byteString)};if(r instanceof ni){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ry(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Yy)return function(c,f){return{mapValue:{fields:{[D1]:{stringValue:N1},[Vf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Vc("VectorValues must only contain numeric values.");return xy(f.serializer,p)})}}}}}}(r,a);throw a.Vc(`Unsupported field value: ${By(r)}`)}(t,e)}function VS(t,e){const n={};return x1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,(r,a)=>{const l=kS(a,e.Ic(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof $y||t instanceof Yo||t instanceof ni||t instanceof MS||t instanceof Yy)}function jS(t,e,n){if(!LS(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=By(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function WV(t,e,n){if((e=si(e))instanceof Ky)return e._internalPath;if(typeof e=="string")return US(t,e);throw Gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZV=new RegExp("[~\\*/\\[\\]]");function US(t,e,n){if(e.search(ZV)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ky(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gf(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new _e(ue.INVALID_ARGUMENT,f+t+m)}function JV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e4 extends zS{data(){return super.data()}}function BS(t,e){return typeof e=="string"?US(t,e):e instanceof Ky?e._internalPath:e._delegate._internalPath}class t4{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ca(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Vf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>xt(c.doubleValue));return new Yy(l)}convertGeoPoint(e){return new $y(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Qe(oS(r),9688,{name:e});const a=new Qu(r.get(1),r.get(3)),l=new be(r.popFirst(5));return a.isEqual(n)||Ar(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FS extends zS{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new r4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class r4 extends FS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){t=Ju(t,ni);const e=Ju(t.firestore,Gy);return BV(PS(e),t._key).then(n=>o4(e,t,n))}class s4 extends t4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,n)}}function qS(t,e,n){t=Ju(t,ni);const r=Ju(t.firestore,Gy),a=n4(t.converter,e,n);return a4(r,[XV(QV(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Er.none())])}function a4(t,e){return function(r,a){const l=new _s;return r.asyncQueue.enqueueAndForget(async()=>RV(await UV(r),a,l)),l.promise}(PS(t),e)}function o4(t,e,n){const r=n.docs.get(e._key),a=new s4(t);return new FS(t,a,e._key,r,new i4(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){nl=a})(Jo),Bo(new wa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Gy(new $M(r.getProvider("auth-internal")),new XM(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ys(UT,zT,e),ys(UT,zT,"esm2017")})();const al=M.createContext(),l4=({children:t})=>{const[e,n]=M.useState([]),r=f=>{n(m=>m.find(y=>y.id===f.id)?m.map(y=>y.id===f.id?{...y,quantity:y.quantity+1}:y):[...m,{...f,quantity:1}])},a=f=>{n(m=>m.filter(p=>p.id!==f))},l=(f,m)=>{n(p=>p.map(y=>y.id===f?{...y,quantity:m}:y))},c=()=>{n([])};return w.jsx(al.Provider,{value:{cart:e,addToCart:r,removeFromCart:a,clearCart:c,updateQuantity:l},children:t})},Xy=M.createContext({});function Wy(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zy=typeof window<"u",GS=Zy?M.useLayoutEffect:M.useEffect,vd=M.createContext(null);function Jy(t,e){t.indexOf(e)===-1&&t.push(e)}function ev(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cr=(t,e,n)=>n>e?e:n<t?t:n;let tv=()=>{};const Ir={},KS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $S(t){return typeof t=="object"&&t!==null}const YS=t=>/^0[^.\s]+$/u.test(t);function nv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ii=t=>t,u4=(t,e)=>n=>e(t(n)),Tc=(...t)=>t.reduce(u4),tc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class iv{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>ev(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=t=>t*1e3,Bi=t=>t/1e3;function QS(t,e){return e?t*(1e3/e):0}const XS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,c4=1e-7,h4=12;function f4(t,e,n,r,a){let l,c,f=0;do c=e+(n-e)/2,l=XS(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>c4&&++f<h4);return c}function Ec(t,e,n,r){if(t===e&&n===r)return ii;const a=l=>f4(l,0,1,t,n);return l=>l===0||l===1?l:XS(a(l),e,r)}const WS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZS=t=>e=>1-t(1-e),JS=Ec(.33,1.53,.69,.99),rv=ZS(JS),eA=WS(rv),tA=t=>(t*=2)<1?.5*rv(t):.5*(2-Math.pow(2,-10*(t-1))),sv=t=>1-Math.sin(Math.acos(t)),nA=ZS(sv),iA=WS(sv),d4=Ec(.42,0,1,1),m4=Ec(0,0,.58,1),rA=Ec(.42,0,.58,1),p4=t=>Array.isArray(t)&&typeof t[0]!="number",sA=t=>Array.isArray(t)&&typeof t[0]=="number",g4={linear:ii,easeIn:d4,easeInOut:rA,easeOut:m4,circIn:sv,circInOut:iA,circOut:nA,backIn:rv,backInOut:eA,backOut:JS,anticipate:tA},y4=t=>typeof t=="string",OE=t=>{if(sA(t)){tv(t.length===4);const[e,n,r,a]=t;return Ec(e,n,r,a)}else if(y4(t))return g4[t];return t},rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],kE={value:null};function v4(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),t()),m++,_(f)}const y={schedule:(_,E=!1,A=!1)=>{const N=A&&a?n:r;return E&&c.add(_),N.has(_)||N.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&kE.value&&kE.value.frameloop[e].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const _4=40;function aA(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=rf.reduce((B,oe)=>(B[oe]=v4(l,e?oe:void 0),B),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:A,postRender:C}=c,N=()=>{const B=Ir.useManualTiming?a.timestamp:performance.now();n=!1,Ir.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(B-a.timestamp,_4),1)),a.timestamp=B,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),A.process(a),C.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(N))},D=()=>{n=!0,r=!0,a.isProcessing||t(N)};return{schedule:rf.reduce((B,oe)=>{const Z=c[oe];return B[oe]=(le,O=!1,S=!1)=>(n||D(),Z.schedule(le,O,S)),B},{}),cancel:B=>{for(let oe=0;oe<rf.length;oe++)c[rf[oe]].cancel(B)},state:a,steps:c}}const{schedule:ft,cancel:As,state:Jt,steps:Bp}=aA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let Tf;function b4(){Tf=void 0}const An={now:()=>(Tf===void 0&&An.set(Jt.isProcessing||Ir.useManualTiming?Jt.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(b4)}},oA=t=>e=>typeof e=="string"&&e.startsWith(t),av=oA("--"),T4=oA("var(--"),ov=t=>T4(t)?E4.test(t.split("/*")[0].trim()):!1,E4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nc={...ol,transform:t=>Cr(0,1,t)},sf={...ol,default:1},ju=t=>Math.round(t*1e5)/1e5,lv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w4(t){return t==null}const x4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uv=(t,e)=>n=>!!(typeof n=="string"&&x4.test(n)&&n.startsWith(t)||e&&!w4(n)&&Object.prototype.hasOwnProperty.call(n,e)),lA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(lv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},S4=t=>Cr(0,255,t),Fp={...ol,transform:t=>Math.round(S4(t))},va={test:uv("rgb","red"),parse:lA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fp.transform(t)+", "+Fp.transform(e)+", "+Fp.transform(n)+", "+ju(nc.transform(r))+")"};function A4(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Cg={test:uv("#"),parse:A4,transform:va.transform},wc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),us=wc("deg"),Fi=wc("%"),Se=wc("px"),R4=wc("vh"),C4=wc("vw"),VE={...Fi,parse:t=>Fi.parse(t)/100,transform:t=>Fi.transform(t*100)},Po={test:uv("hsl","hue"),parse:lA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fi.transform(ju(e))+", "+Fi.transform(ju(n))+", "+ju(nc.transform(r))+")"},Nt={test:t=>va.test(t)||Cg.test(t)||Po.test(t),parse:t=>va.test(t)?va.parse(t):Po.test(t)?Po.parse(t):Cg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?va.transform(t):Po.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},I4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lv))==null?void 0:e.length)||0)+(((n=t.match(I4))==null?void 0:n.length)||0)>0}const uA="number",cA="color",N4="var",P4="var(",LE="${}",M4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ic(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(M4,m=>(Nt.test(m)?(r.color.push(l),a.push(cA),n.push(Nt.parse(m))):m.startsWith(P4)?(r.var.push(l),a.push(N4),n.push(m)):(r.number.push(l),a.push(uA),n.push(parseFloat(m))),++l,LE)).split(LE);return{values:n,split:f,indexes:r,types:a}}function hA(t){return ic(t).values}function fA(t){const{split:e,types:n}=ic(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===uA?l+=ju(a[c]):f===cA?l+=Nt.transform(a[c]):l+=a[c]}return l}}const O4=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function k4(t){const e=hA(t);return fA(t)(e.map(O4))}const Rs={test:D4,parse:hA,createTransformer:fA,getAnimatableNone:k4};function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Hp(m,f,t+1/3),l=Hp(m,f,t),c=Hp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Kf(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},L4=[Cg,va,Po],j4=t=>L4.find(e=>e.test(t));function jE(t){const e=j4(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=V4(n)),n}const UE=(t,e)=>{const n=jE(t),r=jE(e);if(!n||!r)return Kf(t,e);const a={...n};return l=>(a.red=qp(n.red,r.red,l),a.green=qp(n.green,r.green,l),a.blue=qp(n.blue,r.blue,l),a.alpha=ht(n.alpha,r.alpha,l),va.transform(a))},Ig=new Set(["none","hidden"]);function U4(t,e){return Ig.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function z4(t,e){return n=>ht(t,e,n)}function cv(t){return typeof t=="number"?z4:typeof t=="string"?ov(t)?Kf:Nt.test(t)?UE:H4:Array.isArray(t)?dA:typeof t=="object"?Nt.test(t)?UE:B4:Kf}function dA(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>cv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function B4(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=cv(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function F4(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],f=t.values[c]??0;n[a]=f,r[l]++}return n}const H4=(t,e)=>{const n=Rs.createTransformer(e),r=ic(t),a=ic(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ig.has(t)&&!a.values.length||Ig.has(e)&&!r.values.length?U4(t,e):Tc(dA(F4(r,a),a.values),n):Kf(t,e)};function mA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):cv(t)(t,e)}const q4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>As(e),now:()=>Jt.isProcessing?Jt.timestamp:An.now()}},pA=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$f=2e4;function hv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$f;)e+=n,r=t.next(e);return e>=$f?1/0:e}function G4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(hv(r),$f);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Bi(a)}}const K4=5;function gA(t,e,n){const r=Math.max(e-K4,0);return QS(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zE=.001;function $4({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let a,l,c=1-e;c=Cr(yt.minDamping,yt.maxDamping,c),t=Cr(yt.minDuration,yt.maxDuration,Bi(t)),c<1?(a=p=>{const y=p*c,_=y*t,E=y-n,A=Dg(p,c),C=Math.exp(-_);return zE-E/A*C},l=p=>{const _=p*c*t,E=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-_),N=Dg(Math.pow(p,2),c);return(-a(p)+zE>0?-1:1)*((E-A)*C)/N}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=Q4(a,l,f);if(t=zi(t),isNaN(m))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const Y4=12;function Q4(t,e,n){let r=n;for(let a=1;a<Y4;a++)r=r-t(r)/e(r);return r}function Dg(t,e){return t*Math.sqrt(1-e*e)}const X4=["duration","bounce"],W4=["stiffness","damping","mass"];function BE(t,e){return e.some(n=>t[n]!==void 0)}function Z4(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!BE(t,W4)&&BE(t,X4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Cr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=$4(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function Yf(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=Z4({...n,velocity:-Bi(n.velocity||0)}),C=E||0,N=p/(2*Math.sqrt(m*y)),D=c-l,V=Bi(Math.sqrt(m/y)),$=Math.abs(D)<5;r||(r=$?yt.restSpeed.granular:yt.restSpeed.default),a||(a=$?yt.restDelta.granular:yt.restDelta.default);let B;if(N<1){const Z=Dg(V,N);B=le=>{const O=Math.exp(-N*V*le);return c-O*((C+N*V*D)/Z*Math.sin(Z*le)+D*Math.cos(Z*le))}}else if(N===1)B=Z=>c-Math.exp(-V*Z)*(D+(C+V*D)*Z);else{const Z=V*Math.sqrt(N*N-1);B=le=>{const O=Math.exp(-N*V*le),S=Math.min(Z*le,300);return c-O*((C+N*V*D)*Math.sinh(S)+Z*D*Math.cosh(S))/Z}}const oe={calculatedDuration:A&&_||null,next:Z=>{const le=B(Z);if(A)f.done=Z>=_;else{let O=Z===0?C:0;N<1&&(O=Z===0?zi(C):gA(B,Z,le));const S=Math.abs(O)<=r,I=Math.abs(c-le)<=a;f.done=S&&I}return f.value=f.done?c:le,f},toString:()=>{const Z=Math.min(hv(oe),$f),le=pA(O=>oe.next(Z*O).value,Z,30);return Z+"ms "+le},toTransition:()=>{}};return oe}Yf.applyToOptions=t=>{const e=G4(t,100,Yf);return t.ease=e.ease,t.duration=zi(e.duration),t.type="keyframes",t};function Ng({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},A=S=>f!==void 0&&S<f||m!==void 0&&S>m,C=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let N=n*e;const D=_+N,V=c===void 0?D:c(D);V!==D&&(N=V-_);const $=S=>-N*Math.exp(-S/r),B=S=>V+$(S),oe=S=>{const I=$(S),L=B(S);E.done=Math.abs(I)<=p,E.value=E.done?V:L};let Z,le;const O=S=>{A(E.value)&&(Z=S,le=Yf({keyframes:[E.value,C(E.value)],velocity:gA(B,S,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return O(0),{calculatedDuration:null,next:S=>{let I=!1;return!le&&Z===void 0&&(I=!0,oe(S),O(S)),Z!==void 0&&S>=Z?le.next(S-Z):(!I&&oe(S),E)}}}function J4(t,e,n){const r=[],a=n||Ir.mix||mA,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ii:e;f=Tc(m,f)}r.push(f)}return r}function e3(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(tv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=J4(e,r,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=tc(t[_],t[_+1],y);return f[_](E)};return n?y=>p(Cr(t[0],t[l-1],y)):p}function t3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=tc(0,e,r);t.push(ht(n,1,a))}}function n3(t){const e=[0];return t3(e,t.length-1),e}function i3(t,e){return t.map(n=>n*e)}function r3(t,e){return t.map(()=>e||rA).splice(0,t.length-1)}function Uu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=p4(r)?r.map(OE):OE(r),l={done:!1,value:e[0]},c=i3(n&&n.length===e.length?n:n3(e),t),f=e3(c,e,{ease:Array.isArray(a)?a:r3(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const s3=t=>t!==null;function fv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(s3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const a3={decay:Ng,inertia:Ng,tween:Uu,keyframes:Uu,spring:Yf};function yA(t){typeof t.type=="string"&&(t.type=a3[t.type])}class dv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const o3=t=>t/100;class mv extends dv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yA(e);const{type:n=Uu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Uu;m!==Uu&&typeof f[0]!="number"&&(this.mixKeyframes=Tc(o3,mA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=hv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:C,onUpdate:N,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,oe=r;if(_){const S=Math.min(this.currentTime,a)/f;let I=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(L=1-L,A&&(L-=A/f)):E==="mirror"&&(oe=c)),B=Cr(0,1,L)*f}const Z=$?{done:!1,value:y[0]}:oe.next(B);l&&(Z.value=l(Z.value));let{done:le}=Z;!$&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return O&&C!==Ng&&(Z.value=fv(y,this.options,D,this.speed)),N&&N(Z.value),O&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return Bi(this.calculatedDuration)}get time(){return Bi(this.currentTime)}set time(e){var n;e=zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=q4,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function l3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _a=t=>t*180/Math.PI,Pg=t=>{const e=_a(Math.atan2(t[1],t[0]));return Mg(e)},u3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pg,rotateZ:Pg,skewX:t=>_a(Math.atan(t[1])),skewY:t=>_a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mg=t=>(t=t%360,t<0&&(t+=360),t),FE=Pg,HE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),c3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HE,scaleY:qE,scale:t=>(HE(t)+qE(t))/2,rotateX:t=>Mg(_a(Math.atan2(t[6],t[5]))),rotateY:t=>Mg(_a(Math.atan2(-t[2],t[0]))),rotateZ:FE,rotate:FE,skewX:t=>_a(Math.atan(t[4])),skewY:t=>_a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Og(t){return t.includes("scale")?1:0}function kg(t,e){if(!t||t==="none")return Og(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=c3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=u3,a=f}if(!a)return Og(e);const l=r[e],c=a[1].split(",").map(f3);return typeof l=="function"?l(c):c[l]}const h3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return kg(n,e)};function f3(t){return parseFloat(t.trim())}const ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ul=new Set(ll),GE=t=>t===ol||t===Se,d3=new Set(["x","y","z"]),m3=ll.filter(t=>!d3.has(t));function p3(t){const e=[];return m3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kg(e,"x"),y:(t,{transform:e})=>kg(e,"y")};ba.translateX=ba.x;ba.translateY=ba.y;const Ta=new Set;let Vg=!1,Lg=!1,jg=!1;function vA(){if(Lg){const t=Array.from(Ta).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=p3(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lg=!1,Vg=!1,Ta.forEach(t=>t.complete(jg)),Ta.clear()}function _A(){Ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lg=!0)})}function g3(){jg=!0,_A(),vA(),jg=!1}class pv{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),Vg||(Vg=!0,ft.read(_A),ft.resolveKeyframes(vA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}l3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const y3=t=>t.startsWith("--");function v3(t,e,n){y3(e)?t.style.setProperty(e,n):t.style[e]=n}const _3=nv(()=>window.ScrollTimeline!==void 0),b3={};function T3(t,e){const n=nv(t);return()=>b3[e]??n()}const bA=T3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,KE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function TA(t,e){if(t)return typeof t=="function"?bA()?pA(t,e):"ease-out":sA(t)?Nu(t):Array.isArray(t)?t.map(n=>TA(n,e)||KE.easeOut):KE[t]}function E3(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=TA(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function EA(t){return typeof t=="function"&&"applyToOptions"in t}function w3({type:t,...e}){return EA(t)&&bA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class x3 extends dv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,tv(typeof e.type!="string");const p=w3(e);this.animation=E3(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=fv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):v3(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bi(Number(e))}get time(){return Bi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_3()?(this.animation.timeline=e,ii):n(this)}}const wA={anticipate:tA,backInOut:eA,circInOut:iA};function S3(t){return t in wA}function A3(t){typeof t.ease=="string"&&S3(t.ease)&&(t.ease=wA[t.ease])}const $E=10;class R3 extends x3{constructor(e){A3(e),yA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new mv({...c,autoplay:!1}),m=zi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-$E).value,f.sample(m).value,$E),f.stop()}}const YE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rs.test(t)||t==="0")&&!t.startsWith("url("));function C3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function I3(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=YE(a,e),f=YE(l,e);return!c||!f?!1:C3(t)||(n==="spring"||EA(n))&&r}function gv(t){return $S(t)&&"offsetHeight"in t}const D3=new Set(["opacity","clipPath","filter","transform"]),N3=nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P3(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!gv((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return N3()&&n&&D3.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const M3=40;class O3 extends dv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var N,D;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=An.now();const E={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},A=(y==null?void 0:y.KeyframeResolver)||pv;this.keyframeResolver=new A(f,(N,D,V)=>this.onKeyframesResolved(N,D,E,!V),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=An.now(),I3(e,l,c,f)||((Ir.instantAnimations||!m)&&(y==null||y(fv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>M3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!p&&P3(E)?new R3({...E,element:E.motionValue.owner.current}):new mv(E);A.finished.then(()=>this.notifyFinished()).catch(ii),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),g3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const k3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V3(t){const e=k3.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function xA(t,e,n=1){const[r,a]=V3(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return KS(c)?parseFloat(c):c}return ov(a)?xA(a,e,n+1):a}function yv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const SA=new Set(["width","height","top","left","right","bottom",...ll]),L3={test:t=>t==="auto",parse:t=>t},AA=t=>e=>e.test(t),RA=[ol,Se,Fi,us,C4,R4,L3],QE=t=>RA.find(AA(t));function j3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YS(t):!0}const U3=new Set(["brightness","contrast","saturate","opacity"]);function z3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lv)||[];if(!r)return t;const a=n.replace(r,"");let l=U3.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const B3=/\b([a-z-]*)\(.*?\)/gu,Ug={...Rs,getAnimatableNone:t=>{const e=t.match(B3);return e?e.map(z3).join(" "):t}},XE={...ol,transform:Math.round},F3={rotate:us,rotateX:us,rotateY:us,rotateZ:us,scale:sf,scaleX:sf,scaleY:sf,scaleZ:sf,skew:us,skewX:us,skewY:us,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:nc,originX:VE,originY:VE,originZ:Se},vv={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...F3,zIndex:XE,fillOpacity:nc,strokeOpacity:nc,numOctaves:XE},H3={...vv,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Ug,WebkitFilter:Ug},CA=t=>H3[t];function IA(t,e){let n=CA(t);return n!==Ug&&(n=Rs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q3=new Set(["auto","none","0"]);function G3(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!q3.has(l)&&ic(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=IA(n,a)}class K3 extends pv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),ov(p))){const y=xA(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!SA.has(r)||e.length!==2)return;const[a,l]=e,c=QE(a),f=QE(l);if(c!==f)if(GE(c)&&GE(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else ba[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||j3(e[a]))&&r.push(a);r.length&&G3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function $3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const DA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,WE=30,Y3=t=>!isNaN(parseFloat(t));class Q3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,f;const l=An.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WE);return QS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(t,e){return new Q3(t,e)}const{schedule:_v}=aA(queueMicrotask,!1),di={x:!1,y:!1};function NA(){return di.x||di.y}function X3(t){return t==="x"||t==="y"?di[t]?null:(di[t]=!0,()=>{di[t]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}function PA(t,e){const n=$3(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function ZE(t){return!(t.pointerType==="touch"||NA())}function W3(t,e,n={}){const[r,a,l]=PA(t,n),c=f=>{if(!ZE(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{ZE(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const MA=(t,e)=>e?t===e?!0:MA(t,e.parentElement):!1,bv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Z3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J3(t){return Z3.has(t.tagName)||t.tabIndex!==-1}const Ef=new WeakSet;function JE(t){return e=>{e.key==="Enter"&&t(e)}}function Gp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const e6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=JE(()=>{if(Ef.has(n))return;Gp(n,"down");const a=JE(()=>{Gp(n,"up")}),l=()=>Gp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ew(t){return bv(t)&&!NA()}function t6(t,e,n={}){const[r,a,l]=PA(t,n),c=f=>{const m=f.currentTarget;if(!ew(f))return;Ef.add(m);const p=e(m,f),y=(A,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Ef.has(m)&&Ef.delete(m),ew(A)&&typeof p=="function"&&p(A,{success:C})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||MA(m,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),gv(f)&&(f.addEventListener("focus",p=>e6(p,a)),!J3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function OA(t){return $S(t)&&"ownerSVGElement"in t}function n6(t){return OA(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),i6=[...RA,Nt,Rs],r6=t=>i6.find(AA(t)),Tv=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class s6 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=gv(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function a6({children:t,isPresent:e,anchorX:n}){const r=M.useId(),a=M.useRef(null),l=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=M.useContext(Tv);return M.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(e||!a.current||!f||!m)return;const E=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const A=document.createElement("style");return c&&(A.nonce=c),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(A)&&document.head.removeChild(A)}},[e]),w.jsx(s6,{isPresent:e,childRef:a,sizeRef:l,children:M.cloneElement(t,{ref:a})})}const o6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=Wy(l6),p=M.useId();let y=!0,_=M.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:E=>{m.set(E,!0);for(const A of m.values())if(!A)return;r&&r()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,r]);return l&&y&&(_={..._}),M.useMemo(()=>{m.forEach((E,A)=>m.set(A,!1))},[n]),M.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=w.jsx(a6,{isPresent:n,anchorX:f,children:t})),w.jsx(vd.Provider,{value:_,children:t})};function l6(){return new Map}function kA(t=!0){const e=M.useContext(vd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const c=M.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const af=t=>t.key||"";function tw(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const rc=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=kA(c),y=M.useMemo(()=>tw(t),[t]),_=c&&!m?[]:y.map(af),E=M.useRef(!0),A=M.useRef(y),C=Wy(()=>new Map),[N,D]=M.useState(y),[V,$]=M.useState(y);GS(()=>{E.current=!1,A.current=y;for(let Z=0;Z<V.length;Z++){const le=af(V[Z]);_.includes(le)?C.delete(le):C.get(le)!==!0&&C.set(le,!1)}},[V,_.length,_.join("-")]);const B=[];if(y!==N){let Z=[...y];for(let le=0;le<V.length;le++){const O=V[le],S=af(O);_.includes(S)||(Z.splice(le,0,O),B.push(O))}return l==="wait"&&B.length&&(Z=B),$(tw(Z)),D(y),null}const{forceRender:oe}=M.useContext(Xy);return w.jsx(w.Fragment,{children:V.map(Z=>{const le=af(Z),O=c&&!m?!1:y===V||_.includes(le),S=()=>{if(C.has(le))C.set(le,!0);else return;let I=!0;C.forEach(L=>{L||(I=!1)}),I&&(oe==null||oe(),$(A.current),c&&(p==null||p()),r&&r())};return w.jsx(o6,{isPresent:O,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:O?void 0:S,anchorX:f,children:Z},le)})})},VA=M.createContext({strict:!1}),nw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const t in nw)Xo[t]={isEnabled:e=>nw[t].some(n=>!!e[n])};function u6(t){for(const e in t)Xo[e]={...Xo[e],...t[e]}}const c6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||c6.has(t)}let LA=t=>!Qf(t);function h6(t){typeof t=="function"&&(LA=e=>e.startsWith("on")?!Qf(e):t(e))}try{h6(require("@emotion/is-prop-valid").default)}catch{}function f6(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(LA(a)||n===!0&&Qf(a)||!e&&!Qf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function d6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const _d=M.createContext({});function bd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sc(t){return typeof t=="string"||Array.isArray(t)}const Ev=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wv=["initial",...Ev];function Td(t){return bd(t.animate)||wv.some(e=>sc(t[e]))}function jA(t){return!!(Td(t)||t.variants)}function m6(t,e){if(Td(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sc(n)?n:void 0,animate:sc(r)?r:void 0}}return t.inherit!==!1?e:{}}function p6(t){const{initial:e,animate:n}=m6(t,M.useContext(_d));return M.useMemo(()=>({initial:e,animate:n}),[iw(e),iw(n)])}function iw(t){return Array.isArray(t)?t.join(" "):t}const g6=Symbol.for("motionComponentSymbol");function Mo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y6(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Mo(n)&&(n.current=r))},[e])}const xv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v6="framerAppearId",UA="data-"+xv(v6),zA=M.createContext({});function _6(t,e,n,r,a){var N,D;const{visualElement:l}=M.useContext(_d),c=M.useContext(VA),f=M.useContext(vd),m=M.useContext(Tv).reducedMotion,p=M.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=M.useContext(zA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&b6(p.current,n,a,_);const E=M.useRef(!1);M.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const A=n[UA],C=M.useRef(!!A&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return GS(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),_v.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),M.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,A)}),C.current=!1))}),y}function b6(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Mo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function BA(t){if(t)return t.options.allowProjection!==!1?t.projection:BA(t.parent)}function T6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&u6(t);function l(f,m){let p;const y={...M.useContext(Tv),...f,layoutId:E6(f)},{isStatic:_}=y,E=p6(f),A=r(f,_);if(!_&&Zy){w6();const C=x6(y);p=C.MeasureLayout,E.visualElement=_6(a,A,y,e,C.ProjectionNode)}return w.jsxs(_d.Provider,{value:E,children:[p&&E.visualElement?w.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,f,y6(A,E.visualElement,m),A,_,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=M.forwardRef(l);return c[g6]=a,c}function E6({layoutId:t}){const e=M.useContext(Xy).id;return e&&t!==void 0?e+"-"+t:t}function w6(t,e){M.useContext(VA).strict}function x6(t){const{drag:e,layout:n}=Xo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ac={};function S6(t){for(const e in t)ac[e]=t[e],av(e)&&(ac[e].isCSSVariable=!0)}function FA(t,{layout:e,layoutId:n}){return ul.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ac[t]||t==="opacity")}const A6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R6=ll.length;function C6(t,e,n){let r="",a=!0;for(let l=0;l<R6;l++){const c=ll[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=DA(f,vv[c]);if(!m){a=!1;const y=A6[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Sv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(ul.has(m)){c=!0;continue}else if(av(m)){a[m]=p;continue}else{const y=DA(p,vv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(e.transform||(c||n?r.transform=C6(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HA(t,e,n){for(const r in e)!hn(e[r])&&!FA(r,n)&&(t[r]=e[r])}function I6({transformTemplate:t},e){return M.useMemo(()=>{const n=Av();return Sv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function D6(t,e){const n=t.style||{},r={};return HA(r,n,t),Object.assign(r,I6(t,e)),r}function N6(t,e){const n={},r=D6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const P6={offset:"stroke-dashoffset",array:"stroke-dasharray"},M6={offset:"strokeDashoffset",array:"strokeDasharray"};function O6(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?P6:M6;t[l.offset]=Se.transform(-r);const c=Se.transform(e),f=Se.transform(n);t[l.array]=`${c} ${f}`}function qA(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(Sv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&O6(_,a,l,c,!1)}const GA=()=>({...Av(),attrs:{}}),KA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k6(t,e,n,r){const a=M.useMemo(()=>{const l=GA();return qA(l,e,KA(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};HA(l,t.style,t),a.style={...l,...a.style}}return a}const V6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rv(t){return typeof t!="string"||t.includes("-")?!1:!!(V6.indexOf(t)>-1||/[A-Z]/u.test(t))}function L6(t=!1){return(n,r,a,{latestValues:l},c)=>{const m=(Rv(n)?k6:N6)(r,l,c,n),p=f6(r,typeof n=="string",t),y=n!==M.Fragment?{...p,...m,ref:a}:{},{children:_}=r,E=M.useMemo(()=>hn(_)?_.get():_,[_]);return M.createElement(n,{...y,children:E})}}function rw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Cv(t,e,n,r){if(typeof e=="function"){const[a,l]=rw(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=rw(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function wf(t){return hn(t)?t.get():t}function j6({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:U6(n,r,a,t),renderState:e()}}const $A=t=>(e,n)=>{const r=M.useContext(_d),a=M.useContext(vd),l=()=>j6(t,e,r,a);return n?l():Wy(l)};function U6(t,e,n,r){const a={},l=r(t,{});for(const E in l)a[E]=wf(l[E]);let{initial:c,animate:f}=t;const m=Td(t),p=jA(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!bd(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const C=Cv(t,E[A]);if(C){const{transitionEnd:N,transition:D,...V}=C;for(const $ in V){let B=V[$];if(Array.isArray(B)){const oe=y?B.length-1:0;B=B[oe]}B!==null&&(a[$]=B)}for(const $ in N)a[$]=N[$]}}}return a}function Iv(t,e,n){var l;const{style:r}=t,a={};for(const c in r)(hn(r[c])||e.style&&hn(e.style[c])||FA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const z6={useVisualState:$A({scrapeMotionValuesFromProps:Iv,createRenderState:Av})};function YA(t,e,n){const r=Iv(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=ll.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const B6={useVisualState:$A({scrapeMotionValuesFromProps:YA,createRenderState:GA})};function F6(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Rv(r)?B6:z6,preloadedFeatures:t,useRender:L6(a),createVisualElement:e,Component:r};return T6(c)}}function oc(t,e,n){const r=t.getProps();return Cv(r,e,n!==void 0?n:r.custom,t)}const zg=t=>Array.isArray(t);function H6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qo(n))}function q6(t){return zg(t)?t[t.length-1]||0:t}function G6(t,e){const n=oc(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=q6(l[c]);H6(t,c,f)}}function K6(t){return!!(hn(t)&&t.add)}function Bg(t,e){const n=t.getValue("willChange");if(K6(n))return n.add(e);if(!n&&Ir.WillChange){const r=new Ir.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function QA(t){return t.props[UA]}const $6=t=>t!==null;function Y6(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter($6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Q6={type:"spring",stiffness:500,damping:25,restSpeed:10},X6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W6={type:"keyframes",duration:.8},Z6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J6=(t,{keyframes:e})=>e.length>2?W6:ul.has(t)?t.startsWith("scale")?X6(e[1]):Q6:Z6;function eL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Dv=(t,e,n,r={},a,l)=>c=>{const f=yv(r,t)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-zi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};eL(f)||Object.assign(y,J6(t,y)),y.duration&&(y.duration=zi(y.duration)),y.repeatDelay&&(y.repeatDelay=zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const E=Y6(y.keyframes,f);if(E!==void 0){ft.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new mv(y):new O3(y)};function tL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XA(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(l=r);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||p&&tL(p,y))continue;const A={delay:n,...yv(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===C&&!A.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const V=QA(t);if(V){const $=window.MotionHandoffAnimation(V,y,ft);$!==null&&(A.startTime=$,N=!0)}}Bg(t,y),_.start(Dv(y,_,E,t.shouldReduceMotion&&SA.has(y)?{type:!1}:A,t,N));const D=_.animation;D&&m.push(D)}return c&&Promise.all(m).then(()=>{ft.update(()=>{c&&G6(t,c)})}),m}function Fg(t,e,n={}){var m;const r=oc(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(XA(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return nL(t,e,y+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function nL(t,e,n=0,r=0,a=1,l){const c=[],f=(t.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(t.variantChildren).sort(iL).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(Fg(p,e,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function iL(t,e){return t.sortNodePosition(e)}function rL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Fg(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Fg(t,e,n);else{const a=typeof e=="function"?oc(t,e,n.custom):e;r=Promise.all(XA(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function WA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const sL=wv.length;function ZA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sL;n++){const r=wv[n],a=t.props[r];(sc(a)||a===!1)&&(e[r]=a)}return e}const aL=[...Ev].reverse(),oL=Ev.length;function lL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rL(t,n,r)))}function uL(t){let e=lL(t),n=sw(),r=!0;const a=m=>(p,y)=>{var E;const _=oc(t,y,m==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:A,transitionEnd:C,...N}=_;p={...p,...N,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=ZA(t.parent)||{},_=[],E=new Set;let A={},C=1/0;for(let D=0;D<oL;D++){const V=aL[D],$=n[V],B=p[V]!==void 0?p[V]:y[V],oe=sc(B),Z=V===m?$.isActive:null;Z===!1&&(C=D);let le=B===y[V]&&B!==p[V]&&oe;if(le&&r&&t.manuallyAnimateOnMount&&(le=!1),$.protectedKeys={...A},!$.isActive&&Z===null||!B&&!$.prevProp||bd(B)||typeof B=="boolean")continue;const O=cL($.prevProp,B);let S=O||V===m&&$.isActive&&!le&&oe||D>C&&oe,I=!1;const L=Array.isArray(B)?B:[B];let z=L.reduce(a(V),{});Z===!1&&(z={});const{prevResolvedValues:F={}}=$,k={...F,...z},at=ae=>{S=!0,E.has(ae)&&(I=!0,E.delete(ae)),$.needsAnimating[ae]=!0;const te=t.getValue(ae);te&&(te.liveStyle=!1)};for(const ae in k){const te=z[ae],Oe=F[ae];if(A.hasOwnProperty(ae))continue;let j=!1;zg(te)&&zg(Oe)?j=!WA(te,Oe):j=te!==Oe,j?te!=null?at(ae):E.add(ae):te!==void 0&&E.has(ae)?at(ae):$.protectedKeys[ae]=!0}$.prevProp=B,$.prevResolvedValues=z,$.isActive&&(A={...A,...z}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(le&&O)||I)&&_.push(...L.map(ae=>({animation:ae,options:{type:V}})))}if(E.size){const D={};if(typeof p.initial!="boolean"){const V=oc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);V&&V.transition&&(D.transition=V.transition)}E.forEach(V=>{const $=t.getBaseTarget(V),B=t.getValue(V);B&&(B.liveStyle=!0),D[V]=$??null}),_.push({animation:D})}let N=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=sw(),r=!0}}}function cL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WA(e,t):!1}function da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sw(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class Ds{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hL extends Ds{constructor(e){super(e),e.animationState||(e.animationState=uL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let fL=0;class dL extends Ds{constructor(){super(...arguments),this.id=fL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mL={animation:{Feature:hL},exit:{Feature:dL}};function lc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xc(t){return{point:{x:t.pageX,y:t.pageY}}}const pL=t=>e=>bv(e)&&t(e,xc(e));function zu(t,e,n,r){return lc(t,e,pL(n),r)}function JA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const eR=1e-4,vL=1-eR,_L=1+eR,tR=.01,bL=0-tR,TL=0+tR;function _n(t){return t.max-t.min}function EL(t,e,n){return Math.abs(t-e)<=n}function aw(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vL&&t.scale<=_L||isNaN(t.scale))&&(t.scale=1),(t.translate>=bL&&t.translate<=TL||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,r){aw(t.x,e.x,n.x,r?r.originX:void 0),aw(t.y,e.y,n.y,r?r.originY:void 0)}function ow(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function wL(t,e,n){ow(t.x,e.x,n.x),ow(t.y,e.y,n.y)}function lw(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function Fu(t,e,n){lw(t.x,e.x,n.x),lw(t.y,e.y,n.y)}const uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:uw(),y:uw()}),cw=()=>({min:0,max:0}),Et=()=>({x:cw(),y:cw()});function ei(t){return[t("x"),t("y")]}function Kp(t){return t===void 0||t===1}function Hg({scale:t,scaleX:e,scaleY:n}){return!Kp(t)||!Kp(e)||!Kp(n)}function ga(t){return Hg(t)||nR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nR(t){return hw(t.x)||hw(t.y)}function hw(t){return t&&t!=="0%"}function Xf(t,e,n){const r=t-n,a=e*r;return n+a}function fw(t,e,n,r,a){return a!==void 0&&(t=Xf(t,a,r)),Xf(t,n,r)+e}function qg(t,e=0,n=1,r,a){t.min=fw(t.min,e,n,r,a),t.max=fw(t.max,e,n,r,a)}function iR(t,{x:e,y:n}){qg(t.x,e.translate,e.scale,e.originPoint),qg(t.y,n.translate,n.scale,n.originPoint)}const dw=.999999999999,mw=1.0000000000001;function xL(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,iR(t,c)),r&&ga(l.latestValues)&&Vo(t,l.latestValues))}e.x<mw&&e.x>dw&&(e.x=1),e.y<mw&&e.y>dw&&(e.y=1)}function ko(t,e){t.min=t.min+e,t.max=t.max+e}function pw(t,e,n,r,a=.5){const l=ht(t.min,t.max,a);qg(t,e,n,l,r)}function Vo(t,e){pw(t.x,e.x,e.scaleX,e.scale,e.originX),pw(t.y,e.y,e.scaleY,e.scale,e.originY)}function rR(t,e){return JA(yL(t.getBoundingClientRect(),e))}function SL(t,e,n){const r=rR(t,n),{scroll:a}=e;return a&&(ko(r.x,a.offset.x),ko(r.y,a.offset.y)),r}const sR=({current:t})=>t?t.ownerDocument.defaultView:null,gw=(t,e)=>Math.abs(t-e);function AL(t,e){const n=gw(t.x,e.x),r=gw(t.y,e.y);return Math.sqrt(n**2+r**2)}class aR{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Yp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=AL(_.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:C}=_,{timestamp:N}=Jt;this.history.push({...C,timestamp:N});const{onStart:D,onMove:V}=this.handlers;E||(D&&D(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=$p(E,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:A,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Yp(_.type==="pointercancel"?this.lastMoveEventInfo:$p(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,D),C&&C(_,D)},!bv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=xc(e),f=$p(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Jt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Yp(f,this.history)),this.removeListeners=Tc(zu(this.contextWindow,"pointermove",this.handlePointerMove),zu(this.contextWindow,"pointerup",this.handlePointerUp),zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),As(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yp({point:t},e){return{point:t,delta:yw(t,oR(e)),offset:yw(t,RL(e)),velocity:CL(e,.1)}}function RL(t){return t[0]}function oR(t){return t[t.length-1]}function CL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=oR(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>zi(e)));)n--;if(!r)return{x:0,y:0};const l=Bi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function IL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function vw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DL(t,{top:e,left:n,bottom:r,right:a}){return{x:vw(t.x,n,a),y:vw(t.y,e,r)}}function _w(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NL(t,e){return{x:_w(t.x,e.x),y:_w(t.y,e.y)}}function PL(t,e){let n=.5;const r=_n(t),a=_n(e);return a>r?n=tc(e.min,e.max-r,t.min):r>a&&(n=tc(t.min,t.max-a,e.min)),Cr(0,1,n)}function ML(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gg=.35;function OL(t=Gg){return t===!1?t=0:t===!0&&(t=Gg),{x:bw(t,"left","right"),y:bw(t,"top","bottom")}}function bw(t,e,n){return{min:Tw(t,e),max:Tw(t,n)}}function Tw(t,e){return typeof t=="number"?t:t[e]||0}const kL=new WeakMap;class VL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:A,onDragStart:C}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=X3(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(D=>{let V=this.getAxisMotionValue(D).get()||0;if(Fi.test(V)){const{projection:$}=this.visualElement;if($&&$.layout){const B=$.layout.layoutBox[D];B&&(V=_n(B)*(parseFloat(V)/100))}}this.originPoint[D]=V}),C&&ft.postRender(()=>C(y,_)),Bg(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:C,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=_;if(A&&this.currentDirection===null){this.currentDirection=LL(D),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),N&&N(y,_)},f=(y,_)=>this.stop(y,_),m=()=>ei(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new aR(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:sR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=IL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Mo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=DL(r.layoutBox,e):this.constraints=!1,this.elastic=OL(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ei(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ML(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=SL(r,a.root,this.visualElement.getTransformPagePoint());let c=NL(a.layout.layoutBox,l);if(n){const f=n(gL(c));this.hasMutatedConstraints=!!f,f&&(c=JA(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ei(y=>{if(!of(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bg(this.visualElement,e),r.start(Dv(e,r,0,n,this.visualElement,!1))}stopAnimation(){ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ei(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ei(n=>{const{drag:r}=this.getProps();if(!of(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ei(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=PL({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ei(c=>{if(!of(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ht(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;kL.set(this.visualElement,this);const e=this.visualElement.current,n=zu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Mo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(r);const c=lc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ei(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Gg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jL extends Ds{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new VL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ew=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class UL extends Ds{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new aR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ew(e),onStart:Ew(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=zu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ww(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=ww(t,e.target.x),r=ww(t,e.target.y);return`${n}% ${r}%`}},zL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Rs.parse(t);if(a.length>5)return r;const l=Rs.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ht(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class BL extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;S6(FL),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_v.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lR(t){const[e,n]=kA(),r=M.useContext(Xy);return w.jsx(BL,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(zA),isPresent:e,safeToRemove:n})}const FL={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:zL};function HL(t,e,n){const r=hn(t)?t:Qo(t);return r.start(Dv("",r,e,n)),r.animation}const qL=(t,e)=>t.depth-e.depth;class GL{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){ev(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qL),this.isDirty=!1,this.children.forEach(e)}}function KL(t,e){const n=An.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(As(r),t(l-e))};return ft.setup(r,!0),()=>As(r)}const uR=["TopLeft","TopRight","BottomLeft","BottomRight"],$L=uR.length,xw=t=>typeof t=="string"?parseFloat(t):t,Sw=t=>typeof t=="number"||Se.test(t);function YL(t,e,n,r,a,l){a?(t.opacity=ht(0,n.opacity??1,QL(r)),t.opacityExit=ht(e.opacity??1,0,XL(r))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,r));for(let c=0;c<$L;c++){const f=`border${uR[c]}Radius`;let m=Aw(e,f),p=Aw(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Sw(m)===Sw(p)?(t[f]=Math.max(ht(xw(m),xw(p),r),0),(Fi.test(p)||Fi.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function Aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QL=cR(0,.5,nA),XL=cR(.5,.95,ii);function cR(t,e,n){return r=>r<t?0:r>e?1:n(tc(t,e,r))}function Rw(t,e){t.min=e.min,t.max=e.max}function Jn(t,e){Rw(t.x,e.x),Rw(t.y,e.y)}function Cw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Iw(t,e,n,r,a){return t-=e,t=Xf(t,1/n,r),a!==void 0&&(t=Xf(t,1/a,r)),t}function WL(t,e=0,n=1,r=.5,a,l=t,c=t){if(Fi.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ht(l.min,l.max,r);t===l&&(f-=e),t.min=Iw(t.min,e,n,f,a),t.max=Iw(t.max,e,n,f,a)}function Dw(t,e,[n,r,a],l,c){WL(t,e[n],e[r],e[a],e.scale,l,c)}const ZL=["x","scaleX","originX"],JL=["y","scaleY","originY"];function Nw(t,e,n,r){Dw(t.x,e,ZL,n?n.x:void 0,r?r.x:void 0),Dw(t.y,e,JL,n?n.y:void 0,r?r.y:void 0)}function Pw(t){return t.translate===0&&t.scale===1}function hR(t){return Pw(t.x)&&Pw(t.y)}function Mw(t,e){return t.min===e.min&&t.max===e.max}function ej(t,e){return Mw(t.x,e.x)&&Mw(t.y,e.y)}function Ow(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fR(t,e){return Ow(t.x,e.x)&&Ow(t.y,e.y)}function kw(t){return _n(t.x)/_n(t.y)}function Vw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class tj{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(ev(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nj(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),C&&(r+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Qp=["","X","Y","Z"],ij={visibility:"hidden"},rj=1e3;let sj=0;function Xp(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function dR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&dR(r)}function mR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=sj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lj),this.nodes.forEach(dj),this.nodes.forEach(mj),this.nodes.forEach(uj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new GL)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new iv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=OA(c)&&!n6(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=KL(_,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(jw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||_j,{onLayoutAnimationStart:N,onLayoutAnimationComplete:D}=p.getProps(),V=!this.targetLayout||!fR(this.targetLayout,A),$=!_&&E;if(this.options.layoutRoot||this.resumeFrom||$||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...yv(C,"layout"),onPlay:N,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,$)}else _||jw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lw);return}this.isUpdating||this.nodes.forEach(hj),this.isUpdating=!1,this.nodes.forEach(fj),this.nodes.forEach(aj),this.nodes.forEach(oj),this.clearAllSnapshots();const f=An.now();Jt.delta=Cr(0,1e3/60,f-Jt.timestamp),Jt.timestamp=f,Jt.isProcessing=!0,Bp.update.process(Jt),Bp.preRender.process(Jt),Bp.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cj),this.sharedNodes.forEach(gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!hR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ga(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),bj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Et();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Tj))){const{scroll:y}=this.root;y&&(ko(f.x,y.offset.x),ko(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Et();if(Jn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Jn(f,c),ko(f.x,_.offset.x),ko(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Et();Jn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ga(y.latestValues)&&Vo(m,y.latestValues)}return ga(this.latestValues)&&Vo(m,this.latestValues),m}removeTransform(c){const f=Et();Jn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ga(p.latestValues))continue;Hg(p.latestValues)&&p.updateSnapshot();const y=Et(),_=p.measurePageBox();Jn(y,_),Nw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ga(this.latestValues)&&Nw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Fu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),iR(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Fu(this.relativeTargetOrigin,this.target,A.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||nR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Jn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;xL(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Et());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cw(this.prevProjectionDelta.x,this.projectionDelta.x),Cw(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Vw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Et(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,N=A!==C,D=this.getStack(),V=!D||D.members.length<=1,$=!!(N&&!V&&this.options.crossfade===!0&&!this.path.some(vj));this.animationProgress=0;let B;this.mixTargetDelta=oe=>{const Z=oe/1e3;Uw(_.x,c.x,Z),Uw(_.y,c.y,Z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yj(this.relativeTarget,this.relativeTargetOrigin,E,Z),B&&ej(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Et()),Jn(B,this.relativeTarget)),N&&(this.animationValues=y,YL(y,p,this.latestValues,Z,$,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=HL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&pR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Et();const _=_n(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=_n(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Jn(f,m),Vo(f,y),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new tj),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Xp("z",c,p,this.animationValues);for(let y=0;y<Qp.length;y++)Xp(`rotate${Qp[y]}`,c,p,this.animationValues),Xp(`skew${Qp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ij;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=wf(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=wf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=nj(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:E}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in ac){if(y[A]===void 0)continue;const{correct:C,applyTo:N,isCSSVariable:D}=ac[A],V=f.transform==="none"?y[A]:C(y[A],p);if(N){const $=N.length;for(let B=0;B<$;B++)f[N[B]]=V}else D?this.options.visualElement.renderState.vars[A]=V:f[A]=V}return this.options.layoutId&&(f.pointerEvents=p===this?wf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Lw),this.root.sharedNodes.clear()}}}function aj(t){t.updateLayout()}function oj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ei(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],A=_n(E);E.min=r[_].min,E.max=E.min+A}):pR(l,e.layoutBox,r)&&ei(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],A=_n(r[_]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const f=Oo();Bu(f,r,e.layoutBox);const m=Oo();c?Bu(m,t.applyTransform(a,!0),e.measuredBox):Bu(m,r,e.layoutBox);const p=!hR(f);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const C=Et();Fu(C,e.layoutBox,E.layoutBox);const N=Et();Fu(N,r,A.layoutBox),fR(C,N)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cj(t){t.clearSnapshot()}function Lw(t){t.clearMeasurements()}function hj(t){t.isLayoutDirty=!1}function fj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dj(t){t.resolveTargetDelta()}function mj(t){t.calcProjection()}function pj(t){t.resetSkewAndRotation()}function gj(t){t.removeLeadSnapshot()}function Uw(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zw(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function yj(t,e,n,r){zw(t.x,e.x,n.x,r),zw(t.y,e.y,n.y,r)}function vj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _j={duration:.45,ease:[.4,0,.1,1]},Bw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fw=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:ii;function Hw(t){t.min=Fw(t.min),t.max=Fw(t.max)}function bj(t){Hw(t.x),Hw(t.y)}function pR(t,e,n){return t==="position"||t==="preserve-aspect"&&!EL(kw(e),kw(n),.2)}function Tj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ej=mR({attachResizeListener:(t,e)=>lc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},gR=mR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wp.current){const t=new Ej({});t.mount(window),t.setOptions({layoutScroll:!0}),Wp.current=t}return Wp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wj={pan:{Feature:UL},drag:{Feature:jL,ProjectionNode:gR,MeasureLayout:lR}};function qw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ft.postRender(()=>l(e,xc(e)))}class xj extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=W3(e,(n,r)=>(qw(this.node,r,"Start"),a=>qw(this.node,a,"End"))))}unmount(){}}class Sj extends Ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tc(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ft.postRender(()=>l(e,xc(e)))}class Aj extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=t6(e,(n,r)=>(Gw(this.node,r,"Start"),(a,{success:l})=>Gw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kg=new WeakMap,Zp=new WeakMap,Rj=t=>{const e=Kg.get(t.target);e&&e(t)},Cj=t=>{t.forEach(Rj)};function Ij({root:t,...e}){const n=t||document;Zp.has(n)||Zp.set(n,{});const r=Zp.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(Cj,{root:t,...e})),r[a]}function Dj(t,e,n){const r=Ij(e);return Kg.set(t,n),r.observe(t),()=>{Kg.delete(t),r.unobserve(t)}}const Nj={some:0,all:1};class Pj extends Ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Nj[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return Dj(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Mj(e,n))&&this.startObserver()}unmount(){}}function Mj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Oj={inView:{Feature:Pj},tap:{Feature:Aj},focus:{Feature:Sj},hover:{Feature:xj}},kj={layout:{ProjectionNode:gR,MeasureLayout:lR}},$g={current:null},yR={current:!1};function Vj(){if(yR.current=!0,!!Zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$g.current=t.matches;t.addListener(e),e()}else $g.current=!1}const Lj=new WeakMap;function jj(t,e,n){for(const r in e){const a=e[r],l=n[r];if(hn(a))t.addValue(r,a);else if(hn(l))t.addValue(r,Qo(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,Qo(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=An.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Td(n),this.isVariantNode=jA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];m[E]!==void 0&&hn(A)&&A.set(m[E],!1)}}mount(e){this.current=e,Lj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yR.current||Vj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$g.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ul.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xo){const n=Xo[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Kw.length;r++){const a=Kw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=jj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Qo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KS(r)||YS(r))?r=parseFloat(r):!r6(r)&&Rs.test(n)&&(r=IA(e,n)),this.setBaseTarget(e,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Cv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vR extends Uj{constructor(){super(...arguments),this.KeyframeResolver=K3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _R(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}function zj(t){return window.getComputedStyle(t)}class Bj extends vR{constructor(){super(...arguments),this.type="html",this.renderInstance=_R}readValueFromInstance(e,n){var r;if(ul.has(n))return(r=this.projection)!=null&&r.isProjecting?Og(n):h3(e,n);{const a=zj(e),l=(av(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rR(e,n)}build(e,n,r){Sv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Iv(e,n,r)}}const bR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fj(t,e,n,r){_R(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(bR.has(a)?a:xv(a),e.attrs[a])}class Hj extends vR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ul.has(n)){const r=CA(n);return r&&r.default||0}return n=bR.has(n)?n:xv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YA(e,n,r)}build(e,n,r){qA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){Fj(e,n,r,a)}mount(e){this.isSVGTag=KA(e.tagName),super.mount(e)}}const qj=(t,e)=>Rv(t)?new Hj(e):new Bj(e,{allowProjection:t!==M.Fragment}),Gj=F6({...mL,...Oj,...wj,...kj},qj),St=d6(Gj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$j=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$w=t=>{const e=$j(t);return e.charAt(0).toUpperCase()+e.slice(1)},TR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Yj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},m)=>M.createElement("svg",{ref:m,...Qj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TR("lucide",a),...!l&&!Yj(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>M.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=(t,e)=>{const n=M.forwardRef(({className:r,...a},l)=>M.createElement(Xj,{ref:l,iconNode:e,className:TR(`lucide-${Kj($w(t))}`,`lucide-${t}`,r),...a}));return n.displayName=$w(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yw=dn("arrow-left",Wj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jj=dn("arrow-right",Zj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ER=dn("circle-x",e9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n9=dn("eye",t9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],r9=dn("layout-dashboard",i9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nv=dn("loader-circle",s9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],o9=dn("log-out",a9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M5 12h14",key:"1ays0h"}]],u9=dn("minus",l9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],h9=dn("package",c9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],d9=dn("plus",f9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p9=dn("settings",m9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],wR=dn("shopping-bag",g9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xR=dn("shopping-cart",y9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SR=dn("square-pen",v9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Pv=dn("trash-2",_9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],T9=dn("users",b9),Qw=[{src:"/1.png",alt:"Elegant Product Image 1"},{src:"/2.png",alt:"Elegant Product Image 2"},{src:"/3.png",alt:"Elegant Product Image 3"},{src:"/4.png",alt:"Elegant Product Image 4"}];function E9(){const{addToCart:t}=M.useContext(al),e=[{id:"01",name:"Product 1",price:29.99,image:"one.jpeg"},{id:"02",name:"Product 2",price:49.99,image:"two.jpeg"},{id:"03",name:"Product 3",price:19.99,image:"three.jpeg"}],n=M.useRef(null),r=M.useRef(null),a=M.useRef(null),l=M.useRef(null),[c,f]=M.useState(0);M.useEffect(()=>{const p=setInterval(()=>{f(y=>(y+1)%Qw.length)},5e3);return()=>clearInterval(p)},[]),M.useEffect(()=>{const p=()=>{if(n.current&&r.current&&a.current){const y=window.scrollY;r.current.style.transform=`translateY(${y*.3}px) scale(${1+y*1e-4})`,a.current.style.transform=`translateY(${y*.15}px)`}};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),M.useEffect(()=>{const y=setInterval(()=>{document.querySelectorAll(".floating-shape").forEach(E=>{const C=(parseFloat(E.getAttribute("data-rotation"))||0)+.5;E.style.transform=`rotate(${C}deg)`,E.setAttribute("data-rotation",C)})},50);return()=>clearInterval(y)},[]);const m=Qw[c];return w.jsxs("div",{children:[w.jsxs("section",{ref:n,className:"relative text-white text-center py-56 px-4 overflow-hidden",style:{top:"10px",paddingTop:"400px",right:"60px",width:"1500px"},children:[w.jsx("div",{ref:r,className:"absolute inset-0 z-0",children:w.jsx(rc,{initial:!1,children:w.jsx(St.img,{src:m.src,alt:m.alt,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5,ease:"easeInOut"},className:"absolute inset-0 w-full h-full object-contain bg-center"},m.src)})}),w.jsx("div",{ref:a,className:"container mx-auto relative z-20",children:w.jsx(St.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeInOut",delay:.4},className:"text-xl lg:text-2xl mb-16 text-gray-300 max-w-4xl mx-auto"})}),w.jsx(rc,{children:[{x:-150,y:100,size:100,bg:"rgba(166, 124, 0, 0.3)",rotate:10},{x:180,y:-120,size:140,bg:"rgba(224, 224, 224, 0.2)",rotate:30},{x:-250,y:-180,size:80,bg:"rgba(0, 188, 212, 0.2)",rotate:-20},{x:300,y:150,size:120,bg:"rgba(255, 255, 255, 0.1)",rotate:5},{x:0,y:-250,size:90,bg:"rgba(100, 100, 100, 0.3)",rotate:-15},{x:-300,y:200,size:110,bg:"rgba(255, 255, 255, 0.15)",rotate:25}].map((p,y)=>w.jsx(St.div,{initial:{opacity:0,x:p.x,y:p.y,rotate:p.rotate,scale:.5},animate:{opacity:1,x:p.x+Math.random()*60-30,y:p.y+Math.random()*60-30,scale:1},transition:{duration:6,repeat:1/0,repeatType:"mirror",ease:"easeInOut",delay:y*.7},exit:{opacity:0,scale:.2},className:"absolute rounded-full floating-shape",style:{width:p.size,height:p.size,backgroundColor:p.bg,filter:"blur(18px)"}},y))})]}),w.jsxs("div",{ref:l,className:"py-16 px-4 md:px-10 relative overflow-hidden bg-gray-950",children:[w.jsx("h2",{className:"text-4xl font-bold mb-12 text-center text-gray-100 relative after:content-[''] after:absolute after:left-1/2 after:-bottom-2 after:-translate-x-1/2 after:w-20 after:h-1 after:bg-blue-400 after:rounded-full",children:"Featured Products"}),w.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 relative z-10",children:e.map(p=>w.jsxs("div",{className:"group flex flex-col h-full",children:[w.jsx($t,{to:`/products/${p.id}`,className:"block flex-grow",children:w.jsxs("div",{className:`border p-6 rounded-lg shadow-xl hover:shadow-2xl transition-all duration-300\r
                             bg-white/5 backdrop-blur-md hover:scale-[1.02] border-purple-500/10 cursor-pointer`,children:[w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:p.image,alt:p.name,className:"w-full mb-4 rounded-lg shadow-md transition-all duration-300 group-hover:scale-105 "}),w.jsx("h3",{className:"text-xl font-bold text-white mb-2 transition-colors duration-300 group-hover:text-purple-300",children:p.name})]}),w.jsxs("p",{className:"text-gray-300 mb-4",children:["$",p.price.toFixed(2)]})]})}),w.jsxs("button",{onClick:y=>{y.stopPropagation(),t(p)},className:`mt-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-full\r
                           hover:from-blue-600 hover:to-purple-700 transition-all duration-300\r
                           shadow-lg hover:shadow-blue-500/50 font-semibold text-lg w-full flex items-center justify-center gap-3\r
                           hover:translate-y-[-2px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75`,children:["Add to Cart",w.jsx(Jj,{className:"ml-2 w-5 h-5"})]})]},p.id))})]})]})}function AR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=AR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function w9(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=AR(t))&&(r&&(r+=" "),r+=e);return r}const Mv="-",x9=t=>{const e=A9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const f=c.split(Mv);return f[0]===""&&f.length!==1&&f.shift(),RR(f,e)||S9(c)},getConflictingClassGroupIds:(c,f)=>{const m=n[c]||[];return f&&r[c]?[...m,...r[c]]:m}}},RR=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?RR(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(Mv);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},Xw=/^\[(.+)\]$/,S9=t=>{if(Xw.test(t)){const e=Xw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},A9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)Yg(n[a],r,a,e);return r},Yg=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Ww(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(R9(a)){Yg(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{Yg(c,Ww(e,l),n,r)})})},Ww=(t,e)=>{let n=t;return e.split(Mv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},R9=t=>t.isThemeGetter,C9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},Qg="!",Xg=":",I9=Xg.length,D9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,f=0,m=0,p;for(let C=0;C<a.length;C++){let N=a[C];if(c===0&&f===0){if(N===Xg){l.push(a.slice(m,C)),m=C+I9;continue}if(N==="/"){p=C;continue}}N==="["?c++:N==="]"?c--:N==="("?f++:N===")"&&f--}const y=l.length===0?a:a.substring(m),_=N9(y),E=_!==y,A=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:A}};if(e){const a=e+Xg,l=r;r=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},N9=t=>t.endsWith(Qg)?t.substring(0,t.length-1):t.startsWith(Qg)?t.substring(1):t,P9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},M9=t=>({cache:C9(t.cacheSize),parseClassName:D9(t),sortModifiers:P9(t),...x9(t)}),O9=/\s+/,k9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=t.trim().split(O9);let m="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:_,modifiers:E,hasImportantModifier:A,baseClassName:C,maybePostfixModifierPosition:N}=n(y);if(_){m=y+(m.length>0?" "+m:m);continue}let D=!!N,V=r(D?C.substring(0,N):C);if(!V){if(!D){m=y+(m.length>0?" "+m:m);continue}if(V=r(C),!V){m=y+(m.length>0?" "+m:m);continue}D=!1}const $=l(E).join(":"),B=A?$+Qg:$,oe=B+V;if(c.includes(oe))continue;c.push(oe);const Z=a(V,D);for(let le=0;le<Z.length;++le){const O=Z[le];c.push(B+O)}m=y+(m.length>0?" "+m:m)}return m};function V9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CR(e))&&(r&&(r+=" "),r+=n);return r}const CR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CR(t[r]))&&(n&&(n+=" "),n+=e);return n};function L9(t,...e){let n,r,a,l=c;function c(m){const p=e.reduce((y,_)=>_(y),t());return n=M9(p),r=n.cache.get,a=n.cache.set,l=f,f(m)}function f(m){const p=r(m);if(p)return p;const y=k9(m,n);return a(m,y),y}return function(){return l(V9.apply(null,arguments))}}const Lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,j9=/^\d+\/\d+$/,U9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,F9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,So=t=>j9.test(t),Pe=t=>!!t&&!Number.isNaN(Number(t)),ls=t=>!!t&&Number.isInteger(Number(t)),Jp=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),yr=t=>U9.test(t),q9=()=>!0,G9=t=>z9.test(t)&&!B9.test(t),NR=()=>!1,K9=t=>F9.test(t),$9=t=>H9.test(t),Y9=t=>!pe(t)&&!ge(t),Q9=t=>cl(t,OR,NR),pe=t=>IR.test(t),ma=t=>cl(t,kR,G9),eg=t=>cl(t,eU,Pe),Zw=t=>cl(t,PR,NR),X9=t=>cl(t,MR,$9),lf=t=>cl(t,VR,K9),ge=t=>DR.test(t),Su=t=>hl(t,kR),W9=t=>hl(t,tU),Jw=t=>hl(t,PR),Z9=t=>hl(t,OR),J9=t=>hl(t,MR),uf=t=>hl(t,VR,!0),cl=(t,e,n)=>{const r=IR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},hl=(t,e,n=!1)=>{const r=DR.exec(t);return r?r[1]?e(r[1]):n:!1},PR=t=>t==="position"||t==="percentage",MR=t=>t==="image"||t==="url",OR=t=>t==="length"||t==="size"||t==="bg-size",kR=t=>t==="length",eU=t=>t==="number",tU=t=>t==="family-name",VR=t=>t==="shadow",nU=()=>{const t=Lt("color"),e=Lt("font"),n=Lt("text"),r=Lt("font-weight"),a=Lt("tracking"),l=Lt("leading"),c=Lt("breakpoint"),f=Lt("container"),m=Lt("spacing"),p=Lt("radius"),y=Lt("shadow"),_=Lt("inset-shadow"),E=Lt("text-shadow"),A=Lt("drop-shadow"),C=Lt("blur"),N=Lt("perspective"),D=Lt("aspect"),V=Lt("ease"),$=Lt("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...oe(),ge,pe],le=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],S=()=>[ge,pe,m],I=()=>[So,"full","auto",...S()],L=()=>[ls,"none","subgrid",ge,pe],z=()=>["auto",{span:["full",ls,ge,pe]},ls,ge,pe],F=()=>[ls,"auto",ge,pe],k=()=>["auto","min","max","fr",ge,pe],at=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$e=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...S()],ae=()=>[So,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],te=()=>[t,ge,pe],Oe=()=>[...oe(),Jw,Zw,{position:[ge,pe]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",Z9,Q9,{size:[ge,pe]}],he=()=>[Jp,Su,ma],se=()=>["","none","full",p,ge,pe],de=()=>["",Pe,Su,ma],Ie=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ve=()=>[Pe,Jp,Jw,Zw],Xe=()=>["","none",C,ge,pe],mn=()=>["none",Pe,ge,pe],Rn=()=>["none",Pe,ge,pe],Cn=()=>[Pe,ge,pe],Un=()=>[So,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yr],breakpoint:[yr],color:[q9],container:[yr],"drop-shadow":[yr],ease:["in","out","in-out"],font:[Y9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yr],shadow:[yr],spacing:["px",Pe],text:[yr],"text-shadow":[yr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",So,pe,ge,D]}],container:["container"],columns:[{columns:[Pe,pe,ge,f]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",ge,pe]}],basis:[{basis:[So,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,So,"auto","initial","none",pe]}],grow:[{grow:["",Pe,ge,pe]}],shrink:[{shrink:["",Pe,ge,pe]}],order:[{order:[ls,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...at(),"normal"]}],"justify-items":[{"justify-items":[...$e(),"normal"]}],"justify-self":[{"justify-self":["auto",...$e()]}],"align-content":[{content:["normal",...at()]}],"align-items":[{items:[...$e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$e(),{baseline:["","last"]}]}],"place-content":[{"place-content":at()}],"place-items":[{"place-items":[...$e(),"baseline"]}],"place-self":[{"place-self":["auto",...$e()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[f,"screen",...ae()]}],"min-w":[{"min-w":[f,"screen","none",...ae()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,Su,ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jp,pe]}],"font-family":[{font:[W9,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,pe]}],"line-clamp":[{"line-clamp":[Pe,"none",ge,eg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ge,ma]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Pe,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Oe()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,ge,pe],radial:["",ge,pe],conic:[ls,ge,pe]},J9,X9]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ge,pe]}],"outline-w":[{outline:["",Pe,Su,ma]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",y,uf,lf]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",_,uf,lf]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Pe,ma]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",E,uf,lf]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Pe,ge,pe]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ve()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Ve()}],"mask-image-t-to-pos":[{"mask-t-to":Ve()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Ve()}],"mask-image-r-to-pos":[{"mask-r-to":Ve()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Ve()}],"mask-image-b-to-pos":[{"mask-b-to":Ve()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Ve()}],"mask-image-l-to-pos":[{"mask-l-to":Ve()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Ve()}],"mask-image-x-to-pos":[{"mask-x-to":Ve()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Ve()}],"mask-image-y-to-pos":[{"mask-y-to":Ve()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ve()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ve()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Oe()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:Xe()}],brightness:[{brightness:[Pe,ge,pe]}],contrast:[{contrast:[Pe,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",A,uf,lf]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Pe,ge,pe]}],"hue-rotate":[{"hue-rotate":[Pe,ge,pe]}],invert:[{invert:["",Pe,ge,pe]}],saturate:[{saturate:[Pe,ge,pe]}],sepia:[{sepia:["",Pe,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ge,pe]}],ease:[{ease:["linear","initial",V,ge,pe]}],delay:[{delay:[Pe,ge,pe]}],animate:[{animate:["none",$,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ge,pe]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:mn()}],"rotate-x":[{"rotate-x":mn()}],"rotate-y":[{"rotate-y":mn()}],"rotate-z":[{"rotate-z":mn()}],scale:[{scale:Rn()}],"scale-x":[{"scale-x":Rn()}],"scale-y":[{"scale-y":Rn()}],"scale-z":[{"scale-z":Rn()}],"scale-3d":["scale-3d"],skew:[{skew:Cn()}],"skew-x":[{"skew-x":Cn()}],"skew-y":[{"skew-y":Cn()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Un()}],"translate-x":[{"translate-x":Un()}],"translate-y":[{"translate-y":Un()}],"translate-z":[{"translate-z":Un()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Pe,Su,ma,eg]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iU=L9(nU);function LR(...t){return iU(w9(t))}const Sn=br.forwardRef(({variant:t="default",size:e="default",className:n,children:r,asChild:a=!1,...l},c)=>{const f=LR("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",t==="default"&&"bg-primary text-primary-foreground hover:bg-primary/90",t==="destructive"&&"bg-destructive text-destructive-foreground hover:bg-destructive/90",t==="outline"&&"border border-input bg-background hover:bg-accent hover:text-accent-foreground",t==="secondary"&&"bg-secondary text-secondary-foreground hover:bg-secondary/80",t==="ghost"&&"hover:bg-accent hover:text-accent-foreground",t==="link"&&"text-primary hover:underline",e==="default"&&"px-4 py-2",e==="sm"&&"px-3 py-1.5 text-xs",e==="lg"&&"px-6 py-3 text-base",e==="icon"&&"h-9 w-9 p-0",n);if(a){const m=l.as;return delete l.as,br.createElement(m,{ref:c,...l,className:f},r)}return w.jsx("button",{ref:c,className:f,...l,children:r})});Sn.displayName="Button";function rU(){const{cart:t,removeFromCart:e,updateQuantity:n}=M.useContext(al),r=ed(),a=t.reduce((c,f)=>c+f.price*f.quantity,0),l=()=>{r("/checkout")};return!t||t.length===0?w.jsxs("div",{className:"pt-32 p-10 flex flex-col items-center justify-center min-h-[calc(100vh-100px)] bg-gray-50",children:[w.jsx(wR,{className:"w-24 h-24 text-gray-400 mb-6"}),w.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-3",children:"Your Cart is Empty"}),w.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added anything to your cart yet."}),w.jsx(Sn,{onClick:()=>r("/"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-colors duration-200",children:"Start Shopping"})]}):w.jsx("div",{className:"pt-24 p-4 md:p-10 bg-gray-50 min-h-screen",children:w.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 md:p-10 rounded-xl shadow-lg border border-gray-100",children:[w.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-10 text-center",children:"Your Shopping Cart"}),w.jsx("div",{className:"flex flex-col gap-6",children:t.map(c=>w.jsxs("div",{className:`flex flex-col md:flex-row items-center justify-between\r
                         border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md\r
                         transition-shadow duration-200 bg-white`,children:[w.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto mb-4 md:mb-0",children:[w.jsx("img",{src:c.image,alt:c.name,className:"w-24 h-24 object-cover rounded-md border border-gray-100 shadow-sm"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800",children:c.name}),w.jsxs("p",{className:"text-gray-600 text-lg mt-1",children:["$",c.price.toFixed(2)]}),w.jsxs("div",{className:"flex items-center mt-3",children:[w.jsx("button",{onClick:()=>n(c.id,c.quantity-1),disabled:c.quantity===1,className:`p-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-md\r
                                 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":"Decrease quantity",children:w.jsx(u9,{size:18})}),w.jsx("span",{className:"px-4 text-lg font-medium text-gray-800",children:c.quantity}),w.jsx("button",{onClick:()=>n(c.id,c.quantity+1),className:`p-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-md\r
                                 transition-colors duration-200`,"aria-label":"Increase quantity",children:w.jsx(d9,{size:18})})]})]})]}),w.jsxs("div",{className:"text-right flex flex-col items-end md:items-end w-full md:w-auto",children:[w.jsxs("p",{className:"font-extrabold text-xl md:text-2xl text-gray-900 mb-2",children:["$",(c.price*c.quantity).toFixed(2)]}),w.jsxs("button",{onClick:()=>e(c.id),className:`text-red-600 hover:text-red-800 text-sm font-medium\r
                             transition-colors duration-200 flex items-center gap-1`,"aria-label":"Remove item from cart",children:[w.jsx(Pv,{size:16})," Remove"]})]})]},c.id))}),w.jsxs("div",{className:`bg-gray-50 p-6 md:p-8 rounded-lg border border-gray-200 mt-10\r
                        flex flex-col items-end gap-6 shadow-inner`,children:[w.jsxs("h3",{className:"text-3xl font-extrabold text-gray-900",children:["Total: $",a.toFixed(2)]}),w.jsxs(Sn,{onClick:l,className:`bg-gradient-to-r from-purple-600 to-pink-600 text-white\r
                       hover:from-purple-700 hover:to-pink-700 transition-all duration-300\r
                       shadow-lg hover:shadow-purple-500/50 font-semibold text-lg py-3 px-8\r
                       rounded-full flex items-center gap-3 transform hover:scale-105`,children:[w.jsx(xR,{className:"w-6 h-6"}),"Proceed to Checkout"]})]})]})})}var jR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ex=br.createContext&&br.createContext(jR),sU=["attr","size","title"];function aU(t,e){if(t==null)return{};var n=oU(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(n),!0).forEach(function(r){lU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lU(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=cU(t,"string");return typeof e=="symbol"?e:e+""}function cU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UR(t){return t&&t.map((e,n)=>br.createElement(e.tag,Zf({key:n},e.attr),UR(e.child)))}function Sc(t){return e=>br.createElement(hU,Wf({attr:Zf({},t.attr)},e),UR(t.child))}function hU(t){var e=n=>{var{attr:r,size:a,title:l}=t,c=aU(t,sU),f=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),br.createElement("svg",Wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:Zf(Zf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&br.createElement("title",null,l),t.children)};return ex!==void 0?br.createElement(ex.Consumer,null,n=>e(n)):e(jR)}function fU(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function dU(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function mU(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function pU({onOpenLoginModal:t,firebaseReady:e}){const{cart:n}=M.useContext(al),[r,a]=M.useState(!1),[l,c]=M.useState(""),[f,m]=M.useState([]),p=M.useRef(null),y=M.useRef(null),_=[{id:"01",name:"Product 1",price:29.99,image:"one.jpeg",description:"This is the description for Product 1.  It is a very good product.",category:"Electronics"},{id:"02",name:"Product 2",price:49.99,image:"two.jpeg",description:"This is the description for Product 2.  It is another great product.",category:"Clothing"},{id:"03",name:"Product 3",price:19.99,image:"three.jpeg",description:"This is the description for Product 3.  You will love this product.",category:"Home Goods"},{id:"04",name:"Product 4",price:19.99,image:"three.jpeg",description:"This is the description for Product 4.  You will love this product.",category:"Home Goods"},{id:"05",name:"Product 5",price:19.99,image:"three.jpeg",description:"This is the description for Product 5.  You will love this product.",category:"Home Goods"}],E=(n==null?void 0:n.reduce((C,N)=>C+N.quantity,0))??0;M.useEffect(()=>{r&&p.current&&p.current.focus()},[r]),M.useEffect(()=>{if(l){const C=_.filter(N=>N.name.toLowerCase().includes(l.toLowerCase()));m(C)}else m([])},[l]);const A=()=>{a(!r),r&&(c(""),m([]))};return M.useEffect(()=>{y.current&&(r?y.current.style.marginRight="220px":y.current.style.marginRight="0px",y.current.style.transition="margin-right 0.3s ease")},[r]),w.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 flex items-center justify-between p-6 bg-white shadow-md",style:{fontFamily:"'Poppins', sans-serif"},children:[w.jsx("div",{className:"text-2xl font-bold",style:{fontFamily:"'Mr Dafoe', cursive"},children:"N.Allen"}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs(St.div,{ref:y,className:"flex items-center space-x-6 h-10",style:{marginRight:r?"220px":"0px",transition:"margin-right 0.3s ease"},children:[w.jsx($t,{to:"/",className:"text-gray-600 hover:text-black",style:{lineHeight:"2.5rem"},children:"Home"}),w.jsx($t,{to:"/products",className:"text-gray-600 hover:text-black",style:{lineHeight:"2.5rem"},children:"Products"}),w.jsx(St.div,{className:e?"cursor-pointer":"cursor-not-allowed opacity-50",onClick:e?t:null,whileHover:e?{scale:1.1}:{},whileTap:e?{scale:.9}:{},children:w.jsx(mU,{size:24,className:"text-gray-600 hover:text-black"})}),w.jsxs($t,{to:"/cart",className:"text-gray-600 hover:text-black flex items-center relative",style:{lineHeight:"2.5rem"},children:[w.jsx(dU,{className:"mr-1",size:24}),E>0&&w.jsx("div",{className:"absolute top-0 right-0 bg-red-500 text-white rounded-full min-w-[20px] h-5 flex items-center justify-center px-1 text-xs font-medium transform translate-x-1/2 -translate-y-1/2 shadow-md",children:E})]})]}),w.jsxs("div",{className:"relative flex items-center",children:[w.jsx(St.div,{className:"cursor-pointer",onClick:A,whileHover:{scale:1.1},whileTap:{scale:.9},children:w.jsx(fU,{size:24,className:"text-gray-600 hover:text-black"})}),w.jsx(rc,{children:r&&w.jsxs(St.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:222},exit:{opacity:0,width:0},transition:{duration:.3,ease:"easeInOut"},className:"absolute top-full right-0 mt-2 bg-white rounded-md shadow-lg border border-gray-200 z-10",style:{top:"-10px",height:"30px",right:"30px"},children:[w.jsx("input",{ref:p,type:"text",value:l,onChange:C=>c(C.target.value),className:"h-full w-full px-4 text-gray-800 placeholder:text-gray-400 focus:outline-none",placeholder:"Search products..."}),f.length>0&&w.jsx("ul",{className:"max-h-60 overflow-y-auto",children:f.map(C=>w.jsx("li",{children:w.jsx($t,{to:`/products/${C.id}`,className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:()=>a(!1),children:C.name})},C.id))})]})})]})]})]})}const gU=()=>{const t=ed(),{cart:e}=M.useContext(al),[n,r]=M.useState({name:"",email:"",phone:""}),[a,l]=M.useState({address:"",city:"",postalCode:"",country:""}),[c,f]=M.useState("creditCard"),m=e.reduce((C,N)=>C+N.price*N.quantity,0).toFixed(2),p=5 .toFixed(2),y=(parseFloat(m)+parseFloat(p)).toFixed(2),_=C=>{const{name:N,value:D}=C.target;N.startsWith("customer")?r(V=>({...V,[N.substring(8).toLowerCase()]:D})):N.startsWith("shipping")&&l(V=>({...V,[N.substring(8).toLowerCase()]:D}))},E=C=>{f(C.target.value)},A=C=>{C.preventDefault(),console.log("Order submitted:",{customerInfo:n,shippingInfo:a,paymentMethod:c,cart:e,totalAmount:y}),t("/order-confirmation")};return!e||e.length===0?w.jsx("div",{className:"py-16 bg-gray-100 min-h-screen flex justify-center items-center",children:w.jsxs("div",{className:"bg-white shadow-md rounded-md p-8 text-center",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your cart is empty."}),w.jsx(Sn,{onClick:()=>t("/cart"),children:"Go to Cart"})]})}):w.jsx("div",{className:"py-16 bg-gray-100 min-h-screen",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Checkout"}),w.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"bg-white shadow-md rounded-md p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Customer Information"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"customerName",className:"block text-gray-600 text-sm font-medium mb-2",children:"Name"}),w.jsx("input",{type:"text",id:"customerName",name:"customerName",value:n.name,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"customerEmail",className:"block text-gray-600 text-sm font-medium mb-2",children:"Email"}),w.jsx("input",{type:"email",id:"customerEmail",name:"customerEmail",value:n.email,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"customerPhone",className:"block text-gray-600 text-sm font-medium mb-2",children:"Phone"}),w.jsx("input",{type:"tel",id:"customerPhone",name:"customerPhone",value:n.phone,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500"})]})]}),w.jsxs("div",{className:"bg-white shadow-md rounded-md p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Shipping Information"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"shippingAddress",className:"block text-gray-600 text-sm font-medium mb-2",children:"Address"}),w.jsx("input",{type:"text",id:"shippingAddress",name:"shippingAddress",value:a.address,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"shippingCity",className:"block text-gray-600 text-sm font-medium mb-2",children:"City"}),w.jsx("input",{type:"text",id:"shippingCity",name:"shippingCity",value:a.city,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500",required:!0})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"shippingPostalCode",className:"block text-gray-600 text-sm font-medium mb-2",children:"Postal Code"}),w.jsx("input",{type:"text",id:"shippingPostalCode",name:"shippingPostalCode",value:a.postalCode,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"shippingCountry",className:"block text-gray-600 text-sm font-medium mb-2",children:"Country"}),w.jsx("input",{type:"text",id:"shippingCountry",name:"shippingCountry",value:a.country,onChange:_,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:border-purple-500",required:!0})]})]})]}),w.jsxs("div",{className:"bg-white shadow-md rounded-md p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Payment Options"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"Select Payment Method"}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"radio",id:"creditCard",name:"paymentMethod",value:"creditCard",checked:c==="creditCard",onChange:E,className:"form-radio h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),w.jsx("label",{htmlFor:"creditCard",className:"ml-2 text-gray-700",children:"Credit Card"})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"radio",id:"paypal",name:"paymentMethod",value:"paypal",checked:c==="paypal",onChange:E,className:"form-radio h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),w.jsx("label",{htmlFor:"paypal",className:"ml-2 text-gray-700",children:"PayPal"})]})]})]}),w.jsxs("div",{className:"mt-8 border-t pt-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Order Summary"}),w.jsxs("ul",{className:"space-y-3",children:[e.map(C=>w.jsxs("li",{className:"flex items-center justify-between text-gray-600",children:[w.jsxs("span",{children:[C.name," (",C.quantity,")"]}),w.jsxs("span",{className:"font-semibold",children:["$",(C.price*C.quantity).toFixed(2)]})]},C.id)),w.jsxs("li",{className:"flex items-center justify-between font-semibold text-gray-700 mt-4",children:[w.jsx("span",{children:"Subtotal"}),w.jsxs("span",{children:["$",m]})]}),w.jsxs("li",{className:"flex items-center justify-between font-semibold text-gray-700",children:[w.jsx("span",{children:"Shipping"}),w.jsxs("span",{children:["$",p]})]}),w.jsxs("li",{className:"flex items-center justify-between font-bold text-gray-800 text-lg mt-4",children:[w.jsx("span",{children:"Total"}),w.jsxs("span",{children:["$",y]})]})]}),w.jsx(Sn,{type:"submit",className:"w-full mt-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:"Place Order"})]})]})]})]})})},yU="/Ecommerce-website/assets/bg-pd1-1PHRGUsD.jpg",vU=()=>{const{productId:t}=J2(),{addToCart:e}=M.useContext(al),[n,r]=M.useState(null),[a,l]=M.useState(!0),[c,f]=M.useState(null),[m,p]=M.useState(1);if(M.useEffect(()=>{(async()=>{try{await new Promise(V=>setTimeout(V,500));const D=[{id:"01",name:"Product 1",price:29.99,image:"one.jpeg",description:"This is the description for Product 1. It is a very good product.",category:"Electronics"},{id:"02",name:"Product 2",price:49.99,image:"two.jpeg",description:"This is the description for Product 2. It is another great product.",category:"Clothing"},{id:"03",name:"Product 3",price:19.99,image:"three.jpeg",description:"This is the description for Product 3. You will love this product.",category:"Home Goods"}].find(V=>V.id===t);D?r(D):f("Product not found")}catch(N){f(N.message||"Failed to fetch product")}finally{l(!1)}})()},[t]),a)return w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx(Nv,{className:"animate-spin text-4xl text-purple-500"})});if(c)return w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-red-500",children:[w.jsx("p",{className:"text-xl mb-4",children:c}),w.jsx($t,{to:"/",children:w.jsxs(Sn,{variant:"outline",className:"mt-4",children:[w.jsx(Yw,{className:"mr-2 w-4 h-4"})," Back to Home"]})})]});if(!n)return null;const y=()=>{e({...n,quantity:m})},_=()=>{p(C=>C+1)},E=()=>{p(C=>Math.max(1,C-1))},A={minHeight:"100vh",backgroundImage:`url(${yU})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",position:"relative"};return w.jsxs("div",{style:A,children:[w.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(69, 9, 75, 0.74)",zIndex:1}}),w.jsx(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"container mx-auto p-8",style:{paddingTop:"100px",position:"relative",zIndex:2},children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 ",children:[w.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg border border-purple-500/10",children:w.jsx($t,{to:`/products/${t}`,"data-discover":"true",children:w.jsx(St.img,{src:n.image,alt:n.name,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"w-full h-auto object-cover cursor-pointer"})})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:n.name}),w.jsxs("p",{className:"text-gray-300 mb-4",children:["Category: ",n.category]}),w.jsxs("p",{className:"text-xl font-semibold mb-6 text-purple-300",children:["$",n.price.toFixed(2)]}),w.jsx("p",{className:"text-gray-200 mb-6",children:n.description}),w.jsxs("div",{className:"flex items-center mb-6",children:[w.jsx("span",{className:"mr-4 text-white font-medium",children:"Quantity:"}),w.jsxs("div",{className:"flex items-center",children:[w.jsx(Sn,{variant:"outline",size:"icon",onClick:E,disabled:m<=1,className:"text-white hover:bg-white/20 border-gray-700",children:"-"}),w.jsx("span",{className:"mx-2 text-white text-lg min-w-[2rem] text-center",children:m}),w.jsx(Sn,{variant:"outline",size:"icon",onClick:_,className:"text-white hover:bg-white/20 border-gray-700",children:"+"})]})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs(Sn,{onClick:y,className:LR("bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-3 rounded-full","hover:from-purple-600 hover:to-pink-600 transition-all duration-300","shadow-lg hover:shadow-purple-500/50 font-semibold text-lg flex items-center gap-2"),children:[w.jsx(xR,{className:"w-5 h-5"}),"Add to Cart"]}),w.jsx($t,{to:"/","data-discover":"true",children:w.jsxs(Sn,{variant:"outline",className:"text-white hover:bg-white/20 border-gray-700",children:[w.jsx(Yw,{className:"mr-2 w-4 h-4"})," Back"]})})]})]})]})})]})};var _U="firebase",bU="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(_U,bU,"app");const TU={apiKey:"AIzaSyBSiayLRxEU20uEiurLDvo32azQ5Epptfw",authDomain:"fir-register-94ff1.firebaseapp.com",projectId:"fir-register-94ff1",storageBucket:"fir-register-94ff1.firebasestorage.app",messagingSenderId:"424152751307",appId:"1:424152751307:web:01d46049a2be6f79ec8f4e"},zR=Rx(TU);console.log("firebase.js: Type of getAuth:",typeof f1);console.log("firebase.js: Type of getFirestore:",typeof NS);const wt=f1(zR),ln=NS(zR),EU=({isOpen:t,onClose:e,onLoginSuccess:n,onOpenRegisterModal:r})=>{const[a,l]=M.useState(""),[c,f]=M.useState(""),[m,p]=M.useState(""),[y,_]=M.useState(!1),E=async A=>{if(A.preventDefault(),p(""),_(!0),!wt||!ln){p("Firebase services not ready. Please try again in a moment."),_(!1),console.error("Firebase Auth or Firestore instance is null in LoginPage.handleLogin.");return}try{const N=(await DP(wt,a,c)).user;console.log("Successfully logged in user with Firebase Auth:",N);const D=qy(ln,"users",N.uid),V=await HS(D);let $="customer";V.exists()?($=V.data().role||"customer",console.log(`User role fetched from Firestore: ${$}`)):(console.warn(`User document not found in Firestore for UID: ${N.uid}. Assigning default role 'customer'.`),await setDoc(D,{email:N.email,role:"customer",createdAt:new Date})),n($),e()}catch(C){console.error("Firebase Login Error:",C.code,C.message),C.code==="auth/invalid-email"||C.code==="auth/user-not-found"||C.code==="auth/wrong-password"?p("Invalid email or password. Please check your credentials."):C.code==="auth/user-disabled"?p("Your account has been disabled. Please contact support."):C.code==="auth/too-many-requests"?p("Too many login attempts. Please try again later."):p("An unexpected error occurred during login. Please try again.")}finally{_(!1)}};return M.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?!wt||!ln?w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:w.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md flex flex-col items-center justify-center text-white",children:[w.jsx(Nv,{className:"animate-spin text-4xl text-purple-500 mb-4"}),w.jsx("p",{children:"Loading authentication services..."})]})}):w.jsx(rc,{children:t&&w.jsx(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:e,children:w.jsxs(St.div,{initial:{y:-50,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.8},transition:{type:"spring",stiffness:200,damping:20},className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md relative max-h-full overflow-y-auto custom-scrollbar",onClick:A=>A.stopPropagation(),children:[w.jsx("style",{children:`
                /* For Webkit browsers (Chrome, Safari, Edge) */
                .custom-scrollbar::-webkit-scrollbar {
                  width: 8px;
                }

                .custom-scrollbar::-webkit-scrollbar-track {
                  background: transparent;
                  border-radius: 10px;
                }

                .custom-scrollbar::-webkit-scrollbar-thumb {
                  background: #888;
                  border-radius: 10px;
                }

                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                  background: #aaa;
                }

                .custom-scrollbar::-webkit-scrollbar-button {
                  display: none;
                }

                /* For Firefox */
                .custom-scrollbar {
                  scrollbar-width: thin;
                  scrollbar-color: #888 transparent;
                }
              `}),w.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors duration-200","aria-label":"Close login form",children:w.jsx(ER,{size:28})}),w.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Login"}),w.jsxs("form",{onSubmit:E,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),w.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"your@example.com",value:a,onChange:A=>l(A.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-gray-300 text-sm font-medium mb-2",children:"Password"}),w.jsx("input",{type:"password",id:"password",className:"w-full px-4 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"********",value:c,onChange:A=>f(A.target.value),required:!0})]}),m&&w.jsx("p",{className:"text-red-400 text-sm text-center",children:m}),w.jsx(Sn,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-md font-semibold text-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-lg",disabled:y,children:y?"Logging in...":"Login"})]}),w.jsxs("p",{className:"text-center text-gray-400 text-sm mt-6",children:["Don't have an account? "," ",w.jsx($t,{to:"#",onClick:A=>{A.preventDefault(),e(),r()},className:"text-purple-400 hover:underline",children:"Register"})]})]})})}):null};function wU(t){return Sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function xU(t){return Sc({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const SU=({isOpen:t,onClose:e,onRegisterSuccess:n,onOpenLoginModal:r})=>{const[a,l]=M.useState(""),[c,f]=M.useState(""),[m,p]=M.useState(""),[y,_]=M.useState(""),[E,A]=M.useState(!1),C=async N=>{if(N.preventDefault(),_(""),A(!0),c!==m){_("Passwords do not match."),A(!1);return}if(!wt||!ln){_("Firebase services not ready. Please try again in a moment."),A(!1),console.error("Firebase Auth or Firestore instance is null in RegisterPage.handleRegister.");return}try{const V=(await IP(wt,a,c)).user;console.log("Successfully registered user with Firebase Auth:",V);const $=V.email==="admin@example.com"?"admin":"customer";await qS(qy(ln,"users",V.uid),{email:V.email,role:$,createdAt:new Date}),console.log(`User role (${$}) saved to Firestore for UID: ${V.uid}`),n(a),e()}catch(D){console.error("Firebase Registration Error:",D.code,D.message),D.code==="auth/email-already-in-use"?_("This email is already in use. Please try logging in or use a different email."):D.code==="auth/weak-password"?_("Password is too weak. Please use a stronger password (min 6 characters)."):D.code==="auth/invalid-email"?_("Invalid email format."):D.code==="auth/network-request-failed"?_("Network error. Please check your internet connection."):D.code==="auth/configuration-not-found"?_("Firebase authentication is not correctly configured for email/password. Please enable it in your Firebase project settings."):_("An unexpected error occurred during registration. Please try again.")}finally{A(!1)}};return M.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?!wt||!ln?w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:w.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md flex flex-col items-center justify-center text-white",children:[w.jsx(Nv,{className:"animate-spin text-4xl text-purple-500 mb-4"}),w.jsx("p",{children:"Loading authentication services..."})]})}):w.jsx(rc,{children:t&&w.jsx(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:e,children:w.jsxs(St.div,{initial:{y:-50,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.8},transition:{type:"spring",stiffness:200,damping:20},className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md relative max-h-full overflow-y-auto custom-scrollbar",onClick:N=>N.stopPropagation(),children:[w.jsx("style",{children:`
                /* For Webkit browsers (Chrome, Safari, Edge) */
                .custom-scrollbar::-webkit-scrollbar {
                  width: 8px;
                }

                .custom-scrollbar::-webkit-scrollbar-track {
                  background: transparent;
                  border-radius: 10px;
                }

                .custom-scrollbar::-webkit-scrollbar-thumb {
                  background: #888;
                  border-radius: 10px;
                }

                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                  background: #aaa;
                }

                .custom-scrollbar::-webkit-scrollbar-button {
                  display: none;
                }

                /* For Firefox */
                .custom-scrollbar {
                  scrollbar-width: thin;
                  scrollbar-color: #888 transparent;
                }
              `}),w.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors duration-200","aria-label":"Close registration form",children:w.jsx(ER,{size:28})}),w.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Register"}),w.jsxs("form",{onSubmit:C,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"register-email",className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),w.jsx("input",{type:"email",id:"register-email",className:"w-full px-4 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"your@example.com",value:a,onChange:N=>l(N.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"register-password",className:"block text-gray-300 text-sm font-medium mb-2",children:"Password"}),w.jsx("input",{type:"password",id:"register-password",className:"w-full px-4 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"********",value:c,onChange:N=>f(N.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirm-password",className:"block text-gray-300 text-sm font-medium mb-2",children:"Confirm Password"}),w.jsx("input",{type:"password",id:"confirm-password",className:"w-full px-4 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"********",value:m,onChange:N=>p(N.target.value),required:!0})]}),y&&w.jsx("p",{className:"text-red-400 text-sm text-center",children:y}),w.jsx(Sn,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-md font-semibold text-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-lg",disabled:E,children:E?"Registering...":"Register"})]}),w.jsxs("div",{className:"relative my-8",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("span",{className:"w-full border-t border-gray-700"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 bg-gray-800 text-gray-400",children:"Or continue with"})})]}),w.jsxs("div",{className:"flex flex-col space-y-3",children:[w.jsxs(Sn,{onClick:()=>alert("Google login clicked!"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md font-semibold flex items-center justify-center gap-2 shadow-lg",children:[w.jsx(xU,{size:20}),"Sign up with Google"]}),w.jsxs(Sn,{onClick:()=>alert("Facebook login clicked!"),className:"w-full bg-blue-800 hover:bg-blue-900 text-white px-6 py-3 rounded-md font-semibold flex items-center justify-center gap-2 shadow-lg",children:[w.jsx(wU,{size:20}),"Sign up with Facebook"]})]}),w.jsxs("p",{className:"text-center text-gray-400 text-sm mt-6",children:["Already have an account? "," ",w.jsx($t,{to:"#",onClick:N=>{N.preventDefault(),e(),r()},className:"text-purple-400 hover:underline",children:"Login"})]})]})})}):null},AU=({userRole:t,allowedRoles:e,children:n})=>t===null?w.jsx(sT,{to:"/",replace:!0}):e.includes(t)?n:(console.warn(`Unauthorized access attempt. User role: ${t}, Allowed roles: ${e.join(", ")}`),w.jsx(sT,{to:"/",replace:!0})),RU={hidden:{opacity:0,x:-100},visible:{opacity:1,x:0,transition:{duration:.5}}},Ao={hover:{scale:1.05,originX:0,color:"#a78bfa"},tap:{scale:.95}},CU=()=>w.jsxs(St.div,{className:"w-64 bg-gray-800 text-white p-6 shadow-lg fixed h-full border-r border-gray-700",variants:RU,initial:"hidden",animate:"visible",children:[w.jsx("div",{className:"mb-10 text-2xl font-bold text-purple-400",children:"Admin Panel"}),w.jsx("nav",{children:w.jsxs("ul",{children:[w.jsx(St.li,{variants:Ao,whileHover:"hover",whileTap:"tap",className:"mb-4",children:w.jsxs($t,{to:"/admin/dashboard",className:"flex items-center space-x-3 text-lg hover:text-purple-300 transition-colors duration-200",children:[w.jsx(r9,{className:"w-6 h-6"}),w.jsx("span",{children:"Dashboard"})]})}),w.jsx(St.li,{variants:Ao,whileHover:"hover",whileTap:"tap",className:"mb-4",children:w.jsxs($t,{to:"/admin/products",className:"flex items-center space-x-3 text-lg hover:text-purple-300 transition-colors duration-200",children:[w.jsx(h9,{className:"w-6 h-6"}),w.jsx("span",{children:"Products"})]})}),w.jsx(St.li,{variants:Ao,whileHover:"hover",whileTap:"tap",className:"mb-4",children:w.jsxs($t,{to:"/admin/orders",className:"flex items-center space-x-3 text-lg hover:text-purple-300 transition-colors duration-200",children:[w.jsx(wR,{className:"w-6 h-6"}),w.jsx("span",{children:"Orders"})]})}),w.jsx(St.li,{variants:Ao,whileHover:"hover",whileTap:"tap",className:"mb-4",children:w.jsxs($t,{to:"/admin/users",className:"flex items-center space-x-3 text-lg hover:text-purple-300 transition-colors duration-200",children:[w.jsx(T9,{className:"w-6 h-6"}),w.jsx("span",{children:"Users"})]})}),w.jsx(St.li,{variants:Ao,whileHover:"hover",whileTap:"tap",className:"mb-4",children:w.jsxs($t,{to:"/admin/settings",className:"flex items-center space-x-3 text-lg hover:text-purple-300 transition-colors duration-200",children:[w.jsx(p9,{className:"w-6 h-6"}),w.jsx("span",{children:"Settings"})]})})]})}),w.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:w.jsx(St.li,{variants:Ao,whileHover:"hover",whileTap:"tap",className:"mb-4 list-none",children:w.jsxs($t,{to:"/admin-logout",className:"flex items-center space-x-3 text-lg text-red-400 hover:text-red-300 transition-colors duration-200",children:[w.jsx(o9,{className:"w-6 h-6"}),w.jsx("span",{children:"Logout"})]})})})]}),IU=({children:t,db:e,auth:n,userId:r})=>w.jsxs("div",{className:"flex min-h-screen bg-gray-900 text-white",children:[w.jsx(CU,{}),w.jsx(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},className:"flex-1 p-8 pt-10 ml-64",children:t||w.jsx(hx,{context:{db:e,auth:n,userId:r}})})]}),DU=()=>w.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg shadow-xl border border-gray-700",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Admin Dashboard"}),w.jsx("p",{className:"text-gray-300",children:"Welcome to your admin panel. Here you'll see an overview of your store's performance."}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:[w.jsxs("div",{className:"bg-gray-700 p-5 rounded-lg shadow-md",children:[w.jsx("h3",{className:"text-xl font-semibold text-purple-300",children:"Total Products"}),w.jsx("p",{className:"text-4xl font-bold text-white mt-2",children:"120"})," "]}),w.jsxs("div",{className:"bg-gray-700 p-5 rounded-lg shadow-md",children:[w.jsx("h3",{className:"text-xl font-semibold text-pink-300",children:"Pending Orders"}),w.jsx("p",{className:"text-4xl font-bold text-white mt-2",children:"15"})," "]}),w.jsxs("div",{className:"bg-gray-700 p-5 rounded-lg shadow-md",children:[w.jsx("h3",{className:"text-xl font-semibold text-green-300",children:"New Users"}),w.jsx("p",{className:"text-4xl font-bold text-white mt-2",children:"30"})," "]})]})]}),NU=()=>w.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg shadow-xl border border-gray-700",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Product Management"}),w.jsx("p",{className:"text-gray-300",children:"Here you will manage all your products."}),w.jsx("button",{className:"mt-6 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200",children:"Add New Product"})]}),PU=()=>{const[t,e]=M.useState([{id:"ORD001",customerName:"Alice Johnson",orderDate:"2023-10-26",totalAmount:150.75,status:"Pending",items:[{productId:"01",name:"Luxury Sound Headphones",quantity:1}]},{id:"ORD002",customerName:"Bob Williams",orderDate:"2023-10-25",totalAmount:49.99,status:"Shipped",items:[{productId:"02",name:"Elegant Silk Scarf",quantity:1}]},{id:"ORD003",customerName:"Charlie Brown",orderDate:"2023-10-24",totalAmount:220,status:"Processing",items:[{productId:"01",name:"Luxury Sound Headphones",quantity:1},{productId:"03",name:"Artisan Ceramic Vase",quantity:2}]}]);M.useEffect(()=>{},[]);const n=c=>{switch(c){case"Pending":return"text-yellow-400 bg-yellow-900/20";case"Processing":return"text-blue-400 bg-blue-900/20";case"Shipped":return"text-green-400 bg-green-900/20";case"Delivered":return"text-purple-400 bg-purple-900/20";case"Cancelled":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-700/20"}},r=c=>{alert(`Viewing order: ${c}`)},a=c=>{alert(`Editing order: ${c}`)},l=c=>{window.confirm(`Are you sure you want to delete order ${c}?`)&&(e(t.filter(f=>f.id!==c)),alert(`Order ${c} deleted.`))};return w.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg shadow-xl border border-gray-700",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-gray-700 pb-4",children:"Order Management"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full bg-gray-700 rounded-lg overflow-hidden shadow-md",children:[w.jsx("thead",{className:"bg-gray-700/50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Order ID"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer Name"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Order Date"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total Amount"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-700",children:t.length>0?t.map(c=>w.jsxs("tr",{className:"hover:bg-gray-600 transition-colors duration-200",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:c.id}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:c.customerName}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:c.orderDate}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-300",children:["$",c.totalAmount.toFixed(2)]}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(c.status)}`,children:c.status})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-left text-sm font-medium",children:w.jsxs("div",{className:"flex space-x-3",children:[w.jsx("button",{onClick:()=>r(c.id),className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",title:"View Order",children:w.jsx(n9,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>a(c.id),className:"text-yellow-400 hover:text-yellow-300 transition-colors duration-200",title:"Edit Order",children:w.jsx(SR,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>l(c.id),className:"text-red-400 hover:text-red-300 transition-colors duration-200",title:"Delete Order",children:w.jsx(Pv,{className:"w-5 h-5"})})]})})]},c.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-400",children:"No orders found."})})})]})})]})},MU=()=>{const[t,e]=M.useState([{id:"USR001",email:"admin@example.com",role:"admin",status:"Active",lastLogin:"2023-10-26 10:30 AM"},{id:"USR002",email:"alice@example.com",role:"customer",status:"Active",lastLogin:"2023-10-25 02:15 PM"},{id:"USR003",email:"bob@example.com",role:"customer",status:"Inactive",lastLogin:"2023-09-10 09:00 AM"},{id:"USR004",email:"charlie@example.com",role:"customer",status:"Active",lastLogin:"2023-10-26 11:45 AM"}]);M.useEffect(()=>{},[]);const n=l=>{switch(l){case"Active":return"text-green-400 bg-green-900/20";case"Inactive":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-700/20"}},r=l=>{alert(`Editing user: ${l}`)},a=l=>{window.confirm(`Are you sure you want to delete user ${l}?`)&&(e(t.filter(c=>c.id!==l)),alert(`User ${l} deleted.`))};return w.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg shadow-xl border border-gray-700",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-gray-700 pb-4",children:"User Management"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full bg-gray-700 rounded-lg overflow-hidden shadow-md",children:[w.jsx("thead",{className:"bg-gray-700/50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User ID"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-700",children:t.length>0?t.map(l=>w.jsxs("tr",{className:"hover:bg-gray-600 transition-colors duration-200",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:l.id}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:l.email}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-300 capitalize",children:l.role}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(l.status)}`,children:l.status})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:l.lastLogin}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-left text-sm font-medium",children:w.jsxs("div",{className:"flex space-x-3",children:[w.jsx("button",{onClick:()=>r(l.id),className:"text-yellow-400 hover:text-yellow-300 transition-colors duration-200",title:"Edit User",children:w.jsx(SR,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>a(l.id),className:"text-red-400 hover:text-red-300 transition-colors duration-200",title:"Delete User",children:w.jsx(Pv,{className:"w-5 h-5"})})]})})]},l.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-400",children:"No users found."})})})]})})]})},OU=()=>w.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg shadow-xl border border-gray-700",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Admin Settings"}),w.jsx("p",{className:"text-gray-300",children:"Manage site-wide settings here."})]});function kU(){const[t,e]=M.useState(!1),[n,r]=M.useState(!1),[a,l]=M.useState(null),[c,f]=M.useState(null),[m,p]=M.useState(!1);M.useEffect(()=>{if(console.log("App useEffect: Running Firebase auth setup..."),console.log("App useEffect: Imported auth instance:",wt),console.log("App useEffect: Imported db instance:",ln),wt&&ln){console.log("App useEffect: Firebase Auth and Firestore instances are available. Setting up listener."),(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await CP(wt,__initial_auth_token),console.log("App useEffect: Signed in with custom token.")}catch(B){console.error("App useEffect: Error signing in with custom token:",B),B.code==="auth/admin-restricted-operation"&&console.error("Firebase Auth Error: Anonymous authentication might not be enabled in your Firebase project."),await CT(wt),console.log("App useEffect: Signed in anonymously due to custom token error.")}else try{await CT(wt),console.log("App useEffect: Signed in anonymously.")}catch(B){console.error("App useEffect: Error signing in anonymously:",B),B.code==="auth/admin-restricted-operation"&&console.error("Firebase Auth Error: Anonymous authentication might not be enabled in your Firebase project.")}})();const $=MP(wt,async B=>{if(B){f(B.uid);const oe=qy(ln,"users",B.uid),Z=await HS(oe);if(Z.exists()){const le=Z.data().role||"customer";l(le),console.log("App useEffect: Auth state changed. User ID:",B.uid,"Fetched Role:",le)}else console.warn(`User document not found in Firestore for UID: ${B.uid}. Assigning default role 'customer'.`),l("customer"),await qS(oe,{email:B.email,role:"customer",createdAt:new Date},{merge:!0})}else f(null),l(null),console.log("App useEffect: User signed out.");p(!0),console.log("App useEffect: firebaseReady set to true.")});return()=>$()}else console.error("App useEffect: Firebase Auth or Firestore instance is NOT available. Cannot set up auth listener or sign in. This might be a timing issue or firebase.js failed to initialize."),p(!0)},[wt,ln]);const y=()=>{m?(e(!0),r(!1)):console.warn("Attempted to open login modal before Firebase was ready.")},_=()=>{e(!1)},E=V=>{l(V),console.log(`User logged in with role: ${V}`),V==="admin"&&(window.location.hash="/admin/dashboard")},A=()=>{m?(r(!0),e(!1)):console.warn("Attempted to open register modal before Firebase was ready.")},C=()=>{r(!1)},N=V=>{console.log(`User registered: ${V}`),y()},D=t||n;return w.jsx(l4,{children:w.jsxs(jI,{children:[w.jsxs("div",{className:D?"filter blur-sm pointer-events-none":"",children:[w.jsx(pU,{onOpenLoginModal:y,firebaseReady:m}),w.jsxs(mI,{children:[w.jsxs(jn,{element:w.jsx(w.Fragment,{children:w.jsx(hx,{})}),children:[w.jsx(jn,{path:"/",element:w.jsx(E9,{})}),w.jsx(jn,{path:"/cart",element:w.jsx(rU,{})}),w.jsx(jn,{path:"/checkout",element:w.jsx(gU,{})}),w.jsx(jn,{path:"/products/:productId",element:w.jsx(vU,{})}),w.jsx(jn,{path:"/products",element:w.jsx("div",{className:"pt-32 p-10",children:"Products Page Coming Soon!"})})]}),w.jsxs(jn,{path:"/admin/*",element:w.jsx(AU,{userRole:a,allowedRoles:["admin"],children:w.jsx(IU,{db:ln,auth:wt,userId:c})}),children:[w.jsx(jn,{path:"dashboard",element:w.jsx(DU,{db:ln,auth:wt,userId:c})}),w.jsx(jn,{path:"products",element:w.jsx(NU,{db:ln,auth:wt,userId:c})}),w.jsx(jn,{path:"orders",element:w.jsx(PU,{db:ln,auth:wt,userId:c})}),w.jsx(jn,{path:"users",element:w.jsx(MU,{db:ln,auth:wt,userId:c})}),w.jsx(jn,{path:"settings",element:w.jsx(OU,{db:ln,auth:wt,userId:c})})]})]})]}),m?w.jsxs(w.Fragment,{children:[w.jsx(EU,{isOpen:t,onClose:_,onLoginSuccess:E,onOpenRegisterModal:A,auth:wt}),w.jsx(SU,{isOpen:n,onClose:C,onRegisterSuccess:N,onOpenLoginModal:y,auth:wt})]}):w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-90 text-white text-xl z-[200]",children:"Initializing Application..."})]})})}T2.createRoot(document.getElementById("root")).render(w.jsx(M.StrictMode,{children:w.jsx(kU,{})}));
